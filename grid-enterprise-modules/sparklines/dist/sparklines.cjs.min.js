/**
          * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.5
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/sparklines - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.5
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("@ag-grid-community/core"),n=require("@ag-grid-enterprise/core"),r=(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),i=function(){function t(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return t.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},t.prototype.range=function(t,e,n){var r,i=null===(r=this._rangeCallback)||void 0===r?void 0:r.call(this,t,e),o=this._encode(n?this.floor(t):this.ceil(t)),a=this._encode(n?this.ceil(e):this.floor(e));if(a<o)return[];for(var l=[],s=o;s<=a;s++){var u=this._decode(s);l.push(u)}return null==i||i(),l},t}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getOffset=function(t,e){var n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e},e.prototype.every=function(t,e){var n,r=this,o=0,a=(null!=e?e:{}).snapTo,l=void 0===a?"start":a;if("string"==typeof l){var s=o;n=function(e,n){var i="start"===l?e:n;return o=r.getOffset(i,t),function(){return o=s}}}else"number"==typeof l?o=this.getOffset(new Date(l),t):l instanceof Date&&(o=this.getOffset(l,t));return new i((function(e){var n=r._encode(e);return Math.floor((n-o)/t)}),(function(e){return r._decode(e*t+o)}),n)},e}(i);var a=new o((function(t){return t.getTime()}),(function(t){return new Date(t)}));new Date(0).getFullYear();var l=6e4*(new Date).getTimezoneOffset();var s=new o((function(t){return Math.floor((t.getTime()-l)/1e3)}),(function(t){return new Date(l+1e3*t)})),u=6e4*(new Date).getTimezoneOffset();var c=new o((function(t){return Math.floor((t.getTime()-u)/6e4)}),(function(t){return new Date(u+6e4*t)})),h=6e4*(new Date).getTimezoneOffset();var d=new o((function(t){return Math.floor((t.getTime()-h)/36e5)}),(function(t){return new Date(h+36e5*t)}));var p=new o((function(t){var e=6e4*t.getTimezoneOffset();return Math.floor((t.getTime()-e)/864e5)}),(function(t){var e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}));function f(t){var e=new Date(2023,0,1+t).getTime();return new o((function(t){var n=t.getTime();return Math.floor((n-e)/6048e5)}),(function(t){var n=new Date(e);return n.setDate(n.getDate()+7*t),n}))}var y=f(0);f(1),f(2),f(3),f(4),f(5),f(6);var v=new o((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)}));var g=new o((function(t){return t.getFullYear()}),(function(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}));new o((function(t){return Math.floor(t.getTime()/6e4)}),(function(t){return new Date(6e4*t)})),new o((function(t){return Math.floor(t.getTime()/36e5)}),(function(t){return new Date(36e5*t)})),new o((function(t){return Math.floor(t.getTime()/864e5)}),(function(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e})),new o((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){var e=Math.floor(t/12),n=t-12*e;return new Date(Date.UTC(e,n,1))})),new o((function(t){return t.getUTCFullYear()}),(function(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}));var m=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function b(){var t=navigator.userAgent;return!m.some((function(e){return e.test(t)}))}var x,w=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,r=t.width,i=void 0===r?600:r,o=t.height,a=void 0===o?300:o,l=t.domLayer,s=void 0!==l&&l,u=t.zIndex,c=void 0===u?0:u,h=t.name,d=void 0===h?void 0:h,p=t.overrideDevicePixelRatio,f=void 0===p?void 0:p;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=i,this.element.height=a,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var y=this.element.style;y.userSelect="none",y.display="block",s&&(y.position="absolute",y.zIndex=String(c),y.top="0",y.left="0",y.pointerEvents="none",y.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(f),this.resize(i,a)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(null!=t?t:"").trim()||"image";var n=this.getDataURL(e),r=this.document,i=r.createElement("a");i.href=n,i.download=t,i.style.display="none",r.body.appendChild(i),i.click(),r.body.removeChild(i)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=null!=e?e:window.devicePixelRatio;b()||(n=1),t.overrideScale(this.context,n),this._pixelRatio=n},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.element,r=this.context,i=this.pixelRatio;n.width=Math.round(t*i),n.height=Math.round(e*i),n.style.width=t+"px",n.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,n,r){var i=this.textMeasuringContext;return i.font=e,i.textBaseline=n,i.textAlign=r,i.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var r=n.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,r=n[e];if(r){var i=r[t];if(i)return i}else n[e]={};var o=this.svgText;o.style.font=e,o.textContent=t;var a=o.getBBox(),l={width:a.width,height:a.height};return n[e][t]=l,l},t.overrideScale=function(t,e){var n=0,r={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,r,i,o,a){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,r*e,i*e,o*e,a*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: "+n)}};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t["$"+i]||(t["$"+i]=t[i]),t[i]=r[i])},t.textSizeCache={},t}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},O=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var n=this,r=function(t,e){switch(t){case"top":n.y+=e;case"bottom":n.height-=e;break;case"left":n.x+=e;case"right":n.width-=e;break;case"vertical":n.y+=e,n.height-=2*e;break;case"horizontal":n.x+=e,n.width-=2*e;break;default:n.x+=e,n.width-=2*e,n.y+=e,n.height-=2*e}};return"number"==typeof t?r(e,t):Object.entries(t).forEach((function(t){var e=k(t,2),n=e[0],i=e[1];return r(n,i)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var n=S({},t);for(var r in n)n[r]*=-1;this.shrink(n)}return this},t.merge=function(e){var n=1/0,r=1/0,i=-1/0,o=-1/0;return e.forEach((function(t){t.x<n&&(n=t.x),t.y<r&&(r=t.y),t.x+t.width>i&&(i=t.x+t.width),t.y+t.height>o&&(o=t.y+t.height)})),new t(n,r,i-n,o-r)},t}(),D=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},C=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return Object.defineProperty(t.prototype,"e",{get:function(){return _([],D(this.elements))},enumerable:!1,configurable:!0}),t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,n){var r=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],s=t[1]*e[4]+t[3]*e[5]+t[5];(n=null!=n?n:t)[0]=r,n[1]=i,n[2]=o,n[3]=a,n[4]=l,n[5]=s},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-r*i);return new t([o*=s,-(r*=s),-(i*=s),n*=s,i*l-o*a,r*a-n*l])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-r*i);return n*=s,r*=s,i*=s,o*=s,t.setElements([o,-r,-i,n,i*l-o*a,r*a-n*l]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],l=1/(e*i-n*r);return e*=l,n*=l,r*=l,i*=l,t[0]=i,t[1]=-n,t[2]=-r,t[3]=e,t[4]=r*a-i*o,t[5]=n*o-e*a,this},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e){var n=this.elements,r=n[0],i=n[1],o=n[2],a=n[3],l=.5*t.width,s=.5*t.height,u=t.x+l,c=t.y+s,h=Math.abs(l*r)+Math.abs(s*o),d=Math.abs(l*i)+Math.abs(s*a);return e||(e=new O(0,0,0,0)),e.x=u*r+c*o+n[4]-h,e.y=u*i+c*a+n[5]-d,e.width=h+h,e.height=d+d,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,n,r,i,o,a){var l,s,u=D([0,0],2),c=u[0],h=u[1],d=e,p=n;1===d&&1===p?(l=0,s=0):(l=null==(null==a?void 0:a.scalingCenterX)?c:null==a?void 0:a.scalingCenterX,s=null==(null==a?void 0:a.scalingCenterY)?h:null==a?void 0:a.scalingCenterY);var f,y,v=r,g=Math.cos(v),m=Math.sin(v);0===v?(f=0,y=0):(f=null==(null==a?void 0:a.rotationCenterX)?c:null==a?void 0:a.rotationCenterX,y=null==(null==a?void 0:a.rotationCenterY)?h:null==a?void 0:a.rotationCenterY);var b=i,x=o,w=l*(1-d)-f,S=s*(1-p)-y;return t.setElements([g*d,m*d,-m*p,g*p,g*w-m*S+f+b,m*w+g*S+y+x]),t},t.fromContext=function(e){var n=e.getTransform();return new t([n.a,n.b,n.c,n.d,n.e,n.f])},t.instance=new t,t}(),M={};function E(t){var e,n=t.constructor,r=Object.prototype.hasOwnProperty.call(n,"className")?n.className:n.name;if(!r)throw new Error("The "+n+" is missing the 'className' property.");var i=(null!==(e=M[r])&&void 0!==e?e:0)+1;return M[r]=i,r+"-"+i}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(x||(x={}));var P=function(){try{return new Function("return true"),!0}catch(t){return!1}}();function N(t){var e=null!=t?t:{},n=e.changeCb,r=e.convertor;return function(e,i){var o="__"+i;e[i]||(P&&null==n&&null==r?function(t,e,n,r){var i=null!=r?r:{},o=i.redraw,a=void 0===o?x.TRIVIAL:o,l=i.type,s=void 0===l?"normal":l,u=i.checkDirtyOnAssignment,c=new Function("value","\n        const oldValue = this."+n+";\n        if (value !== oldValue) {\n            this."+n+" = value;\n            "+("normal"===s?"this.markDirty(this, "+a+");":"")+"\n            "+("transform"===s?"this.markDirtyTransform("+a+");":"")+"\n            "+("path"===s?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+a+"); }":"")+"\n            "+("font"===s?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+a+"); }":"")+"\n        }\n        "+(void 0!==u&&u?"if (value != null && value._dirty > "+x.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n"),h=new Function("return this."+n+";");Object.defineProperty(t,e,{set:c,get:h,enumerable:!0,configurable:!0})}(e,i,o,t):function(t,e,n,r){var i=null!=r?r:{},o=i.redraw,a=void 0===o?x.TRIVIAL:o,l=i.type,s=void 0===l?"normal":l,u=i.changeCb,c=i.convertor,h=i.checkDirtyOnAssignment,d=void 0!==h&&h;Object.defineProperty(t,e,{set:function(t){var e=this[n];(t=c?c(t):t)!==e&&(this[n]=t,"normal"===s&&this.markDirty(this,a),"transform"===s&&this.markDirtyTransform(a),"path"!==s||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,a)),"font"!==s||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,a)),u&&u(this)),d&&null!=t&&t._dirty>x.NONE&&this.markDirty(t,t._dirty)},get:function(){return this[n]},enumerable:!0,configurable:!0})}(e,i,o,t))}}var L,R=function(){function t(){this._dirty=x.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=x.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=x.NONE},t.prototype.isDirty=function(){return this._dirty>x.NONE},t}(),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},F=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};!function(t){t[t.All=0]="All",t[t.None=1]="None"}(L||(L={}));var B=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},z=function(t){function e(n){var r=(void 0===n?{}:n).isVirtual,i=t.call(this)||this;return i.serialNumber=e._nextSerialNumber++,i.id=E(i),i.tag=NaN,i.isContainerNode=!1,i._virtualChildren=[],i._children=[],i.childSet={},i.matrix=new C,i.inverseMatrix=new C,i.dirtyTransform=!1,i.scalingX=1,i.scalingY=1,i.scalingCenterX=null,i.scalingCenterY=null,i.rotationCenterX=null,i.rotationCenterY=null,i.rotation=0,i.translationX=0,i.translationY=0,i.visible=!0,i.dirtyZIndex=!1,i.zIndex=0,i.zIndexSubOrder=void 0,i.pointerEvents=L.All,i.isVirtual=null!=r&&r,i}return T(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,n,r,i;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var o=A(this._children),a=o.next();!a.done;a=o.next()){a.value._setLayerManager(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}try{for(var l=A(this._virtualChildren),s=l.next();!s.done;s=l.next()){s.value._setLayerManager(t)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t,e;if(0===this._virtualChildren.length)return this._children;var n=F([],j(this._children));try{for(var r=A(this._virtualChildren),i=r.next();!i.done;i=r.next()){var o=i.value;n.push.apply(n,F([],j(o.children)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtualChildren",{get:function(){return this._virtualChildren},enumerable:!1,configurable:!0}),e.prototype.hasVirtualChildren=function(){return this._virtualChildren.length>0},e.prototype.append=function(t){var e,n;Array.isArray(t)||(t=[t]);try{for(var r=A(t),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.layerManager)throw new Error(o+" already belongs to a scene: "+o.layerManager+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);o.isVirtual?this._virtualChildren.push(o):this._children.push(o),this.childSet[o.id]=!0,o._parent=this,o._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,x.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){var e,n=function(){throw new Error("The node to be removed is not a child of this node.")};(t.parent!==this&&n(),t.isVirtual)?((e=this._virtualChildren.indexOf(t))<0&&n(),this._virtualChildren.splice(e,1)):((e=this._children.indexOf(t))<0&&n(),this._children.splice(e,1));return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,x.MAJOR),t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=C.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this.dirtyTransform=!0,this.markDirty(this,x.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==L.None&&this.containsPoint(t,e)){var r=this.children;if(r.length>1e3)for(var i=r.length-1;i>=0;i--){var o=r[i];if(a=(null===(n=o.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(t,e))?o.pickNode(t,e):void 0)return a}else if(r.length)for(i=r.length-1;i>=0;i--){var a;if(a=r[i].pickNode(t,e))return a}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,n,r=t(this)?[this]:[];try{for(var i=A(this.children),o=i.next();!o.done;o=i.next()){var a=o.value.findNodes(t);a&&r.push.apply(r,F([],j(a)))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=C.flyweight(this.matrix),n=this.parent;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this.dirtyTransform){var t=this,e=t.matrix,n=t.scalingX,r=t.scalingY,i=t.rotation,o=t.translationX,a=t.translationY,l=t.scalingCenterX,s=t.scalingCenterY,u=t.rotationCenterX,c=t.rotationCenterY;C.updateTransformMatrix(e,n,r,i,o,a,{scalingCenterX:l,scalingCenterY:s,rotationCenterX:u,rotationCenterY:c}),e.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=x.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,r=e.y,i=e.width,o=e.height,a=this.transformPoint(n,r),l=this.transformPoint(n+i,r+o);t.clearRect(a.x,a.y,l.x-a.x,l.y-a.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=x.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,n,r,i,o=null!=t?t:{},a=o.force,l=void 0!==a&&a,s=o.recursive,u=void 0===s||s;if(this._dirty!==x.NONE||l){if(this._dirty=x.NONE,!1!==u)try{for(var c=A(this._virtualChildren),h=c.next();!h.done;h=c.next()){h.value.markClean({force:l})}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(!0===u)try{for(var d=A(this._children),p=d.next();!p.done;p=d.next()){p.value.markClean({force:l})}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n,r,i=1,o=this._dirty>=x.NONE||this.dirtyTransform?1:0,a=this.visible?1:0,l=function(t){var e=t.nodeCount,n=e.count,r=e.visibleCount,l=e.dirtyCount;i+=n,a+=r,o+=l};try{for(var s=A(this._children),u=s.next();!u.done;u=s.next()){l(u.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}try{for(var c=A(this._virtualChildren),h=c.next();!h.done;h=c.next()){l(h.value)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{count:i,visibleCount:a,dirtyCount:o}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,I([N({type:"transform"})],e.prototype,"scalingX",void 0),I([N({type:"transform"})],e.prototype,"scalingY",void 0),I([N({type:"transform"})],e.prototype,"scalingCenterX",void 0),I([N({type:"transform"})],e.prototype,"scalingCenterY",void 0),I([N({type:"transform"})],e.prototype,"rotationCenterX",void 0),I([N({type:"transform"})],e.prototype,"rotationCenterY",void 0),I([N({type:"transform"})],e.prototype,"rotation",void 0),I([N({type:"transform"})],e.prototype,"translationX",void 0),I([N({type:"transform"})],e.prototype,"translationY",void 0),I([N({redraw:x.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),I([N({redraw:x.TRIVIAL,changeCb:B})],e.prototype,"zIndex",void 0),I([N({redraw:x.TRIVIAL,changeCb:B})],e.prototype,"zIndexSubOrder",void 0),e}(R);function W(t,e){var n=0;return"number"==typeof t&&"number"==typeof e?n=t-e:"string"==typeof t&&"string"==typeof e?n=t.localeCompare(e):null==t&&null==e||(n=null==t?-1:null==e?1:String(t).localeCompare(String(e))),n}function G(t,e,n){var r=function(t){return"function"==typeof t?t():t};for(var i in t){var o=n(r(t[i]),r(e[i]));if(0!==o)return o}return 0}var X={};function K(t,e){X[e]||(t(),X[e]=!0)}var V,Y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},H=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},U={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,H([],Y(t)))},warn:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.warn.apply(console,H(["AG Charts - "+t],Y(e)))},error:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"object"==typeof t?console.error.apply(console,H(["AG Charts error",t],Y(e))):console.error.apply(console,H(["AG Charts - "+t],Y(e)))},warnOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];K((function(){return U.warn.apply(U,H([t],Y(e)))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];K((function(){return U.error.apply(U,H([t],Y(e)))}),"Logger.warn: "+t)}},Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},J=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},tt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},et=function(t){function e(e){var n,r=t.call(this,{isVirtual:null==e?void 0:e.isVirtual})||this;r.opts=e,r.opacity=1,r.lastBBox=void 0;var i=null!=e?e:{},o=i.zIndex,a=i.zIndexSubOrder;return r.isContainerNode=!0,void 0!==o&&(r.zIndex=o),void 0!==a&&(r.zIndexSubOrder=a),r.name=null===(n=r.opts)||void 0===n?void 0:n.name,r}return Z(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var n,r,i=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var o=null!==(r=this.opts)&&void 0!==r?r:{},a=o.zIndex,l=o.zIndexSubOrder,s=o.name;this.layer=e.addLayer({zIndex:a,zIndexSubOrder:l,name:s,getComputedOpacity:function(){return i.getComputedOpacity()},getVisibility:function(){return i.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,n=this;do{n instanceof e&&(t*=n.opacity)}while(n=n.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){if(void 0===n&&(n=x.TRIVIAL),this.isVirtual)t.prototype.markDirty.call(this,e,n);else{var r=n;(n<x.MINOR||null!=this.layer)&&(r=x.TRIVIAL),t.prototype.markDirty.call(this,e,n,r)}},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var n,r,i,o,a,l,s,u,c=this.opts,h=(void 0===c?{}:c).name,d=void 0===h?void 0:h,p=this._debug,f=(void 0===p?{}:p).consoleLog,y=void 0!==f&&f,v=this,g=v.dirty,m=v.dirtyZIndex,b=v.layer,w=v.children,S=v.clipRect,k=v.dirtyTransform,O=e.ctx,D=e.forceRender,_=e.clipBBox,C=e.resized,M=e.stats,E=O.getTransform(),P=g>=x.MINOR||m||C,N=P,L=!1;try{for(var R=$(w),T=R.next();!T.done;T=R.next()){var I=T.value;if(N||(N=null==I.layerManager&&I.dirty>=x.TRIVIAL),L||(L=null!=I.layerManager&&I.dirty>=x.TRIVIAL),N)break}}catch(t){n={error:t}}finally{try{T&&!T.done&&(r=R.return)&&r.call(R)}finally{if(n)throw n.error}}if(d&&y&&U.debug({name:d,group:this,isDirty:P,isChildDirty:N,dirtyTransform:k,renderCtx:e,forceRender:D}),k)D="dirtyTransform";else if(b){var A=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(A)||(D="dirtyTransform",this.lastBBox=A)}if(!(P||N||L||D)){if(d&&y&&M){var j=this.nodeCount;U.debug({name:d,result:"skipping",renderCtx:e,counts:j,group:this})}return b&&M&&(M.layersSkipped++,M.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var F=this.visible;if(b){if((O=b.context).save(),O.resetTransform(),"dirtyTransform"!==D&&(D=N||m),D&&b.clear(),_){var B=_.width,z=_.height,W=_.x,G=_.y;y&&U.debug({name:d,clipBBox:_,ctxTransform:O.getTransform(),renderCtx:e,group:this}),this.clipCtx(O,W,G,B,z)}O.setTransform(E)}else O.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(O),S){W=S.x,G=S.y,B=S.width,z=S.height;O.save(),y&&U.debug({name:d,clipRect:S,ctxTransform:O.getTransform(),renderCtx:e,group:this}),this.clipCtx(O,W,G,B,z),_=this.matrix.transformBBox(S)}var X=this.hasVirtualChildren();m?(this.sortChildren(w),"dirtyTransform"!==D&&(D=!0)):X&&this.sortChildren(w);var K=D!==e.forceRender||_!==e.clipBBox||O!==e.ctx?q(q({},e),{ctx:O,forceRender:D,clipBBox:_}):e,V=0;try{for(var Y=$(w),H=Y.next();!H.done;H=Y.next()){(I=H.value).visible&&F?D||I.dirty!==x.NONE?(O.save(),I.render(K),O.restore()):M&&(V+=I.nodeCount.count):(I.markClean(),M&&(V+=I.nodeCount.count))}}catch(t){i={error:t}}finally{try{H&&!H.done&&(o=Y.return)&&o.call(Y)}finally{if(i)throw i.error}}if(M&&(M.nodesSkipped+=V),t.prototype.render.call(this,e),S&&O.restore(),X)try{for(var Z=$(this.virtualChildren),J=Z.next();!J.done;J=Z.next()){(I=J.value).markClean({recursive:"virtual"})}}catch(t){a={error:t}}finally{try{J&&!J.done&&(l=Z.return)&&l.call(Z)}finally{if(a)throw a.error}}if(b&&(M&&M.layersRendered++,O.restore(),D&&b.snapshot(),null===(u=(s=b.context).verifyDepthZero)||void 0===u||u.call(s)),d&&y&&M){j=this.nodeCount;U.debug({name:d,result:"rendered",skipped:V,renderCtx:e,counts:j,group:this})}},e.prototype.sortChildren=function(t){this.dirtyZIndex=!1,t.sort((function(t,e){var n,r;return G(tt(tt([t.zIndex],Q(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.serialNumber]),tt(tt([e.zIndex],Q(null!==(r=e.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0])),[e.serialNumber]),W)}))},e.prototype.clipCtx=function(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n),t.lineTo(e+r,n+i),t.lineTo(e,n+i),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,n=-1/0,r=1/0,i=-1/0;return t.forEach((function(t){if(t.visible){var o=t.computeTransformedBBox();if(o){var a=o.x,l=o.y;a<e&&(e=a),l<r&&(r=l),a+o.width>n&&(n=a+o.width),l+o.height>i&&(i=l+o.height)}}})),new O(e,r,n-e,i-r)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",J([N({redraw:x.MAJOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(z),nt=function(){function t(t){var e=t.width,n=void 0===e?600:e,r=t.height,i=void 0===r?300:r,o=t.overrideDevicePixelRatio,a=void 0===o?void 0:o;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,i),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(a),this.resize(n,i)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;b()||(e=1),w.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.canvas,r=this.context,i=this.pixelRatio;n.width=Math.round(t*i),n.height=Math.round(e*i),r.resetTransform(),this._width=t,this._height=e}},t}();function rt(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}!function(t){t[t.SUMMARY=0]="SUMMARY",t[t.DETAILED=1]="DETAILED"}(V||(V={}));var it=function(){return(it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ot=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},at=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},lt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},st=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ut=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var ct=function(){function t(t){var e,n,r;this.id=E(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,level:V.SUMMARY,sceneNodeHighlight:[]};var i=t.document,o=void 0===i?window.document:i,a=t.mode,l=void 0===a?null!==(e=rt("agChartsSceneRenderModel"))&&void 0!==e?e:"adv-composite":a,s=t.width,u=t.height,c=t.overrideDevicePixelRatio,h=void 0===c?void 0:c;this.overrideDevicePixelRatio=h,this.opts={document:o,mode:l},this.debug.consoleLog=[!0,"scene"].includes(rt("agChartsDebug")),this.debug.level=["scene"].includes(rt("agChartsDebug"))?V.DETAILED:V.SUMMARY,this.debug.stats=null!==(n=rt("agChartsSceneStats"))&&void 0!==n&&n,this.debug.dirtyTree=null!==(r=rt("agChartsSceneDirtyTree"))&&void 0!==r&&r,this.debug.sceneNodeHighlight=function(){var t,e=null!==(t=rt("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var n=[];return e.forEach((function(t){"layout"===t?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(t)})),n}(),this.canvas=new w({document:o,width:s,height:u,overrideDevicePixelRatio:h})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var n=t<=0||e<=0,r=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||r||n)&&(this.pendingSize=[t,e],this.markDirty(),!0)},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var r=t.zIndex,i=void 0===r?this._nextZIndex++:r,o=t.name,a=t.zIndexSubOrder,l=t.getComputedOpacity,s=t.getVisibility,u=this.width,c=this.height,h=this.overrideDevicePixelRatio,d="dom-composite"===n,p="adv-composite"===n&&nt.isSupported()?new nt({width:u,height:c,overrideDevicePixelRatio:h}):new w({document:this.opts.document,width:u,height:c,domLayer:d,zIndex:i,name:o,overrideDevicePixelRatio:h}),f={id:this._nextLayerId++,name:o,zIndex:i,zIndexSubOrder:a,canvas:p,getComputedOpacity:l,getVisibility:s};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(f),this.sortLayers(),d){var y=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof w})),v=y.findIndex((function(t){return t===p}));(null!==(e=y[v-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",p.element)}return this.debug.consoleLog&&U.debug("Scene.addLayer() - layers",this.layers),f.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&U.debug("Scene.removeLayer() -  layers",this.layers))},t.prototype.moveLayer=function(t,e,n){var r=this.layers.find((function(e){return e.canvas===t}));r&&(r.zIndex=e,r.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&U.debug("Scene.moveLayer() -  layers",this.layers))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var n,r;return G(st(st([t.zIndex],lt(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.id]),st(st([e.zIndex],lt(null!==(r=e.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0])),[e.id]),W)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){var e=this;t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager({addLayer:function(t){return e.addLayer(t)},moveLayer:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.moveLayer.apply(e,st([],lt(t)))},removeLayer:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.removeLayer.apply(e,st([],lt(t)))},markDirty:function(){return e.markDirty()},canvas:this.canvas,debug:it(it({},this.debug),{consoleLog:this.debug.level>=V.DETAILED})})),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,n=this.layers;try{for(var r=ut(n),i=r.next();!i.done;i=r.next()){var o=i.value;o.canvas.destroy(),delete o.canvas}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return ot(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b;return at(this,(function(w){return r=(n=null!=t?t:{}).debugSplitTimes,i=void 0===r?[performance.now()]:r,o=n.extraDebugStats,a=void 0===o?{}:o,s=(l=this).canvas,u=l.canvas.context,c=l.root,h=l.layers,d=l.pendingSize,p=l.opts.mode,d&&((b=this.canvas).resize.apply(b,st([],lt(d))),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,st([],lt(d)))})),this.pendingSize=void 0),c&&!c.visible?(this._dirty=!1,[2]):c&&!this.dirty?(this.debug.consoleLog&&U.debug("Scene.render() - no-op",{redrawType:x[c.dirty],tree:this.buildTree(c)}),this.debugStats(i,u,void 0,a),[2]):(f={ctx:u,forceRender:!0,resized:!!d,debugNodes:{}},"detailed"===this.debug.stats&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),y=!1,(!c||c.dirty>=x.TRIVIAL)&&(y=!0,s.clear()),c&&this.debug.dirtyTree&&(v=this.buildDirtyTree(c),g=v.dirtyTree,m=v.paths,U.debug("Scene.render() - dirtyTree",{dirtyTree:g,paths:m})),c&&y&&(this.debug.consoleLog&&U.debug("Scene.render() - before",{redrawType:x[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),c.visible&&(u.save(),c.render(f),u.restore())),"dom-composite"!==p&&h.length>0&&y&&(this.sortLayers(),u.save(),u.setTransform(1/s.pixelRatio,0,0,1/s.pixelRatio,0,0),h.forEach((function(t){var e=t.canvas,n=e.imageSource,r=e.enabled,i=t.getComputedOpacity,o=t.getVisibility;r&&o()&&(u.globalAlpha=i(),u.drawImage(n,0,0))})),u.restore()),null===(e=u.verifyDepthZero)||void 0===e||e.call(u),this._dirty=!1,this.debugStats(i,u,f.stats,a),this.debugSceneNodeHighlight(u,this.debug.sceneNodeHighlight,f.debugNodes),c&&this.debug.consoleLog&&U.debug("Scene.render() - after",{redrawType:x[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),[2])}))}))},t.prototype.debugStats=function(t,e,n,r){var i,o;void 0===r&&(r={});var a=performance.now();if(this.debug.stats){var l=t[0];t.push(a);var s=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},u=function(t,e){return Math.round(100*(e-t))/100+"ms"},c=null!=n?n:{},h=c.layersRendered,d=void 0===h?0:h,p=c.layersSkipped,f=void 0===p?0:p,y=c.nodesRendered,v=void 0===y?0:y,g=c.nodesSkipped,m=void 0===g?0:g,b=t.map((function(e,n){return n>0?u(t[n-1],e):null})).filter((function(t){return null!=t})).join(" + "),x=Object.entries(r).map((function(t){var e=lt(t,2);return e[0]+": "+e[1]})).join(" ; "),S=[u(l,a)+" ("+b+")",""+x,"detailed"===this.debug.stats?"Layers: "+s(d,f):null,"detailed"===this.debug.stats?"Nodes: "+s(v,m):null].filter((function(t){return null!=t})).map((function(t){return[t,w.getTextSize(t,e.font)]})),k=Math.max.apply(Math,st([],lt(S.map((function(t){return lt(t,2)[1].width}))))),O=S.reduce((function(t,e){return t+lt(e,2)[1].height}),0);e.save(),e.fillStyle="white",e.fillRect(0,0,k,O),e.fillStyle="black";var D=0;try{for(var _=ut(S),C=_.next();!C.done;C=_.next()){var M=lt(C.value,2),E=M[0];D+=M[1].height,e.fillText(E,2,D)}}catch(t){i={error:t}}finally{try{C&&!C.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,n){var r,i,o,a,l,s,u,c=function(t){return function(e){return!!t.test(e.id)||e instanceof et&&null!=e.name&&t.test(e.name)}},h=function(t){return function(e){return t===e.id||e instanceof et&&null!=e.name&&t===e.name}};try{for(var d=ut(e),p=d.next();!p.done;p=d.next()){var f=p.value;if("string"!=typeof f||null==n[f]){var y="string"==typeof f?h(f):c(f),v=null===(u=this.root)||void 0===u?void 0:u.findNodes(y);if(v&&0!==v.length)try{for(var g=(o=void 0,ut(v)),m=g.next();!m.done;m=g.next()){(w=m.value)instanceof et&&w.name?n[w.name]=w:n[w.id]=w}}catch(t){o={error:t}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}else U.debug("Scene.render() - no debugging node with id ["+f+"] in scene graph.")}}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}t.save();try{for(var b=ut(Object.entries(n)),x=b.next();!x.done;x=b.next()){var w,S=lt(x.value,2),k=S[0],O=(w=S[1]).computeTransformedBBox();O?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(O.x,O.y,O.width,O.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(k,O.x,O.y,O.width),t.fillText(k,O.x,O.y,O.width)):U.debug("Scene.render() - no bbox for debugged node ["+k+"].")}}catch(t){l={error:t}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}t.restore()},t.prototype.buildTree=function(t){var e,n,r=this,i=null!==(e=t instanceof et?t.name:null)&&void 0!==e?e:t.id;return it(it({name:i,node:t,dirty:x[t.dirty]},(null===(n=t.parent)||void 0===n?void 0:n.isVirtual)?{virtualParentDirty:x[t.parent.dirty],virtualParent:t.parent}:{}),t.children.map((function(t){return r.buildTree(t)})).reduce((function(t,e){var n=e.name,r=e.node,i=r.visible,o=r.opacity,a=r.zIndex,l=r.zIndexSubOrder,s=e.node,u=e.virtualParent;(!i||o<=0)&&(n="("+n+")"),s instanceof et&&s.isLayer()&&(n="*"+n+"*");for(var c=[""+(null!=n?n:"<unknown>"),"z: "+a,l&&"zo: "+l.map((function(t){return"function"==typeof t?t()+" (fn)":t})).join(" / "),u&&"(virtual parent)"].filter((function(t){return!!t})).join(" "),h=c,d=1;null!=t[h]&&d<100;)h=c+" ("+d+++")";return t[h]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===x.NONE)return{dirtyTree:{},paths:[]};var r=t.children.map((function(t){return n.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),i=null!==(e=t instanceof et?t.name:null)&&void 0!==e?e:t.id,o=0===r.length?[i]:r.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return i+"."+t}));return{dirtyTree:it({name:i,node:t,dirty:x[t.dirty]},r.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){var n;return t[null!==(n=e.name)&&void 0!==n?n:"<unknown>"]=e,t}),{})),paths:o}},t.className="Scene",t}(),ht=function(){this.stops=[]},dt=2*Math.PI;function pt(t){return t%=dt,t+=dt,t%=dt}function ft(t){return t/180*Math.PI}var yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return yt(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,r=pt(ft(this.angle+90)),i=Math.cos(r),o=Math.sin(r),a=e.width,l=e.height,s=e.x+.5*a,u=e.y+.5*l;if(a>0&&l>0){var c=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a),d=void 0;d=r<Math.PI/2?r:r<Math.PI?Math.PI-r:r<3*Math.PI/2?r-Math.PI:2*Math.PI-r;var p=c*Math.abs(Math.cos(d-h)),f=t.createLinearGradient(s+i*p,u+o*p,s-i*p,u-o*p);return n.forEach((function(t){f.addColorStop(t.offset,t.color)})),f}return"black"},e}(ht),gt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bt=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,xt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n}return gt(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,r=e.length;n<r;n++){var i=e[n];this[i]=t[i]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=bt.exec(e))){for(var n=parseFloat(t[1]),r=[],i=t[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,a=void 0;a=o.exec(i);)r.push(a[0]);this.gradient=new vt,this.gradient.angle=n,this.gradient.stops=r.map((function(t,e){return{offset:e/(r.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var n,r,i,o=null!==(i=null===(r=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===r?void 0:r.pixelRatio)&&void 0!==i?i:1,a=Math.round(t*o)/o;return null==e?a:0===e?0:e<1?Math.ceil(e*o)/o:Math.round((e+t)*o)/o-a},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,n,r=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,i=this.fillShadow;(null==i?void 0:i.enabled)&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*r,t.shadowOffsetY=i.yOffset*r,t.shadowBlur=i.blur*r)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),mt([N({redraw:x.MINOR})],e.prototype,"fillOpacity",void 0),mt([N({redraw:x.MINOR})],e.prototype,"strokeOpacity",void 0),mt([N({redraw:x.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),mt([N({redraw:x.MINOR})],e.prototype,"stroke",void 0),mt([N({redraw:x.MINOR})],e.prototype,"strokeWidth",void 0),mt([N({redraw:x.MINOR})],e.prototype,"lineDash",void 0),mt([N({redraw:x.MINOR})],e.prototype,"lineDashOffset",void 0),mt([N({redraw:x.MINOR})],e.prototype,"lineCap",void 0),mt([N({redraw:x.MINOR})],e.prototype,"lineJoin",void 0),mt([N({redraw:x.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),mt([N({redraw:x.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(z),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},kt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ot(t){var e=null!=t?t:{},n=e.redraw;return N({redraw:void 0===n?x.MAJOR:n,type:"font",changeCb:e.changeCb})}var Dt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text=void 0,n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=void 0,n}return wt(e,t),e.prototype._setLines=function(){this.lines=Nt(this.text)},Object.defineProperty(e.prototype,"font",{get:function(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=_t(this)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return w.has.textMetrics?Mt(this.lines,this.x,this.y,this):Et(this.lines,this.x,this.y,this)},e.prototype.getLineHeight=function(t){var e,n;if(this.lineHeight)return this.lineHeight;if(w.has.textMetrics){var r=w.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=r.fontBoundingBoxAscent)&&void 0!==e?e:r.emHeightAscent)+(null!==(n=r.fontBoundingBoxDescent)&&void 0!==n?n:r.emHeightDescent)}return w.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==x.NONE||r)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.fill,a=this.stroke,l=this.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var s=this.layerManager.canvas.pixelRatio||1,u=n.globalAlpha;if(o){n.fillStyle=o,n.globalAlpha=u*this.opacity*this.fillOpacity;var c=this.fillShadow;(null==c?void 0:c.enabled)&&(n.shadowColor=c.color,n.shadowOffsetX=c.xOffset*s,n.shadowOffsetY=c.yOffset*s,n.shadowBlur=c.blur*s),this.renderLines((function(t,e,r){return n.fillText(t,e,r)}))}if(a&&l){n.strokeStyle=a,n.lineWidth=l,n.globalAlpha=u*this.opacity*this.strokeOpacity;var h=this.lineDash,d=this.lineDashOffset,p=this.lineCap,f=this.lineJoin;h&&n.setLineDash(h),d&&(n.lineDashOffset=d),p&&(n.lineCap=p),f&&(n.lineJoin=f),this.renderLines((function(t,e,r){return n.strokeText(t,e,r)}))}t.prototype.render.call(this,e)}else i&&(i.nodesSkipped+=this.nodeCount.count);else i&&(i.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,n=this.lines,r=this.x,i=this.y,o=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(o.reduce((function(t,e){return t+e}),0)-o[0])*Pt(this.textBaseline),l=0;l<n.length;l++)t(n[l],r,i+a),a+=o[l]},e.wrap=function(t,n,r,i,o){var a,l,s=function(t){var e=new Map,n=function(e){return w.getTextSize(e,t)};return{size:n,width:function(t){if(e.has(t))return e.get(t);var r=n(t).width;return e.set(t,r),r}}}(_t(i)),u=t.split(/\r?\n/g);if(0===u.length)return"";if("never"===o)return e.truncateLine(u[0],n,s,!1);var c=[],h=0;try{for(var d=kt(u),p=d.next();!p.done;p=d.next()){var f=p.value,y=e.wrapLine(f,n,r,s,i,o,h);if(c.push(y.result),h=y.cumulativeHeight,y.truncated)break}}catch(t){a={error:t}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return c.join("\n").trim()},e.wrapLine=function(t,n,r,i,o,a,l){if(!(t=t.trim()))return{result:"",truncated:!1,cumulativeHeight:l};var s=i.size(t);if(s.width<=n)return{result:t,truncated:!1,cumulativeHeight:l+s.height};if(s.height>r||i.width("W")>n)return{result:"",truncated:!0,cumulativeHeight:l};var u=t.split(/\s+/g),c=e.wrapLineSequentially(u,n,r,i,o,a,l);l=c.cumulativeHeight;var h=c.lines;if(!c.wordsBrokenOrTruncated&&!c.linesTruncated){var d=c.lines.length,p=e.wrapLineBalanced(u,n,i,d);p.length===h.length&&(h=p)}return{result:h.map((function(t){return t.join(" ")})).join("\n"),truncated:c.linesTruncated,cumulativeHeight:l}},e.breakWord=function(t,n,r,i,o){for(var a,l,s=function(n){return e.punctuationMarks.includes(t[n])},u=i?o.width("-"):0,c=[],h=0,d=0,p=0;p<t.length;p++){var f=t[p],y=o.width(f);h+y+u>(0===d?n:r)&&(c.push(p),h=0,d++),h+=y}var v=[],g=0;try{for(var m=kt(c),b=m.next();!b.done;b=m.next()){var x=b.value,w=t.substring(g,x);i&&w.length>0&&!s(x-1)&&!s(x)&&(w+="-"),v.push(w),g=x}}catch(t){a={error:t}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}return v.push(t.substring(g)),v},e.truncateLine=function(t,e,n,r){var i=n.width(t);if(i<e&&!r)return t;var o=n.width("\u2026");if(i+o<=e)return t+"\u2026";var a,l,s=Math.floor(t.length*e/i)+1;do{a=t.substring(0,s),l=n.width(a)}while(--s>=0&&l+o>e);return a+"\u2026"},e.wrapLineSequentially=function(t,n,r,i,o,a,l){var s=o.fontSize,u=o.lineHeight,c=void 0===u?s*e.defaultLineHeightRatio:u,h="always"===a||"hyphenate"===a,d="hyphenate"===a,p=i.width(" "),f=!1,y=!1,v=[],g=[],m=0,b=function(){var t=l+c;if(t>=r){var o=g.join(" "),a=e.truncateLine(o,n,i,!0);return g.splice(0,g.length,a),y=!0,!1}return g=[],m=0,l=t,v.push(g),!0};if(!b())return{lines:v,linesTruncated:!0,wordsBrokenOrTruncated:f,cumulativeHeight:l};for(var x=0;x<t.length;x++){var w=t[x],S=i.width(w),k=0===g.length?0:p,O=m+k+S;if(O<=n)g.push(w),m=O;else if(S<=n){if(!b())break;g.push(w),m=S}else{if(f=!0,!h){if(!b())break;var D=e.truncateLine(w,n,i,!0);g.push(D),x<t.length-1&&(y=!0);break}for(var _=n-m-k,C=e.breakWord(w,_,n,d,i),M=!1,E=0;E<C.length;E++){var P=C[E];if(P&&g.push(P),E===C.length-1)m=i.width(P);else if(!b()){M=!0;break}}if(M)break}}return{lines:v,linesTruncated:y,wordsBrokenOrTruncated:f,cumulativeHeight:l}},e.wrapLineBalanced=function(t,e,n,r){var i,o,a=t.reduce((function(t,e){return t+n.width(e)}),0),l=n.width(" "),s=(a+l*(t.length-r-2))/r,u=[],c=[],h=n.width(t[0]),d=!0;try{for(var p=kt(t),f=p.next();!f.done;f=p.next()){var y=f.value,v=n.width(y);if(d)(c=[]).push(y),h=v,d=!1,u.push(c);else{var g=h+l+v;g<=s?(c.push(y),h=g):g<=e?(c.push(y),d=!0):(c=[y],h=v,u.push(c))}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return u},e.prototype.setFont=function(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight},e.prototype.setAlign=function(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline},e.className="Text",e.defaultLineHeightRatio=1.15,e.defaultStyles=Object.assign({},xt.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],St([N({redraw:x.MAJOR})],e.prototype,"x",void 0),St([N({redraw:x.MAJOR})],e.prototype,"y",void 0),St([N({redraw:x.MAJOR,changeCb:function(t){return t._setLines()}})],e.prototype,"text",void 0),St([Ot()],e.prototype,"fontStyle",void 0),St([Ot()],e.prototype,"fontWeight",void 0),St([Ot()],e.prototype,"fontSize",void 0),St([Ot()],e.prototype,"fontFamily",void 0),St([N({redraw:x.MAJOR})],e.prototype,"textAlign",void 0),St([N({redraw:x.MAJOR})],e.prototype,"textBaseline",void 0),St([N({redraw:x.MAJOR})],e.prototype,"lineHeight",void 0),e}(xt);function _t(t){var e=t.fontFamily,n=t.fontSize,r=t.fontStyle,i=t.fontWeight;return[null!=r?r:"",null!=i?i:"",n+"px",e].join(" ").trim()}function Ct(t,e,n,r){return w.has.textMetrics?Mt(t,e,n,r):Et(t,e,n,r)}function Mt(t,e,n,r){for(var i,o,a=0,l=0,s=0,u=0,c=0,h=_t(r),d=r.lineHeight,p=r.textBaseline,f=void 0===p?Dt.defaultStyles.textBaseline:p,y=r.textAlign,v=void 0===y?Dt.defaultStyles.textAlign:y,g=0;g<t.length;g++){var m=w.measureText(t[g],h,f,v);a=Math.max(a,m.actualBoundingBoxLeft),s=Math.max(s,m.width),0==g?(l+=m.actualBoundingBoxAscent,u+=m.actualBoundingBoxAscent):c+=null!==(i=m.fontBoundingBoxAscent)&&void 0!==i?i:m.emHeightAscent,g==t.length-1?u+=m.actualBoundingBoxDescent:c+=null!==(o=m.fontBoundingBoxDescent)&&void 0!==o?o:m.emHeightDescent}return void 0!==d&&(c=(t.length-1)*d),u+=c,l+=c*Pt(f),new O(e-a,n-l,s,u)}function Et(t,e,n,r){var i=0,o=0,a=0,l=_t(r),s=r.lineHeight,u=r.textBaseline,c=void 0===u?Dt.defaultStyles.textBaseline:u,h=r.textAlign,d=void 0===h?Dt.defaultStyles.textAlign:h;t.length>0&&(i=(f=w.getTextSize(t[0],l)).width,o=f.height);for(var p=1;p<t.length;p++){var f=w.getTextSize(t[p],l);i=Math.max(i,f.width),a+=null!=s?s:f.height}switch(d){case"end":case"right":e-=i;break;case"center":e-=i/2}switch(c){case"alphabetic":n-=.7*o+.5*a;break;case"middle":n-=.45*o+.5*a;break;case"ideographic":n-=o+a;break;case"hanging":n-=.2*o+.5*a;break;case"bottom":n-=o+a}return new O(e,n,i,o+a)}function Pt(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function Nt(t){return"string"==typeof t?t.split(/\r?\n/g):[]}var Lt=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,r=n.get(t);r||(r=new Set,n.set(t,r)),r.has(e)||r.add(e)},t.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,r=n.get(t);r&&(r.delete(e),0===r.size&&n.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),Rt=function(t){return"string"==typeof t},Tt=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&Rt(t.toString())};function It(t){return Rt(t)||Tt(t)}function At(t){var e;return Ft(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&Ft(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function jt(t,e){return e&&At(t)?t:e?void 0:It(t)?t:String(t)}var Ft=function(t){return"number"==typeof t&&Number.isFinite(t)},Bt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},zt=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e.toLowerCase()];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(n){return U.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var r=Bt(n,4);return new t(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=Bt([NaN,NaN],2),n=e[0],r=e[1],i=0;i<t.length;i++){var o=t[i];if(n||"("!==o){if(")"===o){r=i;break}}else n=i}var a=n&&r&&t.substring(n+1,r);if(a){var l=a.split(","),s=[];for(i=0;i<l.length;i++){var u=l[i],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===i?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),s.push(c)}return s}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,i){void 0===i&&(i=1);var o=t.HSBtoRGB(e,n,r);return new t(o[0],o[1],o[2],i)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=NaN;if(r!==i){var a=i-r,l=(i-t)/a,s=(i-e)/a,u=(i-n)/a;o=t===i?u-s:e===i?2+l-u:4+s-l,(o/=6)<0&&(o+=1)}return[360*o,0!==i?(i-r)/i:0,i]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,i=0,o=0;if(0===e)r=i=o=n;else{var a=6*(t-Math.floor(t)),l=a-Math.floor(a),s=n*(1-e),u=n*(1-e*l),c=n*(1-e*(1-l));switch(a>>0){case 0:r=n,i=c,o=s;break;case 1:r=u,i=n,o=s;break;case 2:r=s,i=n,o=c;break;case 3:r=s,i=u,o=n;break;case 4:r=c,i=s,o=n;break;case 5:r=n,i=s,o=u}}return[r,i,o]},t.prototype.derive=function(e,n,r,i){var o=t.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&r>1&&(a=.05);var l=((o[0]+e)%360+360)%360,s=Math.max(Math.min(o[1]*n,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=t.HSBtoRGB(l,s,a);return c.push(u),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.interpolate=function(e,n){var r=t.tryParseFromString(e),i=t.tryParseFromString(n);return function(e){var n=function(t,n){return t*(1-e)+n*e};return new t(n(r.r,i.r),n(r.g,i.g),n(r.b,i.b),n(r.a,i.a)).toString()}},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),Wt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gt=Symbol("BREAK");function Xt(t,e){return function(n,r){var i=r.toString(),o=function(t,e,n,r){null==Object.getOwnPropertyDescriptor(t,"__decorator_config")&&Object.defineProperty(t,"__decorator_config",{value:{}});var i=t.__decorator_config;if(null!=i[n])return i[n];i[n]={setters:[],getters:[]};var o=Object.getOwnPropertyDescriptor(t,e),a=null==o?void 0:o.set,l=null==o?void 0:o.get;return Object.defineProperty(t,e,{set:function(t){var o,s,u,c,h,d=null!==(c=null===(u=i[n])||void 0===u?void 0:u.setters)&&void 0!==c?c:[];d.some((function(t){return t.length>2}))&&(h=l?l.call(this):this[r]);try{for(var p=Wt(d),f=p.next();!f.done;f=p.next()){if((t=(0,f.value)(this,e,t,h))===Gt)return}}catch(t){o={error:t}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}a?a.call(this,t):this[r]=t},get:function(){var t,o,a,s,u=l?l.call(this):this[r];try{for(var c=Wt(null!==(s=null===(a=i[n])||void 0===a?void 0:a.getters)&&void 0!==s?s:[]),h=c.next();!h.done;h=c.next()){if((u=(0,h.value)(this,e,u))===Gt)return}}catch(e){t={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return u},enumerable:!0,configurable:!1}),i[n]}(n,r,i,"__"+i),a=o.getters;o.setters.push(t),e&&a.splice(0,0,e)}}function Kt(t){return Xt((function(e,n,r){var i,o,a;if(t(r,{target:e}))return r;var l=n.toString().replace(/^_*/,""),s=null!==(o=null===(i=e.constructor)||void 0===i?void 0:i.className)&&void 0!==o?o:null===(a=e.constructor)||void 0===a?void 0:a.name;(null==s?void 0:s.length)<3&&(s=null);var u=s?"of ["+s+"] ":"";return t.message?U.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(r)+"]; "+t.message+", ignoring."):U.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(r)+"], ignoring."),Gt}))}function Vt(t,e){return t.message=e,t}var Yt=function(t,e,n){return void 0===t||n(t,e)},Ht=function(t,e){return Vt((function(n,r){return Array.isArray(n)&&(!t||n.length===t)&&(!e||n.every((function(t){return e(t,r)})))}),"expecting an Array")},Ut=function(t){return Vt((function(e,n){return Yt(e,n,Ht(t))}),"expecting an optional Array")},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vt((function(e,n){return t.every((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},qt=function(t){return null!=t&&!isNaN(t)},Jt=function(t){return Vt((function(e,n){return!qt(e)||!qt(n.target[t])||e<n.target[t]}),"expected to be less than "+t)},$t=function(t){return Vt((function(e,n){return!qt(e)||!qt(n.target[t])||e>n.target[t]}),"expected to be greater than "+t)},Qt=Vt((function(t){return"function"==typeof t}),"expecting a Function"),te=Vt((function(t,e){return Yt(t,e,Qt)}),"expecting an optional Function"),ee=Vt((function(t){return!0===t||!1===t}),"expecting a Boolean"),ne=Vt((function(t,e){return Yt(t,e,ee)}),"expecting an optional Boolean"),re=Vt((function(t){return"string"==typeof t}),"expecting a String"),ie=Vt((function(t,e){return Yt(t,e,re)}),"expecting an optional String"),oe=Vt((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),ae=Vt((function(t,e){return Yt(t,e,oe)}),"expecting an optional Date");Vt(Ht(void 0,oe),"expecting an Array of Date objects");var le=fe(0),se=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vt((function(e,n){return t.some((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))}(ae,Vt((function(t,e){return Yt(t,e,le)}),"expecting an optional number")),ue="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ce=Vt((function(t){return"string"==typeof t&&zt.validColorString(t)}),"expecting a color String. "+ue),he=Vt((function(t,e){return Yt(t,e,ce)}),"expecting an optional color String. "+ue),de=Vt(Ht(void 0,ce),"expecting an Array of color strings. "+ue),pe=Vt((function(t,e){return Yt(t,e,de)}),"expecting an optional Array of color strings. "+ue);function fe(t,e){return Vt((function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function ye(t,e){return Vt((function(n,r){return Yt(n,r,fe(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function ve(t,e){return Vt((function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var ge=Vt(Ht(void 0,fe()),"expecting an Array of numbers"),me=Vt((function(t,e){return Yt(t,e,ge)}),"expecting an optional Array of numbers"),be=Vt(Ht(void 0,re),"expecting an Array of strings");function xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="expecting one of: "+t.join(", ");return Vt((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),n)}Vt((function(t,e){return Yt(t,e,be)}),"expecting an optional Array of strings");var we=Vt(Ht(void 0,ee),"expecting an Array of boolean values");Vt((function(t,e){return Yt(t,e,we)}),"expecting an optional Array of boolean values");var Se=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],ke=Vt((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),Oe=Vt((function(t,e){return Yt(t,e,ke)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),De=Vt((function(t){return Se.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),_e=Vt((function(t,e){return Yt(t,e,De)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),Ce=Vt(Ht(void 0,fe(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Me=Vt((function(t,e){return Yt(t,e,Ce)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ee=["butt","round","square"],Pe=Vt((function(t){return Ee.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'");Vt((function(t,e){return Yt(t,e,Pe)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var Ne=["round","bevel","miter"],Le=Vt((function(t){return Ne.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'");Vt((function(t,e){return Yt(t,e,Le)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var Re,Te,Ie=["top","right","bottom","left"],Ae=Vt((function(t){return Ie.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),je=["exact","nearest"],Fe=Vt((function(t){return"number"==typeof t&&Number.isFinite(t)||je.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),Be=["never","always","hyphenate","on-space"],ze=Vt((function(t){return Be.includes(t)}),"expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'");!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Re||(Re={})),function(t){t.X="x",t.Y="y"}(Te||(Te={}));var We=function(){function t(t){this.type=t,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}return t.prototype.extend=function(t){"discrete"===this.type?this.discreteDomain.add(t):"continuous"===this.type&&(this.continuousDomain[0]>t&&(this.continuousDomain[0]=t),this.continuousDomain[1]<t&&(this.continuousDomain[1]=t))},t.prototype.getDomain=function(){if("discrete"===this.type)return this.discreteDomain;if("continuous"===this.type)return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)},t}(),Ge=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Xe(t,e){var n,r;void 0===e&&(e=[1/0,-1/0]);try{for(var i=Ge(t),o=i.next();!o.done;o=i.next()){var a=o.value;"number"==typeof a&&(a<e[0]&&(e[0]=a),a>e[1]&&(e[1]=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}var Ke=function(){return(Ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ve=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ye=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},He=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function Ue(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}function Ze(t){if(void 0===t)return[];var e=Ve(t,2),n=e[0],r=e[1];return r=+r,0===(n=+n)&&0===r?[0,1]:n===1/0&&r===-1/0?[]:(n===1/0&&(n=0),r===-1/0&&(r=0),Ft(n)&&Ft(r)?[n,r]:[])}var qe=Symbol("invalid"),Je=function(){function t(t){var e,n,r,i,o,a,l=this,s=t.props,u=!0;try{for(var c=Ye(s),h=c.next();!h.done;h=c.next()){var d=h.value;if("key"===d.type&&!u)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===d.type&&u&&(u=!1)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.opts=Ke({dataVisible:!0},t),this.keys=s.filter((function(t){return"key"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e,missing:0})})),this.values=s.filter((function(t){return"value"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e,missing:0})})),this.aggregates=s.filter((function(t){return"aggregate"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e})})),this.groupProcessors=s.filter((function(t){return"group-value-processor"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e})})),this.propertyProcessors=s.filter((function(t){return"property-value-processor"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e})})),this.reducers=s.filter((function(t){return"reducer"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e})})),this.processors=s.filter((function(t){return"processor"===t.type})).map((function(t,e){return Ke(Ke({},t),{index:e})}));try{for(var p=Ye(this.values),f=p.next();!f.done;f=p.next()){if(null==(x=f.value).property)throw new Error("AG Charts - internal config error: no properties specified for value definitions: "+JSON.stringify(x))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var y=function(t){var e,n,r=t.matchGroupIds,i=function(t){if(!l.values.some((function(e){return e.groupId===t})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=Ye(null!=r?r:[]),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},v=function(t){var e,n,r=t.matchScopes,i=function(t){if(!l.values.some((function(e){var n;return null===(n=e.scopes)||void 0===n?void 0:n.includes(t)})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=Ye(null!=r?r:[]),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},g=function(t){var e,n,r=t.matchIds,i=function(t){if(!l.values.some((function(e){return e.id===t})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=Ye(null!=r?r:[]),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}};try{for(var m=Ye(He(He([],Ve(this.groupProcessors)),Ve(this.aggregates))),b=m.next();!b.done;b=m.next()){var x;g(x=b.value),y(x),v(x)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}return t.prototype.resolveProcessedDataIndexById=function(t,e,n){var r;void 0===n&&(n="value");var i=null!==(r=this.resolveProcessedDataDefById(t,e,n))&&void 0!==r?r:{};return{type:n,index:i.index,def:i.def}},t.prototype.resolveProcessedDataIndicesById=function(t,e,n){return void 0===n&&(n="value"),this.resolveProcessedDataDefsById(t,e,n).map((function(t){var e=t.index,r=t.def;return{type:n,index:e,def:r}}))},t.prototype.resolveProcessedDataDefById=function(t,e,n){return void 0===n&&(n="value"),this.resolveProcessedDataDefsById(t,e,n)[0]},t.prototype.resolveProcessedDataDefsById=function(t,e,n){var r,i;void 0===n&&(n="value");var o=this,a=function(n){var r=n.id,i=n.scopes;return null!=r&&(!(null!=t&&!(null==i?void 0:i.includes(t.id)))&&("string"==typeof e?r===e:e.test(r)))},l=[o.keys,o.values,o.aggregates,o.groupProcessors,o.reducers],s=[];try{for(var u=Ye(l),c=u.next();!c.done;c=u.next()){var h=c.value;s.push.apply(s,He([],Ve(h.filter(a).map((function(t){return{index:t.index,def:t}})))))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}if(s.length>0)return s;throw new Error("AG Charts - didn't find property definition for ["+e+", "+t.id+", "+n+"]")},t.prototype.getDomain=function(t,e,n,r){var i,o,a,l,s,u,c,h;void 0===n&&(n="value");try{c=this.resolveProcessedDataIndicesById(t,e,n)}catch(t){if("string"!=typeof e&&/didn't find property definition/.test(t.message))return[];throw t}switch(n){case"key":h="keys";break;case"value":h="values";break;case"aggregate":h="aggValues";break;case"group-value-processor":h="groups";break;default:return[]}var d=null!==(l=null===(a=r.domain[h])||void 0===a?void 0:a[c[0].index])&&void 0!==l?l:[];if(1===c.length)return d;var p=He([],Ve(d));try{for(var f=Ye(c.slice(1)),y=f.next();!y.done;y=f.next()){var v=y.value;Xe(null!==(u=null===(s=r.domain[h])||void 0===s?void 0:s[v.index])&&void 0!==u?u:[],p)}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return p},t.prototype.processData=function(e){var n,r,i,o,a=this,l=a.opts,s=l.groupByKeys,u=l.groupByFn,c=a.aggregates,h=a.groupProcessors,d=a.reducers,p=a.processors,f=a.propertyProcessors,y=performance.now();try{for(var v=Ye(He(He([],Ve(this.keys)),Ve(this.values))),g=v.next();!g.done;g=v.next()){(w=g.value).missing=0}}catch(t){n={error:t}}finally{try{g&&!g.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}if(!s||0!==this.keys.length){var m=this.extractData(e);s?m=this.groupData(m):u&&(m=this.groupData(m,u(m))),h.length>0&&this.postProcessGroups(m),c.length>0&&this.aggregateData(m),f.length>0&&this.postProcessProperties(m),d.length>0&&this.reduceData(m),p.length>0&&this.postProcessData(m);try{for(var b=Ye(He(He([],Ve(this.keys)),Ve(this.values))),x=b.next();!x.done;x=b.next()){var w=x.value;e.length>0&&w.missing>=e.length&&U.warnOnce("the key '"+w.property+"' was not found in any data element.")}}catch(t){i={error:t}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}var S=performance.now();return m.time=S-y,t.DEBUG()&&function(t){var e,n,r=function(t,e){e.length>0&&(console.log("DataModel.processData() - "+t),console.table(e))};if(console.log("DataModel.processData() - processedData",t),r("Key Domains",t.domain.keys),r("Group Domains",null!==(e=t.domain.groups)&&void 0!==e?e:[]),r("Value Domains",t.domain.values),r("Aggregate Domains",null!==(n=t.domain.aggValues)&&void 0!==n?n:[]),"grouped"===t.type){var i=t.data.reduce((function(t,e){var n,r,i=null!==(n=e.keys)&&void 0!==n?n:[],o=null!==(r=e.aggValues)&&void 0!==r?r:[],a=e.keys.map((function(){})),l=null==o?void 0:o.map((function(){}));return t.push.apply(t,He([],Ve(e.values.map((function(t,e){return He(He(He([],Ve(0===e?i:a)),Ve(null!=t?t:[])),Ve(0==e?o:l))}))))),t}),[]);r("Values",i)}else{i=t.data.reduce((function(t,e){var n,r=null!==(n=e.aggValues)&&void 0!==n?n:[];return t.push(He(He(He([],Ve(e.keys)),Ve(e.values)),Ve(r))),t}),[]);r("Values",i)}}(m),m}},t.prototype.valueGroupIdxLookup=function(t){var e=t.matchGroupIds,n=t.matchIds,r=t.matchScopes;return this.values.map((function(t,e){return{def:t,index:e}})).filter((function(t){var i=t.def;return!(e&&(null==i.groupId||!e.includes(i.groupId)))&&(!(n&&(null==i.id||!n.includes(i.id)))&&!(r&&(null==i.scopes||!r.some((function(t){var e;return null===(e=i.scopes)||void 0===e?void 0:e.includes(t)})))))})).map((function(t){return t.index}))},t.prototype.valueIdxLookup=function(t,e){var n,r=null==t||0===t.length,i=function(e){if(null==e)return!0;var n=null==e||0===e.length;return r===n||(null==e?void 0:e.some((function(e){return t.includes(e)})))};if((n="string"==typeof e?this.values.findIndex((function(t){return i(t.scopes)&&t.property===e})):this.values.findIndex((function(t){return i(t.scopes)&&t.id===e.id})))>=0)return n;throw new Error("AG Charts - configuration error, unknown property "+JSON.stringify(e)+" in scope(s) "+JSON.stringify(t))},t.prototype.extractData=function(t){var e,n,r,i,o,a,l,s,u,c=this.keys,h=this.values,d=this.opts.dataVisible,p=this.initDataDomainProcessor(),f=p.dataDomain,y=p.processValue,v=p.scopes,g=p.allScopesHaveSameDefs,m=new Array(d?t.length:0),b=0,x=0;try{for(var w=Ye(t),S=w.next();!S.done;S=w.next()){var k=S.value,O=v.size>0?new Set(v):void 0,D=d?new Array(c.length):void 0,_=0,C=void 0;try{for(var M=(r=void 0,Ye(c)),E=M.next();!E.done;E=M.next()){if((C=y(I=E.value,k,C))===qe)break;D&&(D[_++]=C)}}catch(t){r={error:t}}finally{try{E&&!E.done&&(i=M.return)&&i.call(M)}finally{if(r)throw r.error}}if(C!==qe){var P=d&&h.length>0?new Array(h.length):void 0,N=0,L=void 0;try{for(var R=(o=void 0,Ye(h)),T=R.next();!T.done;T=R.next()){var I;if((L=y(I=T.value,k,L))===qe){if(g)break;try{for(var A=(l=void 0,Ye(null!==(u=I.scopes)&&void 0!==u?u:v)),j=A.next();!j.done;j=A.next()){var F=j.value;null==O||O.delete(F)}}catch(t){l={error:t}}finally{try{j&&!j.done&&(s=A.return)&&s.call(A)}finally{if(l)throw l.error}}if(N++,0===(null==O?void 0:O.size))break}else P&&(P[N++]=L)}}catch(t){o={error:t}}finally{try{T&&!T.done&&(a=R.return)&&a.call(R)}finally{if(o)throw o.error}}if((L!==qe||!g)&&0!==(null==O?void 0:O.size)&&d){var B={datum:k,keys:D,values:P};!g&&O&&O.size<v.size&&(x++,B.validScopes=He([],Ve(O))),m[b++]=B}}}}catch(t){e={error:t}}finally{try{S&&!S.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}m.length=b;var z=function(t){var e=f.get(t).getDomain();return Array.isArray(e)&&e[0]>e[1]?[]:He([],Ve(e))};return{type:"ungrouped",data:m,domain:{keys:c.map((function(t){return z(t)})),values:h.map((function(t){return z(t)}))},defs:{allScopesHaveSameDefs:g,keys:c,values:h},partialValidDataCount:x,time:0}},t.prototype.groupData=function(t,e){var n,r,i,o,a,l,s,u,c=new Map;try{for(var h=Ye(t.data),d=h.next();!d.done;d=h.next()){var p=d.value,f=p.keys,y=p.values,v=p.datum,g=p.validScopes,m=e?e(p):f,b=Ue(m);if(c.has(b)){var x=c.get(b);if(x.values.push(y),x.datum.push(v),null!=g)for(var w=function(t){var e=null===(s=x.validScopes)||void 0===s?void 0:s[t];if(g.some((function(t){return t===e})))return"continue";null===(u=x.validScopes)||void 0===u||u.splice(t,1)},S=0;S<(null!==(l=null===(a=x.validScopes)||void 0===a?void 0:a.length)&&void 0!==l?l:0);S++)w(S)}else c.set(b,{keys:m,values:[y],datum:[v],validScopes:g})}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var k=new Array(c.size),O=new Array(c.size),D=0;try{for(var _=Ye(c.entries()),C=_.next();!C.done;C=_.next()){var M=Ve(C.value,2)[1];f=M.keys,y=M.values,v=M.datum;0!==(null==(g=M.validScopes)?void 0:g.length)&&(O[D]=f,k[D++]={keys:f,values:y,datum:v,validScopes:g})}}catch(t){i={error:t}}finally{try{C&&!C.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}return Ke(Ke({},t),{type:"grouped",data:k,domain:Ke(Ke({},t.domain),{groups:O})})},t.prototype.aggregateData=function(t){var e,n,r,i,o,a,l,s,u,c,h=this,d=this.aggregates;if(d){var p=d.map((function(){return[1/0,-1/0]})),f=d.map((function(t){return h.valueGroupIdxLookup(t)})),y=d.map((function(t){return t.aggregateFunction})),v=d.map((function(t){return t.groupAggregateFunction})),g=d.map((function(t){return t.finalFunction})),m=function(e){var n,h,m,b,x=e.values,w=e.validScopes;null!==(r=e.aggValues)&&void 0!==r||(e.aggValues=new Array(f.length)),"ungrouped"===t.type&&(x=[x]);var S=0;try{for(var k=(n=void 0,Ye(f)),O=k.next();!O.done;O=k.next()){var D=O.value;if(null===(i=null==w?void 0:w.some((function(t){var e;return null===(e=d[S].matchScopes)||void 0===e?void 0:e.some((function(e){return t===e}))})))||void 0===i||i){var _=null!==(a=null===(o=v[S])||void 0===o?void 0:o.call(v))&&void 0!==a?a:Xe([]),C=function(t){var n=D.map((function(e){return t[e]})),r=y[S](n,e.keys);r&&(_=null!==(s=null===(l=v[S])||void 0===l?void 0:l.call(v,r,_))&&void 0!==s?s:Xe(r,_))};try{for(var M=(m=void 0,Ye(x)),E=M.next();!E.done;E=M.next()){C(E.value)}}catch(t){m={error:t}}finally{try{E&&!E.done&&(b=M.return)&&b.call(M)}finally{if(m)throw m.error}}var P=(null!==(c=null===(u=g[S])||void 0===u?void 0:u.call(g,_))&&void 0!==c?c:_).map((function(t){return e=t,Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(1e4*e)/1e4;var e}));Xe(P,p[S]),e.aggValues[S++]=P}else S++}}catch(t){n={error:t}}finally{try{O&&!O.done&&(h=k.return)&&h.call(k)}finally{if(n)throw n.error}}};try{for(var b=Ye(t.data),x=b.next();!x.done;x=b.next()){m(x.value)}}catch(t){e={error:t}}finally{try{x&&!x.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}t.domain.aggValues=p}},t.prototype.postProcessGroups=function(t){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m=this.groupProcessors;if(m){var b=new Set,x=new Map,w=new Map,S=new Map;try{for(var k=Ye(m),O=k.next();!O.done;O=k.next()){var D=O.value,_=this.valueGroupIdxLookup(D);w.set(D,_),S.set(D,D.adjust());try{for(var C=(r=void 0,Ye(_)),M=C.next();!M.done;M=C.next()){var E=M.value,P=this.values[E];b.add(E),x.set(E,new We("category"===P.valueType?"discrete":"continuous"))}}catch(t){r={error:t}}finally{try{M&&!M.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{O&&!O.done&&(n=k.return)&&n.call(k)}finally{if(e)throw e.error}}var N=function(t){var e,n,r;try{for(var i=Ye(b),o=i.next();!o.done;o=i.next()){var a=o.value;null===(r=x.get(a))||void 0===r||r.extend(t[a])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}};try{for(var L=Ye(t.data),R=L.next();!R.done;R=L.next()){var T=R.value,I=function(e){var n,r;if(!(null===(f=null===(p=T.validScopes)||void 0===p?void 0:p.some((function(t){var n;return null===(n=e.matchScopes)||void 0===n?void 0:n.some((function(e){return t===e}))})))||void 0===f||f))return"continue";var i=null!==(y=w.get(e))&&void 0!==y?y:[],o=null!==(g=null===(v=S.get(e))||void 0===v?void 0:v())&&void 0!==g?g:function(){};if("grouped"===t.type){try{for(var a=(n=void 0,Ye(T.values)),l=a.next();!l.done;l=a.next()){var s=l.value;s&&o(s,i)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return"continue"}T.values&&o(T.values,i)};try{for(var A=(l=void 0,Ye(m)),j=A.next();!j.done;j=A.next()){I(D=j.value)}}catch(t){l={error:t}}finally{try{j&&!j.done&&(s=A.return)&&s.call(A)}finally{if(l)throw l.error}}if("grouped"===t.type)try{for(var F=(u=void 0,Ye(T.values)),B=F.next();!B.done;B=F.next()){N(B.value)}}catch(t){u={error:t}}finally{try{B&&!B.done&&(c=F.return)&&c.call(F)}finally{if(u)throw u.error}}else N(T.values)}}catch(t){o={error:t}}finally{try{R&&!R.done&&(a=L.return)&&a.call(L)}finally{if(o)throw o.error}}try{for(var z=Ye(x),W=z.next();!W.done;W=z.next()){var G=Ve(W.value,2),X=(E=G[0],G[1]);t.domain.values[E]=He([],Ve(X.getDomain()))}}catch(t){h={error:t}}finally{try{W&&!W.done&&(d=z.return)&&d.call(z)}finally{if(h)throw h.error}}}},t.prototype.postProcessProperties=function(t){var e,n,r=this.propertyProcessors;if(r)try{for(var i=Ye(r),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.adjust,s=a.property,u=a.scopes;l()(t,this.valueIdxLookup(null!=u?u:[],s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.reduceData=function(t){var e,n,r,i,o,a=this.reducers,l=a.map((function(t){return t.scopes})),s=a.map((function(t){return t.reducer()})),u=a.map((function(t){return t.initialValue})),c=function(t){var e,n,o=0;try{for(var a=(e=void 0,Ye(s)),c=a.next();!c.done;c=a.next()){var h=c.value;null===(i=null===(r=t.validScopes)||void 0===r?void 0:r.some((function(t){var e;return null===(e=l[o])||void 0===e?void 0:e.some((function(e){return t===e}))})))||void 0===i||i?(u[o]=h(u[o],t),o++):o++}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}};try{for(var h=Ye(t.data),d=h.next();!d.done;d=h.next()){c(d.value)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}for(var p=0;p<u.length;p++)null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[a[p].property]=u[p]},t.prototype.postProcessData=function(t){var e,n,r,i=this.processors;try{for(var o=Ye(i),a=o.next();!a.done;a=o.next()){var l=a.value;null!==(r=t.reduced)&&void 0!==r||(t.reduced={}),t.reduced[l.property]=l.calculate(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t,e,n,r,i,o=this.keys,a=this.values,l=new Set;try{for(var s=Ye(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var h=(n=void 0,Ye(null!==(i=c.scopes)&&void 0!==i?i:[])),d=h.next();!d.done;d=h.next()){var p=d.value;l.add(p)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}var f=l.size,y=new Map,v=new Map,g=!0,m=function(t,e,n){var r;void 0===n&&(n=y),"category"===e?n.set(t,new We("discrete")):(n.set(t,new We("continuous")),g&&(g=(null!==(r=t.scopes)&&void 0!==r?r:[]).length===f))},b=function(){o.forEach((function(t){return m(t,t.valueType)})),a.forEach((function(t){return m(t,t.valueType)}))};b();var x=this.buildAccessors.apply(this,He(He([],Ve(o)),Ve(a)));return{dataDomain:y,processValue:function(t,e,n){var r,i,o,a,l,s=!1;if(t.property in x){try{l=x[t.property](e)}catch(t){}s=void 0!==l}else l=(s=t.property in e)?e[t.property]:t.missingValue;if((s||"missingValue"in t||t.missing++,y.has(t)||b(),s)&&!(null===(i=null===(r=t.validation)||void 0===r?void 0:r.call(t,l,e))||void 0===i||i)){if(!("invalidValue"in t))return qe;l=t.invalidValue}return t.processor&&(v.has(t)||v.set(t,t.processor()),l=null===(o=v.get(t))||void 0===o?void 0:o(l,n!==qe?n:void 0)),null===(a=y.get(t))||void 0===a||a.extend(l),l},initDataDomain:b,scopes:l,allScopesHaveSameDefs:g}},t.prototype.buildAccessors=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};try{for(var o=Ye(n),a=o.next();!a.done;a=o.next()){var l=a.value,s=l.property.indexOf(".")>=0||l.property.indexOf("[")>=0;if(s){var u=void 0;u=l.property.startsWith("[")?"return datum"+l.property+";":"return datum."+l.property+";",i[l.property]=new Function("datum",u)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i},t.DEBUG=function(){var t;return null!==(t=[!0,"data-model"].includes(rt("agChartsDebug")))&&void 0!==t&&t},t}();function $e(){return function(t,e){var n=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");U.warnOnce(n)}}var Qe=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},tn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function en(t,e){var n,r,i,o;if("string"==typeof t)return t;e=null!=e?e:{};var a=t.content,l=void 0===a?null!==(n=e.content)&&void 0!==n?n:"":a,s=t.title,u=void 0===s?null!==(r=e.title)&&void 0!==r?r:void 0:s,c=t.color,h=void 0===c?null!==(i=e.color)&&void 0!==i?i:"white":c,d=t.backgroundColor,p=void 0===d?null!==(o=e.backgroundColor)&&void 0!==o?o:"#888":d;return(u?'<div class="ag-chart-tooltip-title"\n        style="color: '+h+"; background-color: "+p+'">'+u+"</div>":"")+'<div class="ag-chart-tooltip-content">'+l+"</div>"}var nn=["pointer","node"],rn=Vt((function(t){return nn.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),on=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return Qe([Kt(rn)],t.prototype,"type",void 0),Qe([Kt(fe())],t.prototype,"xOffset",void 0),Qe([Kt(fe())],t.prototype,"yOffset",void 0),t}(),an=function(){function t(e,n,r){var i=this;this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new on,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=r;var o=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add("ag-chart-tooltip"),this.canvasElement=e,window.IntersectionObserver){var a=new IntersectionObserver((function(t){var e,n;try{for(var r=tn(t),o=r.next();!o.done;o=r.next()){var a=o.value;a.target===i.canvasElement&&0===a.intersectionRatio&&i.toggle(!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}if(t.tooltipDocuments.indexOf(n)<0){var l=n.createElement("style");l.innerHTML='\n.ag-chart-tooltip {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.ag-chart-tooltip-no-animation {\n    transition: none !important;\n}\n\n.ag-chart-tooltip-hidden {\n    visibility: hidden;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',n.head.insertBefore(l,n.head.querySelector("style")),t.tooltipDocuments.push(n)}}var e,n,r;return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains("ag-chart-tooltip-hidden")},t.prototype.updateClass=function(t,e){var n=this.element,r=this.class,i=this.lastClass,o=this.enableInteraction,a=function(t,e){var r="ag-chart-tooltip-"+t;e?n.classList.add(r):n.classList.remove(r)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!o),a("hidden",!t),a("arrow",!!e),r!==i&&(i&&n.classList.remove(i),r&&n.classList.add(r),this.lastClass=r)},t.prototype.show=function(t,e,n){var r,i,o,a,l,s,u,c=this;void 0===n&&(n=!1);var h=this.element,d=this.canvasElement;if(void 0!==e)h.innerHTML=e;else if(!h.innerHTML)return void this.toggle(!1);var p=function(t,e,n){return Math.max(Math.min(e,n),t)},f=null!==(i=null===(r=t.position)||void 0===r?void 0:r.xOffset)&&void 0!==i?i:0,y=null!==(a=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==a?a:0,v=d.getBoundingClientRect(),g=v.left+t.offsetX-h.clientWidth/2+f,m=v.top+t.offsetY-h.clientHeight-8+y,b=this.getWindowBoundingBox(),x=b.x+b.width-h.clientWidth-1,w=b.y+b.height-h.clientHeight,S=p(b.x,g,x),k=p(b.y,m,w),O=!(S!==g||k!==m)&&!f&&!y,D=null!==(s=null!==(l=t.showArrow)&&void 0!==l?l:this.showArrow)&&void 0!==s?s:O;if(this.updateShowArrow(D),h.style.transform="translate("+Math.round(S)+"px, "+Math.round(k)+"px)",this.enableInteraction=null!==(u=t.enableInteraction)&&void 0!==u&&u,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){c.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new O(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,r=Boolean(["","-title","-content"].filter((function(t){return null==n?void 0:n.contains("ag-chart-tooltip"+t)})));return void 0!==n&&r},t.prototype.updateShowArrow=function(t){this._showArrow=t},t.tooltipDocuments=[],Qe([Kt(ee)],t.prototype,"enabled",void 0),Qe([Kt(ne)],t.prototype,"showArrow",void 0),Qe([Kt(ie)],t.prototype,"class",void 0),Qe([Kt(fe(0))],t.prototype,"delay",void 0),Qe([(e="range",n=function(t){return t?"nearest":"exact"},r=$e(),Xt((function(t,i,o){return o!==t[e]&&(r(i.toString(),"Use ["+e+"] instead."),t[e]=n?n(o):o),Gt}),(function(t,n){return r(n.toString(),"Use ["+e+"] instead."),t[e]})))],t.prototype,"tracking",void 0),Qe([Kt(Fe)],t.prototype,"range",void 0),t}(),ln=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function sn(t,e){var n,r;void 0===e&&(e=[0,0]);try{for(var i=ln(t),o=i.next();!o.done;o=i.next()){var a=o.value;"number"==typeof a&&(a<0&&(e[0]+=a),a>0&&(e[1]+=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}function un(t,e){return{id:e,scopes:[t.id],type:"aggregate",aggregateFunction:function(){return[0,1]},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e}}}function cn(t,e,n,r){var i={id:e,scopes:[t.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:function(t,e){void 0===e&&(e=[]);var r=e[1]-e[0];return n.aggregateFunction(t).map((function(t){return t/r}))}};return n.groupAggregateFunction&&(i.groupAggregateFunction=n.groupAggregateFunction),i}var hn=new Map;function dn(t,e){var n,r,i,o=JSON.stringify(t,null,0);return hn.has(e)||hn.set(e,new Map),(null===(n=hn.get(e))||void 0===n?void 0:n.has(o))||null===(r=hn.get(e))||void 0===r||r.set(o,e(t)),null===(i=hn.get(e))||void 0===i?void 0:i.get(o)}var pn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fn=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},yn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vn={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,n){var r=n.keys[0],i=Math.abs(r-t);return t=r,!isNaN(i)&&i>0&&i<e?i:e}}},gn={type:"processor",property:"sortedGroupDomain",calculate:function(t){var e=t.domain.groups;if(null!=e)return fn([],pn(e)).sort((function(t,e){for(var n=0;n<t.length;n++){var r=t[n]-e[n];if(0!==r)return r}return 0}))}};function mn(t){var e=t.normaliseTo,n=t.mode,r=function(t,n){var r=t*e/n;return r>=0?Math.min(e,r):Math.max(-e,r)};return function(){return function(){return function(t,e){var i,o,a,l,s=[0,0];try{for(var u=yn(e),c=u.next();!c.done;c=u.next()){var h=t[v=c.value],d=h<0?0:1;"sum"===n?s[d]+=h:s[d]=0===d?Math.min(s[d],h):Math.max(s[d],h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var p=Math.max(Math.abs(s[0]),s[1]);try{for(var f=yn(e),y=f.next();!y.done;y=f.next()){var v;t[v=y.value]=r(t[v],p)}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}}}}}function bn(t,e,n,r){return void 0===r&&(r="sum"),{scopes:[t.id],type:"group-value-processor",matchGroupIds:e,adjust:dn({normaliseTo:n,mode:r},mn)}}function xn(t){var e=t.normaliseTo,n=t.rangeMin,r=t.rangeMax,i=e[1]-e[0],o=function(t,n,r){var o=e[0]+(t-n)/r*i;return 0===r||o>=e[1]?e[1]:o<e[0]?e[0]:o};return function(){return function(t,i){var a,l,s,u,c=pn(t.domain.values[i],2),h=c[0],d=c[1];null!=n&&(h=n),null!=r&&(d=r);var p=d-h;t.domain.values[i]=[e[0],e[1]];try{for(var f=yn(t.data),y=f.next();!y.done;y=f.next()){var v=y.value.values;"ungrouped"===t.type&&(v=[v]);try{for(var g=(s=void 0,yn(v)),m=g.next();!m.done;m=g.next()){var b=m.value;b[i]=o(b[i],h,p)}}catch(t){s={error:t}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}}}}function wn(t,e,n,r,i){return{scopes:[t.id],type:"property-value-processor",property:e,adjust:dn({normaliseTo:n,rangeMin:r,rangeMax:i},xn)}}function Sn(t){return function(){return function(){return function(e,n){var r,i,o=0;try{for(var a=yn(n),l=a.next();!l.done;l=a.next()){var s=l.value,u=e[s];"number"!=typeof u||isNaN(u)||("normal"===t&&(o+=u),e[s]=o,"trailing"===t&&(o+=u))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}}}}function kn(t){var e=t.mode,n=t.sum;return function(){var t=[],r=!0;return function(){return function(i,o){var a,l,s=0;try{for(var u=yn(o),c=u.next();!c.done;c=u.next()){var h=c.value,d=i[h],p=r&&"current"===n?0:t[h];t[h]=d;var f="current"===n?d:p;"number"!=typeof d||isNaN(d)?i[h]=f:"number"!=typeof p||isNaN(p)?i[h]=f:("normal"===e&&(s+=f),i[h]=s,"trailing"===e&&(s+=f))}}catch(t){a={error:t}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(a)throw a.error}}r=!1}}}}function On(t,e,n,r){var i;n.startsWith("window")?i=dn({mode:n.endsWith("-trailing")?"trailing":"normal",sum:r},kn):i=dn(n,Sn);return{scopes:[t.id],type:"group-value-processor",matchGroupIds:[e],adjust:i}}function Dn(t,e){return void 0===e&&(e=!0),{type:"processor",property:"diff",calculate:function(n){for(var r={changed:!1,added:[],updated:[],removed:[]},i=new Map,o=new Map,a=new Map,l=0;l<Math.max(t.data.length,n.data.length);l++){var s=t.data[l],u=n.data[l],c=null==s?void 0:s.keys.join("___"),h=null==u?void 0:u.keys.join("___");c!==h?(a.has(h)?(!e&&_n(a.get(h).values,u.values)||o.set(h,u),a.delete(h)):u&&i.set(h,u),i.has(c)?(!e&&_n(i.get(c).values,s.values)||o.set(c,s),i.delete(c)):s&&a.set(c,s)):_n(s.values,u.values)||o.set(h,u)}return r.added=Array.from(i.values()).map((function(t){return t.keys})),r.updated=Array.from(o.values()).map((function(t){return t.keys})),r.removed=Array.from(a.values()).map((function(t){return t.keys})),r.changed=r.added.length>0||r.updated.length>0||r.removed.length>0,r}}}function _n(t,e){if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){if(Array.isArray(t[n])&&Array.isArray(e[n]))return _n(t[n],e[n]);if(t[n]!==e[n])return!1}return!0}function Cn(t,e){return Xt((function(n,r,i){return n[t][null!=e?e:r]=i,i}))}function Mn(t){var e=t.newValue,n=t.oldValue,r=t.changeValue;return Xt((function(t,i,o,a){return o!==a&&(void 0!==a&&(null==n||n.call(t,a)),void 0!==o&&(null==e||e.call(t,o)),null==r||r.call(t,o,a)),o}))}var En,Pn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nn=function(){return(Nn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ln=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Rn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Tn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},In=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},An=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function jn(t){return null!=jt(t,!0)}function Fn(t){return null!=jt(t,!1)}function Bn(t,e,n,r){return void 0===r&&(r={}),Nn({scopes:[t.id],property:e,type:"key",valueType:n?"range":"category",validation:n?jn:Fn},r)}function zn(t,e,n,r){return void 0===r&&(r={}),Nn({scopes:[t.id],property:e,type:"value",valueType:n?"range":"category",validation:n?jn:Fn},r)}function Wn(t,e,n,r,i,o){return void 0===i&&(i="current"),[zn(t,e,n,o),On(t,o.groupId,r,i)]}!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(En||(En={}));var Gn=function(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id},Xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pn(e,t),e}(Gn),Kn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Pn(e,t),e}(Gn),Vn=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return Ln([Kt(he)],t.prototype,"fill",void 0),Ln([Kt(ye(0,1))],t.prototype,"fillOpacity",void 0),Ln([Kt(he)],t.prototype,"stroke",void 0),Ln([Kt(ye(0))],t.prototype,"strokeWidth",void 0),t}(),Yn=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return Ln([Kt(ye(0))],t.prototype,"strokeWidth",void 0),Ln([Kt(ye(0,1))],t.prototype,"dimOpacity",void 0),Ln([Kt(ne)],t.prototype,"enabled",void 0),t}(),Hn=function(){function t(){this.color="black"}return Ln([Kt(he)],t.prototype,"color",void 0),t}(),Un=function(){this.item=new Vn,this.series=new Yn,this.text=new Hn},Zn=function(){function t(){this.enabled=!0,this.showArrow=void 0,this.interaction=new qn,this.position=new on}return Ln([Kt(ee)],t.prototype,"enabled",void 0),Ln([Kt(ne)],t.prototype,"showArrow",void 0),t}(),qn=function(){function t(){this.enabled=!1}return Ln([Kt(ee)],t.prototype,"enabled",void 0),t}(),Jn=function(t){function e(e){var n,r=t.call(this)||this;r.id=E(r),r.rootGroup=new et({name:"seriesRoot",isVirtual:!0}),r.axes=((n={})[Te.X]=void 0,n[Te.Y]=void 0,n),r.directions=[Te.X,Te.Y],r.nodeDataRefresh=!0,r._data=void 0,r._visible=!0,r.showInLegend=!0,r.cursor="default",r.nodeClickRange="exact",r.seriesGrouping=void 0,r._declarationOrder=-1,r.highlightStyle=new Un,r.ctx=e.moduleCtx;var i=e.useLabelLayer,o=void 0!==i&&i,a=e.pickModes,l=void 0===a?[En.NEAREST_BY_MAIN_AXIS_FIRST]:a,s=e.directionKeys,u=void 0===s?{}:s,c=e.directionNames,h=void 0===c?{}:c,d=e.contentGroupVirtual,p=void 0===d||d,f=r.rootGroup;return r.directionKeys=u,r.directionNames=h,r.contentGroup=f.appendChild(new et({name:r.id+"-content",layer:!p,isVirtual:p,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:r.getGroupZIndexSubOrder("data")})),r.highlightGroup=f.appendChild(new et({name:r.id+"-highlight",layer:!0,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:r.getGroupZIndexSubOrder("highlight")})),r.highlightNode=r.highlightGroup.appendChild(new et({name:"highlightNode"})),r.highlightLabel=r.highlightGroup.appendChild(new et({name:"highlightLabel"})),r.highlightNode.zIndex=0,r.highlightLabel.zIndex=10,r.pickModes=l,o&&(r.labelGroup=f.appendChild(new et({name:r.id+"-series-labels",layer:!0,zIndex:Re.SERIES_LABEL_ZINDEX}))),r}return Pn(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.onSeriesGroupingChange=function(t,e){var n=this,r=this.id,i=this.type,o=this.visible,a=this.rootGroup;t&&this.ctx.seriesStateManager.deregisterSeries({id:r,type:i}),e&&this.ctx.seriesStateManager.registerSeries({id:r,type:i,visible:o,seriesGrouping:e}),this.ctx.seriesLayerManager.changeGroup({id:r,type:i,rootGroup:a,getGroupZIndexSubOrder:function(t){return n.getGroupZIndexSubOrder(t)},seriesGrouping:e,oldGrouping:t})},e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.getGroupZIndexSubOrder=function(t,e){var n=this;void 0===e&&(e=0);var r=0;switch(t){case"data":case"paths":break;case"labels":r+=2e4;break;case"marker":r+=1e4;break;case"highlight":e+=15e3}return[function(){return n._declarationOrder+r},e]},e.prototype.addChartEventListeners=function(){},e.prototype.destroy=function(){this.ctx.seriesStateManager.deregisterSeries(this),this.ctx.seriesLayerManager.releaseGroup(this)},e.prototype.getDirectionValues=function(t,e){var n=this,r=this.resolveKeyDirection(t),i=null==e?void 0:e[r],o=[],a=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var i=Tn(n),o=i.next();!o.done;o=i.next()){var a=o.value;l(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},l=function(t){Array.isArray(t)?a.apply(void 0,An([],In(t))):"object"==typeof t?a(Object.values(t)):o.push(t)};return i?(i.forEach((function(t){var e=n[t];l(e)})),o):o},e.prototype.getKeys=function(t){return this.getDirectionValues(t,this.directionKeys)},e.prototype.getNames=function(t){return this.getDirectionValues(t,this.directionNames)},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){this.ctx.seriesStateManager.registerSeries(this)},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,n=e.dimOpacity,r=void 0===n?1:n,i=e.enabled;if(!1===(void 0===i||i)||1===r)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return r}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series,r=n.strokeWidth,i=n.enabled;if(!1===(void 0===i||i)||void 0===r)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return r;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=null!=n?n:{},i=r.series,o=r.itemId;return null!=i?i!==this?"other-highlighted":void 0===o?"highlighted":t&&n!==t&&o!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var n,r,i=this.pickModes,o=this.visible,a=this.rootGroup;if(o&&a.visible)try{for(var l=Tn(i),s=l.next();!s.done;s=l.next()){var u=s.value;if(!e||e.includes(u)){var c=void 0;switch(u){case En.EXACT_SHAPE_MATCH:c=this.pickNodeExactShape(t);break;case En.NEAREST_BY_MAIN_AXIS_FIRST:case En.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:c=this.pickNodeMainAxisFirst(t,u===En.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case En.NEAREST_NODE:c=this.pickNodeClosestDatum(t)}if(c)return{pickMode:u,match:c.datum,distance:c.distance}}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var n=this.getNodeClickEvent(t,e);this.fireEvent(n)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)},e.prototype.getNodeClickEvent=function(t,e){return new Xn(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Kn(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var n,r=Ze(t);if(0===r.length)return r;var i=In(r,2),o=i[0],a=i[1];if(o===a){var l=In(null!==(n=null==e?void 0:e.calculatePadding(o,a))&&void 0!==n?n:[1,1],2);o-=l[0],a+=l[1]}return[o,a]},e.highlightedZIndex=1e12,Ln([Kt(re)],e.prototype,"id",void 0),Ln([Kt(ee)],e.prototype,"_visible",void 0),Ln([Kt(ee)],e.prototype,"showInLegend",void 0),Ln([Kt(re)],e.prototype,"cursor",void 0),Ln([Kt(Fe)],e.prototype,"nodeClickRange",void 0),Ln([Mn({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],e.prototype,"seriesGrouping",void 0),e}(Lt),$n=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Qn=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===r&&(r=e),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},$n([Kt(fe(0))],t.prototype,"top",void 0),$n([Kt(fe(0))],t.prototype,"right",void 0),$n([Kt(fe(0))],t.prototype,"bottom",void 0),$n([Kt(fe(0))],t.prototype,"left",void 0),t}(),tr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},er=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e((function(e){var n,r;try{for(var i=tr(e),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.contentRect,s=l.width,u=l.height;t.checkSize(t.elements.get(a.target),a.target,s,u)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}));else{this.pollerHandler=window.setInterval((function(){t.elements.forEach((function(e,n){t.checkClientSize(n,e)}))}),100)}this.ready=!0},t.destroy=function(){var t;null!=this.pollerHandler&&(clearInterval(this.pollerHandler),this.pollerHandler=void 0),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=void 0,this.ready=!1},t.checkSize=function(t,e,n,r){t&&(t.size&&n===t.size.width&&r===t.size.height||(t.size={width:n,height:r},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t,!1),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t,e){void 0===e&&(e=!0),this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t),e&&0===this.elements.size&&this.destroy()},t.checkClientSize=function(t,e){var n=t.clientWidth?t.clientWidth:0,r=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,n,r)},t.elements=new Map,t.ready=!1,t}();function nr(t,e,n,r,i){var o=t.x;t.x<e?o=e:t.x>e+r&&(o=e+r);var a=t.y;t.y<n?a=n:t.y>n+i&&(a=n+i);var l=t.x-o,s=t.y-a;return Math.sqrt(l*l+s*s)<=.5*t.size}function rr(t,e,n,r,i){var o=t.x+t.width>e&&t.x<e+r,a=t.y+t.height>n&&t.y<n+i;return o&&a}var ir=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},or=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function ar(t,e){var n,r,i=0,o=!1,a=function(){return o},l=function(){o=!1,null==r||r(),r=void 0,n=void 0,i>0&&t(s)},s=function(){var t=i;i=0,o=!0;var n=e({count:t});n?n.then(l).catch(l):l()};return{schedule:function(e){0!==i||a()||t(s,e),i++},await:function(){return ir(this,void 0,void 0,(function(){return or(this,(function(t){switch(t.label){case 0:if(!a())return[2];null==n&&(n=new Promise((function(t){r=t}))),t.label=1;case 1:return a()?[4,n]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}function lr(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var sr=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ur=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,n,r=this.element;if(r||((r=document.createElement("div")).className=this.className,this.element=r),r.style.position="absolute",r.style.left=t.x+"px",r.style.top=t.y+"px",r.style.width=t.width+"px",r.style.height=t.height+"px",this.renderer)r.innerHTML=this.renderer();else{var i=document.createElement("div");i.style.alignItems="center",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.style.margin="8px",i.style.height="100%",i.style.font="12px Verdana, sans-serif",i.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",r.append(i)}null===(n=this.parentElement)||void 0===n||n.append(r)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},sr([Kt(te)],t.prototype,"renderer",void 0),sr([Kt(ie)],t.prototype,"text",void 0),t}(),cr=function(t){this.noData=new ur("ag-chart-no-data-overlay",t)},hr=function(){return(hr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},dr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},pr=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},fr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function yr(t,e){var n,r,i=xr(t),o=xr(e);if("array"===o){var a=e;return"array"!==i||t.length!==a.length||a.some((function(e,n){var r;return null!=yr(null===(r=t)||void 0===r?void 0:r[n],e)}))?pr([],dr(a)):null}if("primitive"===o)return"primitive"!==i?hr({},e):t!==e?e:null;var l=t||{},s=e||{},u=new Set(pr(pr([],dr(Object.keys(l))),dr(Object.keys(s)))),c=0,h={},d=function(t){if(l[t]===s[t])return"continue";var e=function(e){h[t]=e,c++},n=xr(l[t]),r=xr(s[t]);if(n!==r)return e(s[t]),"continue";if("primitive"===r||null===r)return e(s[t]),"continue";if("array"===r&&l[t].length!==s[t].length)return e(s[t]),"continue";if("class-instance"===r)return e(s[t]),"continue";if("function"===r&&l[t]!==s[t])return e(s[t]),"continue";var i=yr(l[t],s[t]);null!==i&&e(i)};try{for(var p=fr(u),f=p.next();!f.done;f=p.next()){d(f.value)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return 0===c?null:h}var vr=Symbol("<delete-property>"),gr=Symbol("<unspecified-property>");function mr(t,e){var n,r,i,o=null!==(i=null==e?void 0:e.avoidDeepClone)&&void 0!==i?i:[];if(t.map((function(t){return xr(t)})).some((function(t){return"array"===t}))){var a=t[t.length-1];return a instanceof Array?a.map((function(t){var n=xr(t);return"array"===n?mr([[],t],e):"object"===n?mr([{},t],e):t})):a}var l={},s=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),u=function(n){var r=t.map((function(t){return null!=t&&"object"==typeof t&&n in t?t[n]:gr})).filter((function(t){return t!==gr}));if(0===r.length)return"continue";var i=r[r.length-1];if(i===vr)return"continue";var a=r.map((function(t){return xr(t)})),s=a[0];if(a.some((function(t){return t!==s})))return l[n]=i,"continue";"array"!==s&&"object"!==s||o.includes(n)?l[n]="array"===s?pr([],dr(i)):i:l[n]=mr(r,e)};try{for(var c=fr(s),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l}var br="undefined"!=typeof window;function xr(t){return null==t?null:br&&t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var wr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},kr=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Or=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var n,r=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:r,handler:e}),r},t.prototype.dispatch=function(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],l=[];try{for(var s=wr(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{l.push(c.handler.apply(c,kr([],Sr(i))))}catch(t){U.errorOnce(t),l.push(void 0)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return l},t.prototype.cancellableDispatch=function(t,e){for(var n,r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],s=[];try{for(var u=wr(l),c=u.next();!c.done;c=u.next()){var h=c.value;if(e())break;s.push(h.handler.apply(h,kr([],Sr(o))))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},t.prototype.reduceDispatch=function(t,e){for(var n,r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],s=void 0;try{for(var u=wr(l),c=u.next();!c.done;c=u.next()){var h=c.value;s=h.handler.apply(h,kr([],Sr(o))),o=e.apply(void 0,kr([s],Sr(o)))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],r=null==n?void 0:n.findIndex((function(e){return e.symbol===t}));null!=r&&r>=0&&(null==n||n.splice(r,1)),null!=r&&0===(null==n?void 0:n.length)&&delete this.registeredListeners[e]}},t}(),Dr=function(){function t(){this.listeners=new Or}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}();function _r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cr(t,e){if("string"==typeof t)try{t=zt.fromString(t)}catch(e){t=zt.fromArray([0,0,0])}if("string"==typeof e)try{e=zt.fromString(e)}catch(t){e=zt.fromArray([0,0,0])}var n=_r(t.r,e.r),r=_r(t.g,e.g),i=_r(t.b,e.b),o=_r(t.a,e.a);return function(t){return zt.fromArray([n(t),r(t),i(t),o(t)]).toRgbaString()}}function Mr(t,e){var n=typeof e;if("number"===n)return _r(t,e);if("string"===n)try{return Cr(t,e=zt.fromString(e))}catch(t){}throw new Error("Unable to interpolate values")}function Er(t){return Mr(t.from,t.to)}var Pr,Nr,Lr=(Pr=function(t){return Math.sin(t*Math.PI/2)},function(t){var e=Mr(t.from,t.to);return function(t){return e(Pr(t))}}),Rr=function(){return(Rr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Tr(t){var e,n=t.driver,r=t.duration,i=t.from,o=t.to,a=t.autoplay,l=void 0===a||a,s=t.delay,u=void 0===s?0:s,c=t.ease,h=void 0===c?Er:c,d=t.repeat,p=void 0===d?0:d,f=t.repeatType,y=void 0===f?Nr.Loop:f,v=t.onComplete,g=t.onPlay,m=t.onRepeat,b=t.onStop,x=t.onUpdate,w=0,S=0,k=0,O=!0,D=!1,_=h({from:i,to:o}),C={isPlaying:!1,play:E,pause:function(){return C.isPlaying=!1,C},stop:P,reset:function(){return D=!1,S=0,k=0,M.reset(),C}},M=n((function(t){O||(t=-t);if(!(w>=u))return void(w+=t);S+=t;D||(e=_(Math.min(1,Math.max(0,S/r))),D=O?S>=r:S<=0);null==x||x(e),D&&(k<p?function(){k++,y===Nr.Reverse?S=(O=k%2==0)?S%r:r-S%r:S%=r;D=!1,null==m||m()}():(P(),null==v||v()))}));function E(){return C.isPlaying=!0,M.start(),null==g||g(),C}function P(){return C.isPlaying=!1,M.stop(),null==b||b(),C}return l&&E(),C}!function(t){t.Loop="loop",t.Reverse="reverse"}(Nr||(Nr={}));var Ir=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ar=function(){return(Ar=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},jr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Fr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Br=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},zr=function(t){function e(e){var n=t.call(this)||this;return n.controllers={},n.throttles={},n.throttleGroups=new Set,n.updaters=[],n.isPlaying=!1,n.readyToPlay=!1,n.defaultOptions={},n.skipAnimations=!1,n.debug=!1,n.interactionManager=e,window.addEventListener("DOMContentLoaded",(function(){n.readyToPlay=!0})),setTimeout((function(){n.readyToPlay=!0}),10),n}return Ir(e,t),e.prototype.play=function(){if(!this.isPlaying){for(var t in this.isPlaying=!0,this.debug&&U.debug("AnimationManager.play()"),this.controllers)this.controllers[t].play();this.startAnimationCycle()}},e.prototype.pause=function(){if(this.isPlaying)for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&U.debug("AnimationManager.pause()"),this.controllers)this.controllers[t].pause()},e.prototype.stop=function(){for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&U.debug("AnimationManager.stop()"),this.controllers)this.controllers[t].stop()},e.prototype.reset=function(){this.isPlaying?(this.stop(),this.play()):this.stop()},e.prototype.animate=function(t,e){var n,r,i=e.disableInteractions,o=void 0===i||i,a=jr(e,["disableInteractions"]);if(!this.skipAnimations){var l=Ar(Ar({},a),{autoplay:!!this.isPlaying&&a.autoplay,driver:this.createDriver(t,o)});this.controllers[t]&&this.controllers[t].stop();var s=Tr(l);return this.controllers[t]=s,null===(r=a.onUpdate)||void 0===r||r.call(a,a.from),s}null===(n=a.onUpdate)||void 0===n||n.call(a,a.to)},e.prototype.animateMany=function(t,e,n){var r,i,o;if(this.skipAnimations){var a=e.map((function(t){return t.to}));return n.onUpdate(a),void(null===(o=n.onComplete)||void 0===o||o.call(n))}var l=e.map((function(t){return t.from})),s=0,u=0,c=0,h=0,d=function(t){return function(r){var i;l[t]=r,++c>=e.length&&(null===(i=n.onUpdate)||void 0===i||i.call(n,l),c=0)}},p=function(){var t;++s>=e.length&&(null===(t=n.onPlay)||void 0===t||t.call(n))},f=function(){var t;++u>=e.length&&(null===(t=n.onStop)||void 0===t||t.call(n))},y=function(){var t;++h>=e.length&&(null===(t=n.onComplete)||void 0===t||t.call(n))},v=0;try{for(var g=Fr(e),m=g.next();!m.done;m=g.next()){var b=m.value,x=t+"-"+v;this.animate(x,Ar(Ar(Ar({},n),b),{onUpdate:d(v),onPlay:p,onStop:f,onComplete:y})),v++}}catch(t){r={error:t}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}},e.prototype.animateWithThrottle=function(t,e){var n,r=null!==(n=e.throttleId)&&void 0!==n?n:t;this.throttles[r]&&e.duration&&Date.now()-this.throttles[r]<e.duration&&(e.delay=0,e.duration=1),this.throttles[t]=Date.now(),this.animate(t,Ar({},e))},e.prototype.animateManyWithThrottle=function(t,e,n){var r,i=this,o=n.throttleGroup,a=null!==(r=n.throttleId)&&void 0!==r?r:t,l=Date.now(),s=this.throttles[a]&&n.duration&&l-this.throttles[a]<n.duration,u=o&&this.throttleGroups.has(o);s&&!u&&(n.delay=0,n.duration=1),!s&&o&&this.throttleGroups.add(o);return this.throttles[a]=l,this.animateMany(t,e,Ar(Ar({},n),{onStop:function(){var t;o&&i.throttleGroups.delete(o),null===(t=n.onStop)||void 0===t||t.call(n)}}))},e.prototype.tween=function(t){var e="tween-"+btoa(JSON.stringify(t));return function(t){var e,n=Tr(Rr(Rr({},t),{autoplay:!1,onUpdate:function(t){null==e||e(t)}})),r={start:function(t){return n.stop(),n.reset(),n.play(),e=t,r},stop:function(){return n.stop(),r}};return r}(Ar(Ar({},t),{driver:this.createDriver(e)}))},e.prototype.createDriver=function(t,e){var n=this;return function(r){return{start:function(){n.updaters.push([t,r]),null==n.requestId&&n.startAnimationCycle(),e&&n.interactionManager.pause("animation_"+t)},stop:function(){delete n.controllers[t],n.updaters=n.updaters.filter((function(e){return Br(e,1)[0]!==t})),n.updaters.length<=0&&n.cancelAnimationFrame(),e&&n.interactionManager.resume("animation_"+t)},reset:function(){}}}},e.prototype.startAnimationCycle=function(){var t=this;if(0!==this.updaters.length){var e=function(n){if(t.requestId=requestAnimationFrame(e),t.readyToPlay){void 0===t.lastTime&&(t.lastTime=n);var r=n-t.lastTime;t.lastTime=n,t.debug&&U.debug("AnimationManager - frame()",{updaterCount:t.updaters.length}),t.updaters.forEach((function(t){var e=Br(t,2);return e[0],(0,e[1])(r)})),t.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})}};this.requestId=requestAnimationFrame(e)}},e.prototype.cancelAnimationFrame=function(){this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=void 0,this.lastTime=void 0)},e}(Dr),Wr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Gr=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var n=Wr(e,2);n[0];var r=n[1].style;return t=r})),this.element.style.cursor=t},t}(),Xr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xr(e,t),e.prototype.legendItemClick=function(t,e,n,r){var i={type:"legend-item-click",series:t,itemId:e,enabled:n,legendItemName:r};this.listeners.dispatch("legend-item-click",i)},e.prototype.legendItemDoubleClick=function(t,e,n,r,i){var o={type:"legend-item-double-click",series:t,itemId:e,enabled:n,legendItemName:i,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",o)},e.prototype.axisHover=function(t,e){var n={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",n)},e}(Dr),Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var Hr=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return Vr(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t,e,n=this.activeHighlight,r=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var e=Yr(t,2);e[0];var n=e[1].highlightedDatum;return r=n})),this.activeHighlight=r,t=n,e=this.activeHighlight,!(t===e||(null==t?void 0:t.series)===(null==e?void 0:e.series)&&(null==t?void 0:t.itemId)===(null==e?void 0:e.itemId)&&(null==t?void 0:t.datum)===(null==e?void 0:e.datum))){var i={type:"highlight-change",previousHighlight:n,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",i)}},e}(Dr),Ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zr=function(){return(Zr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},qr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Jr=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},$r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qr=["pagehide","mousemove","mouseup","wheel"],ti=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],ei=function(t){function e(n,r){var i,o,a,l;void 0===r&&(r=document);var s=t.call(this)||this;s.eventHandler=function(t){return s.processEvent(t)},s.mouseDown=!1,s.touchDown=!1,s.enabled=!0,s.pausers=[],s.rootElement=r.body,s.element=n;try{for(var u=$r(ti),c=u.next();!c.done;c=u.next()){(p=c.value).startsWith("touch")?n.addEventListener(p,s.eventHandler,{passive:!0}):n.addEventListener(p,s.eventHandler)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var h=$r(Qr),d=h.next();!d.done;d=h.next()){var p;"wheel"===(p=d.value)?window.addEventListener(p,s.eventHandler,{passive:!1}):window.addEventListener(p,s.eventHandler)}}catch(t){a={error:t}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}if(e.interactionDocuments.indexOf(r)<0){var f=document.createElement("style");f.innerHTML="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",document.head.insertBefore(f,document.head.querySelector("style")),e.interactionDocuments.push(r)}return s}return Ur(e,t),e.prototype.destroy=function(){var t,e,n,r;try{for(var i=$r(Qr),o=i.next();!o.done;o=i.next()){var a=o.value;window.removeEventListener(a,this.eventHandler)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var l=$r(ti),s=l.next();!s.done;s=l.next()){a=s.value;this.element.removeEventListener(a,this.eventHandler)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},e.prototype.resume=function(t){return this.pausers=this.pausers.filter((function(e){return e!==t})),this.enabled=this.pausers.length<=0,this.enabled},e.prototype.pause=function(t){this.enabled=!1,this.pausers.push(t)},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.enabled&&this.dispatchEvent(t,e).catch((function(t){return U.errorOnce(t)}))},e.prototype.dispatchEvent=function(t,e){return qr(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u;return Jr(this,(function(c){if(null==(n=this.calculateCoordinates(t)))return[2];r=function(e){var r=i.buildEvent(Zr(Zr({event:t},n),{type:e}));i.listeners.cancellableDispatch(e,(function(){return r.consumed}),r)},i=this;try{for(o=$r(e),a=o.next();!a.done;a=o.next())l=a.value,r(l)}catch(t){s={error:t}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(s)throw s.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var n;if(t instanceof MouseEvent){var r=t.clientX,i=t.clientY,o=t.pageX,a=t.pageY,l=t.offsetX,s=t.offsetY;return this.fixOffsets(t,{clientX:r,clientY:i,pageX:o,pageY:a,offsetX:l,offsetY:s})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var u=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];r=u.clientX,i=u.clientY,o=u.pageX,a=u.pageY;return Zr(Zr({},e.NULL_COORDS),{clientX:r,clientY:i,pageX:o,pageY:a})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var n=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var r=n(this.dragStartElement),i=n(t.target);e.offsetX-=r.x-i.x,e.offsetY-=r.y-i.y}return e},e.prototype.buildEvent=function(t){var e=t.type,n=t.event,r=t.clientX,i=t.clientY,o=t.offsetX,a=t.offsetY,l=t.pageX,s=t.pageY;if(!Ft(o)||!Ft(a)){var u=this.element.getBoundingClientRect();o=r-u.left,a=i-u.top}if(!Ft(l)||!Ft(s)){var c=this.rootElement.getBoundingClientRect();l=r-c.left,s=i-c.top}var h={type:e,offsetX:o,offsetY:a,pageX:l,pageY:s,sourceEvent:n,consumed:!1,consume:function(){return h.consumed=!0}};return h},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(Dr),ni=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ri=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ii=function(){function t(t,e){var n=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var r=e.addListener("hover",(function(t){return n.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(r)}))}return t.prototype.updateTooltip=function(t,e,n){var r;null==n&&(n=null===(r=this.states[t])||void 0===r?void 0:r.content),this.states[t]={content:n,meta:e},this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var n=ni(this.destroyFns),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,n,r;try{for(var i=ni(Object.entries(this.exclusiveAreas)),o=i.next();!o.done;o=i.next()){var a=ri(o.value,2),l=a[0];if(a[1].containsPoint(t.offsetX,t.offsetY)){r=l;break}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=r,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,n=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),r=void 0,i=void 0;if(n.reverse(),n.slice(0,1).forEach((function(t){var n,o=null!==(n=e.states[t])&&void 0!==n?n:{},a=o.content,l=o.meta;r=a,i=l})),void 0===i||void 0===r)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===r){var o=this.tooltip.isVisible();this.tooltip.show(i,void 0,o)}else this.tooltip.show(i,r);this.appliedState={content:r,meta:i}},t}(),oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ai=function(){return(ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},li=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},si=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.axes={},e}return oi(e,t),e.prototype.updateAxes=function(t){var e=this,n=new Set(Object.keys(this.axes));t.forEach((function(t){var r,i,o;n.delete(t.id),null!==(r=(i=e.axes)[o=t.id])&&void 0!==r||(i[o]=new ci(t))})),n.forEach((function(t){delete e.axes[t]})),this.initialZoom&&(this.updateZoom(this.initialZoom.callerId,this.initialZoom.newZoom),this.initialZoom=void 0)},e.prototype.updateZoom=function(t,e){0!==Object.keys(this.axes).length?(Object.values(this.axes).forEach((function(n){n.updateZoom(t,null==e?void 0:e[n.getDirection()])})),this.applyStates()):this.initialZoom={callerId:t,newZoom:e}},e.prototype.updateAxisZoom=function(t,e,n){var r;null===(r=this.axes[e])||void 0===r||r.updateZoom(t,n),this.applyStates()},e.prototype.getZoom=function(){var t,e;if(Object.values(this.axes).forEach((function(n){n.getDirection()===Te.X?t=n.getZoom():n.getDirection()===Te.Y&&(e=n.getZoom())})),t||e)return{x:t,y:e}},e.prototype.getAxisZoom=function(t){var e;return null===(e=this.axes[t])||void 0===e?void 0:e.getZoom()},e.prototype.getAxisZooms=function(){var t,e,n={};try{for(var r=li(Object.entries(this.axes)),i=r.next();!i.done;i=r.next()){var o=si(i.value,2),a=o[0],l=o[1];n[a]={direction:l.getDirection(),zoom:l.getZoom()}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},e.prototype.applyStates=function(){var t,e;if(Object.values(this.axes).map((function(t){return t.applyStates()})).some(Boolean)){var n=this.getZoom(),r={};try{for(var i=li(Object.entries(this.axes)),o=i.next();!o.done;o=i.next()){var a=si(o.value,2),l=a[0],s=a[1];r[l]=s.getZoom()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}var u=ai(ai({type:"zoom-change"},null!=n?n:{}),{axes:r});this.listeners.dispatch("zoom-change",u)}},e}(Dr),ci=function(){function t(t){this.states={},this.currentZoom=void 0,this.axis=t}return t.prototype.getDirection=function(){return this.axis.direction},t.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=ai({},e))},t.prototype.getZoom=function(){return this.currentZoom},t.prototype.applyStates=function(){var t,e,n=this.currentZoom,r=Object.keys(this.states)[Object.keys(this.states).length-1];return this.currentZoom=ai({},this.states[r]),(null==n?void 0:n.min)!==(null===(t=this.currentZoom)||void 0===t?void 0:t.min)||(null==n?void 0:n.max)!==(null===(e=this.currentZoom)||void 0===e?void 0:e.max)},t}(),hi=function(){return(hi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var di,pi=function(){function t(){this.layoutProcessors=new Or,this.listeners=new Or}return t.prototype.addListener=function(t,e){if("layout-complete"!==t)return this.layoutProcessors.addListener(t,e);if(function(t){return"layout-complete"===t}(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var n=this.layoutProcessors.reduceDispatch(t,(function(t,e){var n=t.shrinkRect;return[hi(hi({},e),{shrinkRect:n})]}),e);return null!=n?n:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),fi=function(t){this.getSeries=t};!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(di||(di={}));var yi=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t,e){void 0===t&&(t=di.FULL);var n=(void 0===e?{}:e).forceNodeDataRefresh,r=void 0!==n&&n;this.updateCallback(t,{forceNodeDataRefresh:r})},t}(),vi=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},gi=function(){function t(){this.range="tooltip"}return vi([Kt(xe("tooltip","node"))],t.prototype,"range",void 0),t}(),mi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},xi=function(){function t(t,e,n){void 0===n&&(n=!0),this._nodes=[],this._data=[],this._datumNodeIndices=new Map,this._garbage=[],this._garbageCollection=!0,this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(z,e)?function(){return new e}:e,this._garbageCollection=n}return t.select=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t.prototype.each=function(t){return this._nodes.forEach((function(e,n){return t(e,e.datum,n)})),this},t.prototype.update=function(t,e,n){var r,i,o=this,a=this._data,l=this._parent,s=this._factory,u=new Map;if(n?t.forEach((function(t,r){var i=n(t);if(u.set(i,r),!o._datumNodeIndices.has(i)){var a=s(t);a.datum=t,null==e||e(a),l.appendChild(a),o._nodes.push(a),o._datumNodeIndices.set(i,o._nodes.length-1)}})):t.length>a.length?t.slice(a.length).forEach((function(t){var n=s(t);n.datum=t,null==e||e(n),l.appendChild(n),o._nodes.push(n)})):t.length<a.length&&this._nodes.splice(t.length).forEach((function(t){l.removeChild(t)})),this._data=t.slice(0),n){try{for(var c=mi(this._datumNodeIndices),h=c.next();!h.done;h=c.next()){var d=bi(h.value,2),p=d[0],f=d[1],y=u.get(p);void 0!==y?this._nodes[f].datum=t[y]:this._garbage.push(p)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this._garbageCollection&&this.cleanup()}else for(var v=0;v<t.length;v++)this._nodes[v].datum=this._data[v];return this},t.prototype.clear=function(){return this.update([]),this},t.prototype.cleanup=function(){var t,e,n=this;if(0!==this._garbage.length){this._garbage.forEach((function(t){var e=n._datumNodeIndices.get(t);if(void 0!==e){var r=n._nodes[e];delete n._nodes[e],n._datumNodeIndices.delete(t),r&&n._parent.removeChild(r)}}));var r=0,i=this._datumNodeIndices.entries(),o=new Map;try{for(var a=mi(i),l=a.next();!l.done;l=a.next()){var s=bi(l.value,2),u=s[0],c=s[1];o.set(c,u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this._nodes=this._nodes.filter((function(t,e){if(void 0===t)return!1;var i=o.get(e);return n._datumNodeIndices.set(i,r),r++,!0})),this._garbage=[]}},t.selectAll=function(t,e){var n=[],r=function(t){e(t)&&n.push(t),t.children.forEach(r)};return r(t),n},t.selectByClass=function(e,n){return t.selectAll(e,(function(t){return t instanceof n}))},t.selectByTag=function(e,n){return t.selectAll(e,(function(t){return t.tag===n}))},t.prototype.select=function(e){return t.selectAll(this._parent,e)},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}();function wi(t,e,n,r){if(0===t)return function(t,e,n){if(0===t)return function(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}(e,n);var r=e*e-4*t*n,i=[];if(0===r){var o=-e/(2*t);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),l=(-e-a)/(2*t),s=(-e+a)/(2*t);l>=0&&l<=1&&i.push(l),s>=0&&s<=1&&i.push(s)}return i}(e,n,r);var i=e/t,o=n/t,a=(3*o-i*i)/9,l=(9*i*o-27*(r/t)-2*i*i*i)/54,s=a*a*a+l*l,u=[];if(s>=0){var c=Math.sqrt(s),h=Math.sign(l+c)*Math.pow(Math.abs(l+c),1/3),d=Math.sign(l-c)*Math.pow(Math.abs(l-c),1/3),p=Math.abs(Math.sqrt(3)*(h-d)/2),f=-1/3*i+(h+d);if(f>=0&&f<=1&&u.push(f),0===p){var y=-1/3*i-(h+d)/2;y>=0&&y<=1&&u.push(y)}}else{var v=Math.acos(l/Math.sqrt(-a*a*a)),g=1/3*i,m=2*Math.sqrt(-a),b=m*Math.cos(1/3*v)-g,x=m*Math.cos(1/3*(v+2*Math.PI))-g,w=m*Math.cos(1/3*(v+4*Math.PI))-g;b>=0&&b<=1&&u.push(b),x>=0&&x<=1&&u.push(x),w>=0&&w<=1&&u.push(w)}return u}var Si=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ki(t,e,n,r,i,o,a,l){var s=(n-t)*(l-o)-(r-e)*(a-i);if(0===s)return null;var u=((a-i)*(e-o)-(t-i)*(l-o))/s,c=((n-t)*(e-o)-(r-e)*(t-i))/s;return u>=0&&u<=1&&c>=0&&c<=1?{x:t+u*(n-t),y:e+u*(r-e)}:null}function Oi(t,e,n,r,i,o,a,l,s,u,c,h){var d,p,f=[],y=u-h,v=c-s,g=s*(h-u)-u*(c-s),m=Di(t,n,i,a),b=Di(e,r,o,l),x=wi(y*m[0]+v*b[0],y*m[1]+v*b[1],y*m[2]+v*b[2],y*m[3]+v*b[3]+g);try{for(var w=Si(x),S=w.next();!S.done;S=w.next()){var k=S.value,O=k*k,D=k*O,_=m[0]*D+m[1]*O+m[2]*k+m[3],C=b[0]*D+b[1]*O+b[2]*k+b[3],M=void 0;(M=s!==c?(_-s)/(c-s):(C-u)/(h-u))>=0&&M<=1&&f.push({x:_,y:C})}}catch(t){d={error:t}}finally{try{S&&!S.done&&(p=w.return)&&p.call(w)}finally{if(d)throw d.error}}return f}function Di(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function _i(t,e,n,r,i,o,a,l,s,u){var c=(u-l)/(s-a),h=l-c*a,d=Math.pow(c,2)+1,p=2*(c*(h-e)-t),f=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(n,2),y=Math.pow(p,2)-4*d*f;if(y<0)return[];var v=(-p+Math.sqrt(y))/2/d,g=(-p-Math.sqrt(y))/2/d,m=[];return[v,g].forEach((function(t){if(t>=Math.min(a,s)&&t<=Math.max(a,s)){var e=c*t,n=pt(o?i:r),l=pt(o?r:i),u=pt(Math.atan2(e,t));l<=n&&(l+=2*Math.PI),u<n&&(u+=2*Math.PI),u>=n&&u<=l&&m.push({x:t,y:e})}})),m}var Ci,Mi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(Ci||(Ci={}));var Ei=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,r=this.commands,i=this.params,o=0;t.beginPath();try{for(var a=Mi(r),l=a.next();!l.done;l=a.next()){switch(l.value){case Ci.Move:t.moveTo(i[o++],i[o++]);break;case Ci.Line:t.lineTo(i[o++],i[o++]);break;case Ci.Curve:t.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Ci.Arc:t.arc(i[o++],i[o++],i[o++],i[o++],i[o++],1===i[o++]);break;case Ci.ClosePath:t.closePath()}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}0===r.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Ci.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Ci.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.closePath()},t.prototype.arc=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=t+n*Math.cos(i),l=e+n*Math.sin(i);this.xy?(this.xy[0]=a,this.xy[1]=l):this.xy=[a,l],this.commands.push(Ci.Arc),this.params.push(t,e,n,r,i,o?1:0)},t.prototype.cubicCurveTo=function(t,e,n,r,i,o){this.xy||this.moveTo(t,e),this.commands.push(Ci.Curve),this.params.push(t,e,n,r,i,o),this.xy&&(this.xy[0]=i,this.xy[1]=o)},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Ci.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,r=this.params,i=n.length,o=-1e4,a=-1e4,l=NaN,s=NaN,u=0,c=0,h=0,d=0,p=0;d<i;d++)switch(n[d]){case Ci.Move:isNaN(l)||ki(l,s,u,c,o,a,t,e)&&h++,l=u=r[p++],s=c=r[p++];break;case Ci.Line:ki(u,c,r[p++],r[p++],o,a,t,e)&&h++,u=r[p-2],c=r[p-1];break;case Ci.Curve:h+=Oi(u,c,r[p++],r[p++],r[p++],r[p++],r[p++],r[p++],o,a,t,e).length,u=r[p-2],c=r[p-1];break;case Ci.Arc:h+=_i(r[p++],r[p++],r[p++],r[p++],r[p++],Boolean(r[p++]),o,a,t,e).length,u=r[p-2],c=r[p-1];break;case Ci.ClosePath:isNaN(l)||ki(l,s,u,c,o,a,t,e)&&h++}return h%2==1},t}(),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ni=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function Li(t){var e=null!=t?t:{},n=e.redraw,r=void 0===n?x.MAJOR:n,i=e.changeCb;return N({redraw:r,type:"path",convertor:e.convertor,changeCb:i})}var Ri=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Ei,e._dirtyPath=!0,e}return Pi(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,x.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,r,i=e.ctx,o=e.forceRender,a=e.stats;if(this.dirty!==x.NONE||o){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(i.save(),"normal"===this.clipMode&&(this.clipPath.draw(i),i.clip()),this.path.draw(i),this.fillStroke(i),"punch-out"===this.clipMode){this.clipPath.draw(i),i.clip();var l=null!==(n=this.computeBBox())&&void 0!==n?n:{},s=l.x,u=void 0===s?-1e4:s,c=l.y,h=void 0===c?-1e4:c,d=l.width,p=void 0===d?2e4:d,f=l.height,y=void 0===f?2e4:f;i.clearRect(u,h,p,y)}i.restore()}else this.path.draw(i),this.fillStroke(i);null===(r=this.fillShadow)||void 0===r||r.markClean(),t.prototype.render.call(this,e)}else a&&(a.nodesSkipped+=this.nodeCount.count)},e.className="Path",Ni([Li()],e.prototype,"clipPath",void 0),Ni([Li()],e.prototype,"clipMode",void 0),e}(xt),Ti=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ai=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return Ti(e,t),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.size,r=n/2;return new O(t-r,e-r,n,n)},e.prototype.applyPath=function(t,e){var n,r,i=this.path,o=this.x,a=this.y;i.clear();try{for(var l=Ai(e),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.x,h=u.y,d=u.t;o+=c*t,a+=h*t,"move"===d?i.moveTo(o,a):i.lineTo(o,a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}i.closePath()},Ii([Li()],e.prototype,"x",void 0),Ii([Li()],e.prototype,"y",void 0),Ii([Li({convertor:Math.abs})],e.prototype,"size",void 0),e}(Ri),Fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fi(e,t),e.prototype.updatePath=function(){var t=this.path,e=this.x,n=this.y,r=this.size/2;t.clear(),t.moveTo(this.align(e-r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n+r)),t.lineTo(this.align(e-r),this.align(n+r)),t.closePath()},e.className="Square",e}(ji),zi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Gi=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new Dt,e._marker=new Bi,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=w.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return zi(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",Wi([Cn("label")],e.prototype,"text",void 0),Wi([Cn("label")],e.prototype,"fontStyle",void 0),Wi([Cn("label")],e.prototype,"fontWeight",void 0),Wi([Cn("label")],e.prototype,"fontSize",void 0),Wi([Cn("label")],e.prototype,"fontFamily",void 0),Wi([Cn("label","fill")],e.prototype,"color",void 0),Wi([Cn("marker","fill")],e.prototype,"markerFill",void 0),Wi([Cn("marker","stroke")],e.prototype,"markerStroke",void 0),Wi([Cn("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),Wi([Cn("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),Wi([Cn("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(et),Xi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xi(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/2;n.clear(),n.arc(t,e,r,0,2*Math.PI),n.closePath()},e.className="Circle",e}(ji),Vi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vi(e,t),e.prototype.updatePath=function(){var n=this.size/4.2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(ji),Hi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hi(e,t),e.prototype.updatePath=function(){var n=this.size/2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(ji),Zi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zi(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this.x,e=this.path,n=this.size,r=this.rad,i=n/4,o=this.y+i/2;e.clear(),e.arc(t-i,o-i,i,r(130),r(330)),e.arc(t+i,o-i,i,r(220),r(50)),e.lineTo(t,o+i),e.closePath()},e.className="Heart",e}(ji),Ji=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ji(e,t),e.prototype.updatePath=function(){var n=this.size/3;t.prototype.applyPath.call(this,n,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(ji),Qi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qi(e,t),e.prototype.updatePath=function(){var n=1.1*this.size;t.prototype.applyPath.call(this,n,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(ji);function eo(t){if(void 0===t&&(t=Bi),"string"==typeof t)switch(t){case"circle":return Ki;case"cross":return Yi;case"diamond":return Ui;case"heart":return qi;case"plus":return $i;case"triangle":return to;default:return Bi}return"function"==typeof t?t:Bi}var no=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ro(t){for(var e=t.orientation,n=t.bboxes,r=t.maxHeight,i=t.maxWidth,o=t.itemPaddingY,a=void 0===o?0:o,l=t.itemPaddingX,s=void 0===l?0:l,u=t.forceResult,c=void 0!==u&&u,h="horizontal"===e,d={max:h?i:r,fn:h?function(t){return t.width}:function(t){return t.height},padding:h?s:a},p={max:h?r:i,fn:h?function(t){return t.height}:function(t){return t.width},padding:h?a:s},f=0,y=[];f<n.length;){var v=io(n.slice(f),f,d,p,c);if(!v)return;f+=v.processedBBoxCount,y.push(v.pageIndices)}return function(t,e,n,r,i){var o=0,a=0;return{pages:t.map((function(t){"horizontal"===e&&(t=function(t){var e,n,r=[];try{for(var i=no(t[0]),o=i.next();!o.done;o=i.next()){o.value;r.push([])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,n){r[n][e]=t}))})),r}(t));var l=0,s=t.map((function(t){var e=t.map((function(t){return l=Math.max(t,l),n[t]})),o=0,a=0;return e.forEach((function(t){o+=t.height+r,a=Math.max(a,t.width+i)})),{indices:t,bboxes:e,columnHeight:o,columnWidth:a}})),u=0,c=0;return s.forEach((function(t){u+=t.columnWidth,c=Math.max(c,t.columnHeight)})),o=Math.max(u,o),a=Math.max(c,a),{columns:s,startIndex:t[0][0],endIndex:l,pageWidth:u,pageHeight:c}})),maxPageWidth:o,maxPageHeight:a}}(y,e,n,a,s)}function io(t,e,n,r,i){var o=function(t,e){for(var n=t.length,r=0,i=0;i<n;i++){if((r+=e.fn(t[i])+e.padding)>e.max)return n/i<2?Math.ceil(n/2):i}return n}(t,n);if(o<1){if(!i)return;o=1}for(var a=o;a>=1;a--){var l=oo(t,e,a,n,r,i);if(null==l&&a<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;a=l<a&&l>1?l:a}}}function oo(t,e,n,r,i,o){for(var a,l=[],s=0,u=0,c=[],h=[],d=0;d<t.length;d++){var p=(d+n)%n;0===p&&(s+=u,u=0,c.length>0&&l.push(c),c=[]);var f=r.fn(t[d])+r.padding;h[p]=Math.max(null!==(a=h[p])&&void 0!==a?a:0,f);var y=s+(u=Math.max(u,i.fn(t[d])+i.padding)),v=!o||l.length>0;if(y>i.max&&v){c=[];break}if(h.reduce((function(t,e){return t+e}),0)>r.max&&!o)return h.length<n?h.length:void 0;c.push(d+e)}return c.length>0&&l.push(c),l.length>0?l:void 0}var ao=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},lo=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return ao([Kt(ce)],t.prototype,"color",void 0),ao([Kt(Oe)],t.prototype,"fontStyle",void 0),ao([Kt(_e)],t.prototype,"fontWeight",void 0),ao([Kt(fe(0))],t.prototype,"fontSize",void 0),ao([Kt(re)],t.prototype,"fontFamily",void 0),t}(),so=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return ao([Kt(fe(0))],t.prototype,"size",void 0),ao([Kt(he)],t.prototype,"fill",void 0),ao([Kt(ye(0,1))],t.prototype,"fillOpacity",void 0),ao([Kt(he)],t.prototype,"stroke",void 0),ao([Kt(fe(0))],t.prototype,"strokeWidth",void 0),ao([Kt(fe(0,1))],t.prototype,"strokeOpacity",void 0),t}(),uo=function(){function t(){this.size=15,this._shape=to,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),ao([Kt(fe(0))],t.prototype,"size",void 0),ao([Kt(fe(0))],t.prototype,"padding",void 0),t}(),co=function(){function t(t,e,n,r){var i=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=r,this.id=E(this),this.group=new et({name:"pagination"}),this.labelNode=new Dt,this.marker=new uo,this.activeStyle=new so,this.inactiveStyle=new so,this.highlightStyle=new so,this.label=new lo,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new to,this._previousButton=new to;var o=this.labelNode;o.textBaseline="middle",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.fill="black",o.y=w.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,o]),this.interactionManager.addListener("click",(function(t){return i.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return i.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){switch(this._orientation=t,t){case"horizontal":this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break;case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this.currentPage,e=this.totalPages,n=this.labelNode,r=this.label,i=r.color,o=r.fontStyle,a=r.fontWeight,l=r.fontSize,s=r.fontFamily;n.text=t+1+" / "+e,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=l,n.fontFamily=s},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,n=t.previousButton,r=t.nextButtonDisabled,i=t.previousButtonDisabled,o=t.activeStyle,a=t.inactiveStyle,l=t.highlightStyle,s=t.highlightActive,u=function(t,e){return e?a:t===s?l:o};this.updateMarker(e,u("next",r)),this.updateMarker(n,u("previous",i))},t.prototype.updateMarker=function(t,e){var n,r=this.marker.size;t.size=r,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,n=0===e,r=t===e-1,i=0===t;this.nextButtonDisabled=r||n,this.previousButtonDisabled=i||n},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(di.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=eo(this.marker.shape||to);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(di.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),ho=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},po=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fo=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},yo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vo=["horizontal","vertical"],go=Vt((function(t,e){return Yt(t,e,(function(t){return vo.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),mo=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return ho([Kt(ye(0))],t.prototype,"maxLength",void 0),ho([Kt(ce)],t.prototype,"color",void 0),ho([Kt(Oe)],t.prototype,"fontStyle",void 0),ho([Kt(_e)],t.prototype,"fontWeight",void 0),ho([Kt(fe(0))],t.prototype,"fontSize",void 0),ho([Kt(re)],t.prototype,"fontFamily",void 0),ho([Kt(te)],t.prototype,"formatter",void 0),t}(),bo=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),ho([Kt(fe(0))],t.prototype,"size",void 0),ho([Kt(fe(0))],t.prototype,"padding",void 0),ho([Kt(fe(0))],t.prototype,"strokeWidth",void 0),t}(),xo=function(){function t(){this.marker=new bo,this.label=new mo,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return ho([Kt(ye(0))],t.prototype,"maxWidth",void 0),ho([Kt(fe(0))],t.prototype,"paddingX",void 0),ho([Kt(fe(0))],t.prototype,"paddingY",void 0),ho([Kt(ee)],t.prototype,"toggleSeriesVisible",void 0),t}(),wo=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return ho([Kt(te)],t.prototype,"legendItemClick",void 0),t}(),So={category:function(){function t(t){var e,n=this;this.ctx=t,this.id=E(this),this.group=new et({name:"legend",layer:!0,zIndex:Re.LEGEND_ZINDEX}),this.itemSelection=xi.select(this.group,Gi),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new xo,this.listeners=new wo,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="bottom",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new co((function(e){return t.updateService.update(e)}),(function(t){return n.updatePageNumber(t)}),t.interactionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var r=[t.interactionManager.addListener("click",(function(t){return n.checkLegendClick(t)})),t.interactionManager.addListener("dblclick",(function(t){return n.checkLegendDoubleClick(t)})),t.interactionManager.addListener("hover",(function(t){return n.handleLegendMouseMove(t)}))],i=[t.layoutService.addListener("start-layout",(function(t){return n.positionLegend(t.shrinkRect)}))];(e=this.destroyFns).push.apply(e,fo(fo(fo([],po(r.map((function(e){return function(){return t.interactionManager.removeListener(e)}})))),po(i.map((function(e){return function(){return t.layoutService.removeListener(e)}})))),[function(){return n.detachLegend()}]))}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,x.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":w.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.detachLegend=function(){var t;null===(t=this.group.parent)||void 0===t||t.removeChild(this.group)},t.prototype.getItemLabel=function(t){var e=this.ctx.callbackCache,n=this.item.label.formatter;return n?e.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text},t.prototype.performLayout=function(t,e){var n=this,r=this.item,i=r.paddingX,o=r.paddingY,a=r.label,l=r.maxWidth,s=r.marker,u=s.size,c=s.padding,h=s.shape,d=r.label,p=d.maxLength,f=void 0===p?1/0:p,y=d.fontStyle,v=d.fontWeight,g=d.fontSize,m=d.fontFamily,b=fo([],po(this.data));this.reverseOrder&&b.reverse(),this.itemSelection.update(b);var x=[],w=_t(a),S=null!=l?l:.8*t,k=u+c+i;if(this.itemSelection.each((function(t,e){var r,i=eo(null!=h?h:e.marker.shape);t.marker&&t.marker instanceof i||(t.marker=new i),t.markerSize=u,t.spacing=c,t.fontStyle=y,t.fontWeight=v,t.fontSize=g,t.fontFamily=m;var o=null!==(r=e.itemId)&&void 0!==r?r:e.id,a=n.getItemLabel(e),l=(null!=a?a:"<unknown>").replace(/\r?\n/g," ");t.text=n.truncate(l,f,S,k,w,o),x.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var O=this.size,D=this.oldSize;O[0]=t,O[1]=e,O[0]===D[0]&&O[1]===D[1]||(D[0]=O[0],D[1]=O[1]);var _=this.updatePagination(x,t,e),C=_.pages,M=_.maxPageHeight,E=_.maxPageWidth;this.pages=C,this.maxPageSize=[E-i,M-o];var P=this.pagination.currentPage,N=this.pages[P];this.pages.length<1||!N?this.visible=!1:(this.visible=!0,this.updatePositions(P),this.update())},t.prototype.truncate=function(t,e,n,r,i,o){var a,l,s=t.split(""),u=!1;if(t.length>e&&(t=""+t.substring(0,e),u=!0),Math.floor(r+w.getTextSize(t,i).width)>n){var c="",h=this.getCharacterWidths(i),d=r+h["..."];try{for(var p=yo(s),f=p.next();!f.done;f=p.next()){var y=f.value;if(h[y]||(h[y]=w.getTextSize(y,i).width),(d+=h[y])>n)break;c+=y}}catch(t){a={error:t}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}t=c,u=!0}return u?(t+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),t},t.prototype.updatePagination=function(t,e,n){var r=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;var o=this.calculatePagination(t,e,n),a=o.pages,l=o.maxPageHeight,s=o.maxPageWidth,u=o.paginationBBox,c=o.paginationVertical,h=a.findIndex((function(t){return t.endIndex>=i}));this.pagination.currentPage=Math.min(Math.max(h,0),a.length-1);var d=this.item,p=s-d.paddingX,f=l-d.paddingY,y=0,v=-u.y-this.item.marker.size/2;return c?v+=f+8:(y+=-u.x+p+8,v+=(f-u.height)/2),this.pagination.translationX=y,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:l,maxPageWidth:s,pages:a}},t.prototype.calculatePagination=function(t,e,n){var r,i,o,a=this.item,l=a.paddingX,s=a.paddingY,u=this.getOrientation(),c=["left","right"].includes(this.position),h=this.pagination.computeBBox(),d=new O(0,0,0,0),p=[],f=0,y=0,v=0,g=function(t){var e=t.width,n=t.height;return e===h.width&&n===h.height},m=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(v++>10){U.warn("unable to find stable legend layout.");break}h=d;var b=e-(c?0:h.width),x=ro({orientation:u,bboxes:t,maxHeight:n-(c?h.height:0),maxWidth:b,itemPaddingY:s,itemPaddingX:l,forceResult:m});p=null!==(r=null==x?void 0:x.pages)&&void 0!==r?r:[],f=null!==(i=null==x?void 0:x.maxPageWidth)&&void 0!==i?i:0,y=null!==(o=null==x?void 0:x.maxPageHeight)&&void 0!==o?o:0;var w=p.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:f,maxPageHeight:y,pages:p,paginationBBox:h,paginationVertical:c}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this.item.paddingY,n=this.itemSelection,r=this.pages;if(!(r.length<1)&&r[t]){var i=r[t],o=i.columns,a=i.startIndex,l=i.endIndex,s=0,u=0,c=o.length,h=o[0].indices.length,d="horizontal"===this.getOrientation(),p=o[0].bboxes[0].height+e,f=[];n.each((function(t,e,n){var r,i;if(n<a||n>l)t.visible=!1;else{var y=n-a,v=0,g=0;d?(v=y%c,g=Math.floor(y/c)):(v=Math.floor(y/h),g=y%h),t.visible=!0;var m=o[v];m&&(u=p*g,s=null!==(r=f[g])&&void 0!==r?r:0,f[g]=(null!==(i=f[g])&&void 0!==i?i:0)+m.columnWidth,t.translationX=Math.floor(s),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],r=n.startIndex,i=n.endIndex;0===r?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=i:this.paginationTrackingIndex=Math.floor((r+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(di.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each((function(t,r){var i=r.marker;t.markerFill=i.fill,t.markerStroke=i.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=i.fillOpacity,t.markerStrokeOpacity=i.strokeOpacity,t.opacity=r.enabled?1:.5,t.color=n}))},t.prototype.getDatumForPoint=function(t,e){var n,r,i=[],o={dist:1/0,datum:void 0};try{for(var a=yo(this.group.children),l=a.next();!l.done;l=a.next()){var s=l.value;if(s.visible&&s instanceof Gi){var u=s.computeBBox();if(u.grow(this.item.paddingX/2,"horizontal"),u.grow(this.item.paddingY/2,"vertical"),u.containsPoint(t,e))return s.datum;var c=t-u.x-this.item.paddingX/2,h=e-u.y-this.item.paddingY/2,d=Math.pow(c,2)+Math.pow(h,2);c>=0&&h>=0&&d<o.dist&&(o.dist=d,o.datum=s.datum),i.push(u)}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}if(O.merge(i).containsPoint(t,e))return o.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=po(this.maxPageSize,2),n=e[0],r=e[1];return t.height=Math.max(r,t.height),t.width=Math.max(n,t.width),t},t.prototype.checkLegendClick=function(t){var e=this.listeners.legendItemClick,n=this.ctx,r=n.dataService,i=n.highlightManager,o=this.item.toggleSeriesVisible,a=t.offsetX,l=t.offsetY,s=this.computeBBox(),u=this.group.visible&&s.containsPoint(a,l),c=this.getDatumForPoint(a,l);if(u&&c){var h=c.id,d=c.itemId,p=c.enabled,f=r.getSeries().find((function(t){return t.id===h}));if(f){t.consume();var y=p;o&&(y=!p,this.ctx.chartEventManager.legendItemClick(f,d,y,c.legendItemName)),y?i.updateHighlight(this.id,{series:f,itemId:d,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(di.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==e||e({type:"click",enabled:y,itemId:d,seriesId:f.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,n=this.listeners.legendItemDoubleClick,r=this.ctx.dataService,i=this.item.toggleSeriesVisible,o=t.offsetX,a=t.offsetY;if("integrated"!==this.ctx.mode){var l=this.computeBBox(),s=this.group.visible&&l.containsPoint(o,a),u=this.getDatumForPoint(o,a);if(s&&u){var c=u.id,h=u.itemId,d=u.seriesId,p=r.getSeries(),f=p.find((function(t){return t.id===c}));if(f){if(t.consume(),i){var y=p.reduce((function(t,e){return fo(fo([],po(t)),po(e.getLegendData().filter((function(t){return"category"===t.legendType}))))}),[]),v={};y.forEach((function(t){var e,n;null!==(e=v[n=t.seriesId])&&void 0!==e||(v[n]=0),t.enabled&&v[t.seriesId]++}));var g=y.find((function(t){return t.itemId===h&&t.seriesId===d}));this.ctx.chartEventManager.legendItemDoubleClick(f,h,null!==(e=null==g?void 0:g.enabled)&&void 0!==e&&e,v,null==g?void 0:g.legendItemName)}this.ctx.updateService.update(di.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"dblclick",enabled:!0,itemId:h,seriesId:f.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e,n=this.enabled,r=this.item.toggleSeriesVisible,i=this.listeners;if(n){var o=this.computeBBox(),a=t.pageX,l=t.pageY,s=t.offsetX,u=t.offsetY,c=this.group.visible&&o.containsPoint(s,u);if(!c)return this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),void this.ctx.tooltipManager.removeTooltip(this.id);t.consume();var h=this.getDatumForPoint(s,u);if(!(c&&void 0!==h))return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);var d=h?this.ctx.dataService.getSeries().find((function(t){return t.id===(null==h?void 0:h.id)})):void 0;if(h&&this.truncatedItems.has(null!==(e=h.itemId)&&void 0!==e?e:h.id)){var p=this.getItemLabel(h);this.ctx.tooltipManager.updateTooltip(this.id,{pageX:a,pageY:l,offsetX:s,offsetY:u,event:t,showArrow:!1},en({content:p}))}else this.ctx.tooltipManager.removeTooltip(this.id);(r||null!=i.legendItemClick||null!=i.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),(null==h?void 0:h.enabled)&&d?this.ctx.highlightManager.updateHighlight(this.id,{series:d,itemId:null==h?void 0:h.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,n=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:n};var r=po(this.calculateLegendDimensions(t),2),i=r[0],o=r[1];this.group.translationX=0,this.group.translationY=0,this.performLayout(i,o);var a=this.computePagedBBox(),l=function(){switch(e.position){case"top":return 0;case"bottom":return t.height-a.height;case"left":return 0;case"right":default:return t.width-a.width}};if(this.visible){var s=void 0,u=void 0;switch(this.position){case"top":case"bottom":s=(t.width-a.width)/2,u=l(),n.shrink(a.height,this.position);break;case"left":case"right":default:s=l(),u=(t.height-a.height)/2,n.shrink(a.width,this.position)}this.group.translationX=Math.floor(-a.x+t.x+s),this.group.translationY=Math.floor(-a.y+t.y+u)}if(this.visible&&this.enabled&&this.data.length){var c=this.spacing;n.shrink(c,this.position);var h=a.clone();h.x+=this.group.translationX,h.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,h)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:n}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,n=t.height,r=e/n,i=0,o=0;switch(this.position){case"top":case"bottom":var a=r<1?Math.min(.5,1/r*.2):.2;i=this.maxWidth?Math.min(this.maxWidth,e):e,o=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*a);break;case"left":case"right":default:var l=r>1?Math.min(.5,.25*r):.25;i=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*l),o=this.maxHeight?Math.min(this.maxHeight,n):n}return[i,o]},t.className="Legend",ho([Kt(ee)],t.prototype,"_enabled",void 0),ho([Kt(Ae)],t.prototype,"position",void 0),ho([Kt(ye(0))],t.prototype,"maxWidth",void 0),ho([Kt(ye(0))],t.prototype,"maxHeight",void 0),ho([Kt(ne)],t.prototype,"reverseOrder",void 0),ho([Kt(go)],t.prototype,"orientation",void 0),ho([Kt(fe(0))],t.prototype,"spacing",void 0),t}()};var ko=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Oo=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Do=function(){function t(){this.cache=new Map}return t.prototype.call=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.cache.get(t),o=function(){try{var r=t.apply(void 0,Oo([],ko(n)));return i&&null!=e&&i.set(e,r),r}catch(t){return void U.warnOnce("User callback errored, ignoring",t)}};try{e=JSON.stringify(n)}catch(t){return o()}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(e)?i.get(e):o()},t.prototype.invalidateCache=function(){this.cache=new Map},t}(),_o=function(){return(_o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Co=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Mo=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Eo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Po=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},No=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Lo=function(){function t(){this.requested=[],this.status="setup"}return t.prototype.request=function(t,e,n){return Co(this,void 0,void 0,(function(){var r=this;return Mo(this,(function(i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return[2,new Promise((function(i,o){r.requested.push({id:t,opts:n,data:e,resultCb:i,reject:o})}))]}))}))},t.prototype.execute=function(){return Co(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p;return Mo(this,(function(f){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",t.DEBUG()&&U.debug("DataController.execute() - requested",this.requested),e=this.mergeRequested(),t.DEBUG()&&U.debug("DataController.execute() - merged",e),n=function(t,e,n,i,o){try{var a=new Je(t),l=a.processData(e);l&&0===l.partialValidDataCount?n.forEach((function(t){return t({dataModel:a,processedData:l})})):l?r.splitResult(a,l,o,n):i.forEach((function(t){return t(new Error("AG Charts - no processed data generated"))}))}catch(t){i.forEach((function(e){return e(t)}))}},r=this;try{for(i=Eo(e),o=i.next();!o.done;o=i.next())a=o.value,l=a.opts,s=a.data,u=a.resultCbs,c=a.rejects,h=a.ids,n(l,s,u,c,h)}catch(t){d={error:t}}finally{try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}}return[2]}))}))},t.prototype.mergeRequested=function(){var t,e,n=[],r=function(t){return t.filter((function(t){return"key"===t.type})).map((function(t){return t.property})).join(";")},i=function(t){var e=t.opts,n=t.data;return function(t){return t[0].data===n&&t[0].opts.groupByKeys===e.groupByKeys&&t[0].opts.dataVisible===e.dataVisible&&t[0].opts.groupByFn===e.groupByFn&&r(t[0].opts.props)===r(e.props)}},o=function(t){return function(e){var n;if(e.type!==t.type)return!1;if(e.id!==t.id)return!1;var r=null!==(n=yr(e,t))&&void 0!==n?n:{};return delete r.scopes,0===Object.keys(r).length}},a=function(t){return _o(_o({},t[0]),{props:t.reduce((function(t,e){var n,r,i,a,l,s;try{for(var u=Eo(e.props),c=u.next();!c.done;c=u.next()){var h=c.value,d=t.find(o(h));d?(null!==(a=d.scopes)&&void 0!==a||(d.scopes=[]),(i=d.scopes).push.apply(i,No(No([],Po(null!==(l=h.scopes)&&void 0!==l?l:[])),Po(null!==(s=e.scopes)&&void 0!==s?s:[])))):t.push(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return t}),[])})};try{for(var l=Eo(this.requested),s=l.next();!s.done;s=l.next()){var u=s.value,c=n.find(i(u));c?c.push(u):n.push([u])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return n.map((function(t){return{ids:t.map((function(t){return t.id})),resultCbs:t.map((function(t){return t.resultCb})),rejects:t.map((function(t){return t.reject})),data:t[0].data,opts:a(t.map((function(t){return t.opts})))}}))},t.prototype.splitResult=function(t,e,n,r){for(var i=function(i){var o=n[i];(0,r[i])({dataModel:t,processedData:_o(_o({},e),{data:e.data.filter((function(t){var e=t.validScopes;return null==e||e.some((function(t){return t===o}))}))})})},o=0;o<n.length;o++)i(o)},t.DEBUG=function(){var t;return null!==(t=[!0,"data-model"].includes(rt("agChartsDebug")))&&void 0!==t&&t},t}(),Ro=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},To=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Io=function(){function t(){this.groups={}}return t.prototype.registerSeries=function(t){var e,n,r=t.id,i=t.seriesGrouping,o=t.visible,a=t.type;i&&(null!==(e=(n=this.groups)[a])&&void 0!==e||(n[a]={}),this.groups[a][r]={grouping:i,visible:o})},t.prototype.deregisterSeries=function(t){var e=t.id,n=t.type;this.groups[n]&&delete this.groups[n][e],this.groups[n]&&0===Object.keys(this.groups[n]).length&&delete this.groups[n]},t.prototype.getVisiblePeerGroupIndex=function(t){var e,n=t.type,r=t.seriesGrouping;if(!r)return{visibleGroupCount:1,index:0};var i=To([],Ro(Object.entries(null!==(e=this.groups[n])&&void 0!==e?e:{}).filter((function(t){var e=Ro(t,2);return e[0],e[1].visible})).reduce((function(t,e){var n=Ro(e,2);n[0];var r=n[1];return r.visible&&t.add(r.grouping.groupIndex),t}),new Set).values()));return i.sort((function(t,e){return t-e})),{visibleGroupCount:i.length,index:i.indexOf(r.groupIndex)}},t}(),Ao=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jo=function(){function t(t){this.groups={},this.series={},this.rootGroup=t}return t.prototype.requestGroup=function(t){var e,n,r,i,o=t.id,a=t.type,l=t.rootGroup,s=t.seriesGrouping,u=(null!=s?s:{}).groupIndex,c=void 0===u?o:u;if(null!=this.series[o])throw new Error("AG Charts - series already has an allocated layer: "+this.series[o]);null!==(e=(r=this.groups)[a])&&void 0!==e||(r[a]={});var h=this.groups[a][c];return h||(h=null!==(n=(i=this.groups[a])[c])&&void 0!==n?n:i[c]={seriesIds:[],group:this.rootGroup.appendChild(new et({name:a+"-content",layer:!0,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:t.getGroupZIndexSubOrder("data")}))}),this.series[o]={layerState:h,seriesConfig:t},h.seriesIds.push(o),h.group.appendChild(l),h.group},t.prototype.changeGroup=function(t){var e,n,r=t.id,i=t.seriesGrouping,o=t.type,a=t.rootGroup,l=t.oldGrouping,s=(null!=i?i:{}).groupIndex,u=void 0===s?r:s;(null===(n=null===(e=this.groups[o])||void 0===e?void 0:e[u])||void 0===n?void 0:n.seriesIds.includes(r))||(null!=this.series[r]&&this.releaseGroup({id:r,seriesGrouping:l,type:o,rootGroup:a}),this.requestGroup(t))},t.prototype.releaseGroup=function(t){var e,n,r,i,o,a=t.id,l=t.seriesGrouping,s=t.rootGroup,u=t.type,c=(null!=l?l:{}).groupIndex,h=void 0===c?a:c;if(null==this.series[a])throw new Error("AG Charts - series doesn't have an allocated layer: "+a);var d=null!==(n=null===(e=this.groups[u])||void 0===e?void 0:e[h])&&void 0!==n?n:null===(r=this.series[a])||void 0===r?void 0:r.layerState;if(d&&(d.seriesIds=d.seriesIds.filter((function(t){return t!==a})),d.group.removeChild(s)),0===(null==d?void 0:d.seriesIds.length))this.rootGroup.removeChild(d.group),delete this.groups[u][h],delete this.groups[u][a];else if((null==d?void 0:d.seriesIds.length)>0){var p=null===(o=this.series[null===(i=null==d?void 0:d.seriesIds)||void 0===i?void 0:i[0]])||void 0===o?void 0:o.seriesConfig;d.group.zIndexSubOrder=null==p?void 0:p.getGroupZIndexSubOrder("data")}delete this.series[a]},t.prototype.destroy=function(){var t,e,n,r;try{for(var i=Ao(Object.values(this.groups)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,Ao(Object.values(a))),s=l.next();!s.done;s=l.next()){var u=s.value;this.rootGroup.removeChild(u.group)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.groups={},this.series={}},t}(),Fo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bo=function(){return(Bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},zo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Wo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Go=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Xo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ko=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vo=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Yo=function(t){function e(e,n,r){var i;void 0===e&&(e=window.document);var o=t.call(this)||this;o.id=E(o),o.processedOptions={},o.userOptions={},o.queuedUserOptions=[],o.seriesRoot=new et({name:o.id+"-Series-root"}),o.extraDebugStats={},o.container=void 0,o.data=[],o.padding=new Qn(20),o.seriesAreaPadding=new Qn(0),o.title=void 0,o.subtitle=void 0,o.footnote=void 0,o.mode="standalone",o._destroyed=!1,o.modules={},o.legendModules={},o._pendingFactoryUpdates=[],o._performUpdateNoRenderCount=0,o._performUpdateType=di.NONE,o.seriesToUpdate=new Set,o.performUpdateTrigger=ar((function(t,e){return void 0===e&&(e=0),setTimeout(t,e)}),(function(t){var e=t.count;return Wo(o,void 0,void 0,(function(){var t;return Go(this,(function(n){switch(n.label){case 0:if(this._destroyed)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this._lastPerformUpdateError=t,U.error("update error",t),[3,4];case 4:return[2]}}))}))})),o._axes=[],o._series=[],o.applyLegendOptions=void 0,o.lastInteractionEvent=void 0,o.pointerScheduler=function(t){return ar((function(t,e){return requestAnimationFrame(t)}),t)}((function(){o.lastInteractionEvent&&o.handlePointer(o.lastInteractionEvent),o.lastInteractionEvent=void 0})),o.onSeriesNodeClick=function(t){var e=Bo(Bo({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),o.fireEvent(e)},o.onSeriesNodeDoubleClick=function(t){var e=Bo(Bo({},t),{type:"seriesNodeDoubleClick"});o.fireEvent(e)};var a=null==r?void 0:r.scene,l=null!==(i=null==r?void 0:r.element)&&void 0!==i?i:e.createElement("div"),s=null==r?void 0:r.container,u=new et({name:"root"});return u.visible=!1,u.append(o.seriesRoot),o.axisGroup=new et({name:"Axes",layer:!0,zIndex:Re.AXIS_ZINDEX}),u.appendChild(o.axisGroup),o.element=l,l.classList.add("ag-chart-wrapper"),l.style.position="relative",o.scene=null!=a?a:new ct({document:e,overrideDevicePixelRatio:n}),o.scene.debug.consoleLog=!1,o.scene.root=u,o.scene.container=l,o.autoSize=!0,o.chartEventManager=new Kr,o.cursorManager=new Gr(l),o.highlightManager=new Hr,o.interactionManager=new ei(l),o.zoomManager=new ui,o.dataService=new fi((function(){return o.series})),o.layoutService=new pi,o.updateService=new yi((function(t,e){void 0===t&&(t=di.FULL);var n=e.forceNodeDataRefresh;return o.update(t,{forceNodeDataRefresh:n})})),o.seriesStateManager=new Io,o.seriesLayerManager=new jo(o.seriesRoot),o.callbackCache=new Do,o.animationManager=new zr(o.interactionManager),o.animationManager.skipAnimations=!0,o.animationManager.play(),o.tooltip=new an(o.scene.canvas.element,e,e.body),o.tooltipManager=new ii(o.tooltip,o.interactionManager),o.overlays=new cr(o.element),o.highlight=new gi,o.container=s,o.debug=!1,er.observe(o.element,(function(t){var e,n=t.width,r=t.height;if(o.autoSize&&(0!==n||0!==r)){var i=Xo(null!==(e=o._lastAutoSize)&&void 0!==e?e:[],2),a=i[0],l=void 0===a?0:a,s=i[1];l===n&&(void 0===s?0:s)===r||(o._lastAutoSize=[n,r],o.resize())}})),o.layoutService.addListener("start-layout",(function(t){return o.positionPadding(t.shrinkRect)})),o.layoutService.addListener("start-layout",(function(t){return o.positionCaptions(t.shrinkRect)})),o.interactionManager.addListener("click",(function(t){return o.onClick(t)})),o.interactionManager.addListener("dblclick",(function(t){return o.onDoubleClick(t)})),o.interactionManager.addListener("hover",(function(t){return o.onMouseMove(t)})),o.interactionManager.addListener("leave",(function(t){return o.onLeave(t)})),o.interactionManager.addListener("page-left",(function(){return o.destroy()})),o.interactionManager.addListener("wheel",(function(){return o.disablePointer()})),o.animationManager.addListener("animation-frame",(function(t){o.update(di.SCENE_RENDER)})),o.highlightManager.addListener("highlight-change",(function(t){return o.changeHighlightDatum(t)})),o.zoomManager.addListener("zoom-change",(function(t){return o.update(di.PROCESS_DATA,{forceNodeDataRefresh:!0})})),o.attachLegend("category"),o}return Fo(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return mr([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize()}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=new t.instanceConstructor(this.getModuleContext());this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this,e=t.scene,n=t.animationManager,r=t.chartEventManager,i=t.cursorManager,o=t.highlightManager,a=t.interactionManager,l=t.tooltipManager,s=t.zoomManager,u=t.dataService,c=t.layoutService,h=t.updateService,d=t.seriesStateManager,p=t.seriesLayerManager;return{scene:e,animationManager:n,chartEventManager:r,cursorManager:i,highlightManager:o,interactionManager:a,tooltipManager:l,zoomManager:s,dataService:u,layoutService:c,updateService:h,mode:t.mode,seriesStateManager:d,seriesLayerManager:p,callbackCache:t.callbackCache}},e.prototype.destroy=function(t){var e,n,r;if(!this._destroyed){var i=null==t?void 0:t.keepTransferableResources,o=void 0;this._performUpdateType=di.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),null===(r=this.legend)||void 0===r||r.destroy(),this.overlays.noData.hide(),er.unobserve(this.element);try{for(var a=Ko(Object.entries(this.modules)),l=a.next();!l.done;l=a.next()){var s=Xo(l.value,2),u=s[0];s[1].instance.destroy(),delete this.modules[u],delete this[u]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),this.animationManager.stop(),i?(this.scene.strip(),o={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.removeAllSeries(),this.seriesLayerManager.destroy(),this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this.callbackCache.invalidateCache(),this._destroyed=!0,o}},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&U.debug.apply(U,Vo([],Xo(t)))},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks().catch((function(t){return U.errorOnce(t)}))):e.splice(1,n-1,t)},e.prototype._processCallbacks=function(){return Wo(this,void 0,void 0,(function(){var t,e;return Go(this,(function(n){switch(n.label){case 0:t=this._pendingFactoryUpdates,n.label=1;case 1:return t.length>0?this.updatePending?[4,lr(1)]:[3,3]:[3,7];case 2:return n.sent(),[3,1];case 3:return n.trys.push([3,5,,6]),[4,t[0]()];case 4:return n.sent(),this.callbackCache.invalidateCache(),[3,6];case 5:return e=n.sent(),U.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==di.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return Wo(this,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var n,r;void 0===t&&(t=di.FULL);var i=null!=e?e:{},o=i.forceNodeDataRefresh,a=void 0!==o&&o,l=i.seriesToUpdate,s=void 0===l?this.series:l;a&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var u=Ko(s),c=u.next();!c.done;c=u.next()){var h=c.value;this.seriesToUpdate.add(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return Wo(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u;return Go(this,(function(c){switch(c.label){case 0:switch(r=(n=this)._performUpdateType,i=n.extraDebugStats,this.log("Chart.performUpdate() - start",di[r]),o=[performance.now()],r){case di.FULL:case di.PROCESS_DATA:return[3,1];case di.PERFORM_LAYOUT:return[3,3];case di.SERIES_UPDATE:return[3,5];case di.TOOLTIP_RECALCULATION:return[3,7];case di.SCENE_RENDER:return[3,8];case di.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:c.sent(),this.disablePointer(!0),o.push(performance.now()),c.label=3;case 3:return this.checkFirstAutoSize()?[4,this.performLayout()]:[3,11];case 4:c.sent(),this.handleOverlays(),this.log("Chart.performUpdate() - seriesRect",this.seriesRect),o.push(performance.now()),c.label=5;case 5:return a=this.seriesRect,l=Vo([],Xo(this.seriesToUpdate)).map((function(t){return t.update({seriesRect:a})})),this.seriesToUpdate.clear(),[4,Promise.all(l)];case 6:c.sent(),o.push(performance.now()),c.label=7;case 7:s=this.tooltipManager.getTooltipMeta(this.id),r<di.SERIES_UPDATE&&"hover"===(null===(e=null==s?void 0:s.event)||void 0===e?void 0:e.type)&&this.handlePointer(s.event),c.label=8;case 8:return[4,this.scene.render({debugSplitTimes:o,extraDebugStats:i})];case 9:c.sent(),this.extraDebugStats={},c.label=10;case 10:this._performUpdateType=di.NONE,c.label=11;case 11:return u=performance.now(),this.log("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(u-o[0]))/100,count:t,performUpdateType:di[r]}),[2]}}))}))},e.prototype.checkFirstAutoSize=function(){if(this.autoSize&&!this._lastAutoSize){var t=this._performUpdateNoRenderCount++,e=10*(2^t);if(t<5)return this._performUpdateType=di.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(e),this.log("Chart.checkFirstAutoSize() - backing off until first size update",e),!1;this.log("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,n=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),n.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),n.delete(t)})),this.zoomManager.updateAxes(this._axes),n.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t){var e=this.series;return!!(e.indexOf(t)<0)&&(e.push(t),null==t.rootGroup.parent&&this.seriesLayerManager.requestGroup(t),this.initSeries(t),!0)},e.prototype.initSeries=function(t){t.chart=this,t.data||(t.data=this.data),this.addSeriesListeners(t),t.addChartEventListeners()},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),e.destroy(),e.chart=void 0})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return t.axes[e.direction]===e}))}))},e.prototype.assignAxesToSeries=function(){var t=this,e={};this.axes.forEach((function(t){var n,r=t.direction;(null!==(n=e[r])&&void 0!==n?n:e[r]=[]).push(t)})),this.series.forEach((function(n){n.directions.forEach((function(r){var i=e[r];if(i){var o=n.getKeys(r),a=t.findMatchingAxis(i,n.getKeys(r));a?n.axes[r]=a:U.warn("no matching axis for direction ["+r+"] and keys ["+o+"]; check series and axes configuration.")}else U.warn("no available axis for direction ["+r+"]; check series and axes configuration.")}))}))},e.prototype.findMatchingAxis=function(t,e){var n,r,i,o;try{for(var a=Ko(t),l=a.next();!l.done;l=a.next()){var s=l.value,u=s.keys;if(!u.length)return s;if(e)try{for(var c=(i=void 0,Ko(e)),h=c.next();!h.done;h=c.next()){var d=h.value;if(u.indexOf(d)>=0)return s}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){var n,r,i,o;null!=t||(t=null!==(n=this.width)&&void 0!==n?n:this.autoSize?null===(r=this._lastAutoSize)||void 0===r?void 0:r[0]:this.scene.canvas.width),null!=e||(e=null!==(i=this.height)&&void 0!==i?i:this.autoSize?null===(o=this._lastAutoSize)||void 0===o?void 0:o[1]:this.scene.canvas.height),this.log("Chart.resize()",{width:t,height:e}),t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(di.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return Wo(this,void 0,void 0,(function(){var t,e;return Go(this,(function(n){switch(n.label){case 0:return this.axes.length>0&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),t=new Lo,e=this.series.map((function(e){return e.processData(t)})),[4,t.execute()];case 1:return n.sent(),[4,Promise.all(e)];case 2:return n.sent(),[4,this.updateLegend()];case 3:return n.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,n,r=[],i=[];try{for(var o=Ko(this.series),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.visible){var s=l.getLabelData();s&&(null!=(n=s[0])&&"object"==typeof n.point&&"object"==typeof n.label)&&(i.push(s),r.push(l))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var u=this.seriesRect,c=u&&i.length>0?function(t,e,n){void 0===n&&(n=5);var r=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var i=0;i<t.length;i++){var o=r[i]=[],a=t[i];if((null==a?void 0:a.length)&&a[0].label)for(var l=function(i,l){var s,u,c,h,d=a[i],p=d.label,f=.5*d.point.size,y=d.point.x-.5*p.width,v=d.point.y-f-p.height-n,g=p.width,m=p.height;return!e||(c=v,h=m,(u=y)+g<(s=e).x+s.width&&u>s.x&&c>s.y&&c+h<s.y+s.height)?t.some((function(t){return t.some((function(t){return nr(t.point,y,v,g,m)}))}))||r.some((function(t){return t.some((function(t){return rr(t,y,v,g,m)}))}))?"continue":void o.push({index:i,text:p.text,x:y,y:v,width:g,height:m,datum:d}):"continue"},s=0,u=a.length;s<u;s++)l(s)}return r}(i,{x:0,y:0,width:u.width,height:u.height}):[];return new Map(c.map((function(t,e){return[r[e],t]})))},e.prototype.attachLegend=function(t){var e;if(this.legendType===t&&this.legend)return this.legend;null===(e=this.legend)||void 0===e||e.destroy(),this.legend=void 0;var n=function(t,e){if(So[t])return new So[t](e);throw new Error("AG Charts - unknown legend type: "+t)}(t,this.getModuleContext());return n.attachLegend(this.scene.root),this.legend=n,this.legendType=t,n},e.prototype.setLegendInit=function(t){this.applyLegendOptions=t},e.prototype.updateLegend=function(){var t;return Wo(this,void 0,void 0,(function(){var e,n,r;return Go(this,(function(i){return e=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(t){var n=t.getLegendData();e.push.apply(e,Vo([],Xo(n)))})),n=e.length>0?e[0].legendType:"category",r=this.attachLegend(n),null===(t=this.applyLegendOptions)||void 0===t||t.call(this,r),"category"===n&&this.validateLegendData(e),r.data=e,[2]}))}))},e.prototype.validateLegendData=function(t){var e=this,n={};t.forEach((function(t){var r,i,o,a,l,s,u=null===(i=e.series.find((function(e){return e.id===t.seriesId})))||void 0===i?void 0:i.type;if(u){var c=t;null!==(o=n[u])&&void 0!==o||(n[u]=((r={})[c.label.text]=new Set,r)),null!==(a=(l=n[u])[s=c.label.text])&&void 0!==a||(l[s]=new Set),null!=c.marker.fill&&n[u][c.label.text].add(c.marker.fill)}})),Object.keys(n).forEach((function(t){Object.keys(n[t]).forEach((function(e){n[t][e].size>1&&U.warnOnce("legend item '"+e+"' has multiple fill colors, this may cause unexpected behaviour.")}))}))},e.prototype.performLayout=function(){return Wo(this,void 0,void 0,(function(){var t,e,n,r;return Go(this,(function(i){return null!=this.scene.root&&(this.scene.root.visible=!0),t=this.scene,e=t.width,n=t.height,r=new O(0,0,e,n),r=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:r}).shrinkRect,[2,r=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:r}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e,n=this.title,r=this.subtitle,i=this.footnote,o=t.clone(),a=function(e){var n,r=t.height/10,i=null!==(n=e.lineHeight)&&void 0!==n?n:e.fontSize*Dt.defaultLineHeightRatio,o=t.width,a=Math.max(i,r);e.computeTextWrap(o,a)},l=function(t){var e,n=o.y;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="top",a(t);var r=t.node.computeBBox(),i=Math.ceil(r.y-n+r.height+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(i,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&l(n)),r&&(r.node.visible=null!==(e=(null==n?void 0:n.enabled)&&r.enabled)&&void 0!==e&&e,r.node.visible&&l(r)),i&&(i.node.visible=i.enabled,i.node.visible&&function(t){var e,n=o.y+o.height;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="bottom",a(t);var r=t.node.computeBBox(),i=Math.ceil(n-r.y+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(i,"bottom")}(i)),{shrinkRect:o}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,n){var r,i,o,a,l=performance.now(),s=e?[En.EXACT_SHAPE_MATCH]:void 0,u=Vo([],Xo(this.series)).reverse(),c=void 0;try{for(var h=Ko(u),d=h.next();!d.done;d=h.next()){var p=d.value;if(p.visible&&p.rootGroup.visible){var f=null!==(o=p.pickNode(t,s))&&void 0!==o?o:{},y=f.match,v=f.distance;if(y&&null!=v&&((!c||c.distance>v)&&v<=(null!=n?n:1/0)&&(c={series:p,distance:v,datum:y}),0===v))break}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(a=this.extraDebugStats.pickSeriesNode)&&void 0!==a?a:0)+(performance.now()-l)),c},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(di.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,n=this.lastPick,r=this.hoverRect,i=t.offsetX,o=t.offsetY,a=function(t){void 0===t&&(t=!1),n&&e.disablePointer(t)};(null==r?void 0:r.containsPoint(i,o))?(this.handlePointerTooltip(t,a),this.handlePointerNode(t)):a()},e.prototype.handlePointerTooltip=function(t,e){var n,r,i,o=this.lastPick,a=this.tooltip.range,l=t.pageX,s=t.pageY,u=t.offsetX,c=t.offsetY;"number"==typeof a&&Number.isFinite(a)&&(i=a);var h=this.pickSeriesNode({x:u,y:c},"exact"===a,i);if(!h)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var d,p="node"===this.highlight.range||!o||o.datum!==h.datum;p?(d=h.series.getTooltipHtml(h.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,h.datum)):o&&(o.event=t.sourceEvent);var f=null!=i,y=this.tooltip.enabled&&h.series.tooltip.enabled,v="exact"===a&&0===h.distance,g=y&&("nearest"===a||f||v)&&(!p||void 0!==d),m={xOffset:h.datum.series.tooltip.position.xOffset,yOffset:h.datum.series.tooltip.position.yOffset},b=this.mergePointerDatum({pageX:l,pageY:s,offsetX:u,offsetY:c,event:t,showArrow:h.series.tooltip.showArrow,position:m},h.datum);b.enableInteraction=null!==(r=null===(n=h.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==r&&r,g&&this.tooltipManager.updateTooltip(this.id,b,d)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,n){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,n)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(di.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(di.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeDoubleClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeRange=function(t,e){var n,r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=null==r?void 0:r.datum,o=null==i?void 0:i.series.nodeClickRange;if(i&&"nearest"===o)return e(i.series,i),!0;"number"==typeof o&&Number.isFinite(o)&&(n=o);var a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===o,n);if(!a)return!1;var l=null!=n,s="exact"===o&&0===a.distance;return!(!l&&!s)&&(e(a.series,a.datum),!0)},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var n=e.nodeMidPoint,r=n.x,i=n.y,o=this.scene.canvas,a=e.series.contentGroup.inverseTransformPoint(r,i),l=o.element.getBoundingClientRect();return Bo(Bo({},t),{pageX:Math.round(l.left+window.scrollX+a.x),pageY:Math.round(l.top+window.scrollY+a.y),offsetX:Math.round(a.x),offsetY:Math.round(a.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e,n,r=new Set,i=null!==(e=t.currentHighlight)&&void 0!==e?e:{},o=i.series,a=void 0===o?void 0:o,l=i.datum,s=null!==(n=t.previousHighlight)&&void 0!==n?n:{},u=s.series,c=void 0===u?void 0:u,h=s.datum;c&&r.add(c),a&&r.add(a),(null==c?void 0:c.cursor)&&h&&this.cursorManager.updateCursor(c.id),(null==a?void 0:a.cursor)&&l&&this.cursorManager.updateCursor(a.id,a.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==a||null==c?this.update(di.SERIES_UPDATE):this.update(di.SERIES_UPDATE,{seriesToUpdate:r})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),Wo(this,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,lr(5)];case 2:return n.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return n.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},zo([Mn({newValue:function(t){this.scene.debug.consoleLog=t,this.animationManager&&(this.animationManager.debug=t)}})],e.prototype,"debug",void 0),zo([Mn({newValue:function(t){this.destroyed||t.appendChild(this.element)},oldValue:function(t){t.removeChild(this.element)}})],e.prototype,"container",void 0),zo([Mn({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),zo([Mn({newValue:function(t){this.resize(t)}})],e.prototype,"width",void 0),zo([Mn({newValue:function(t){this.resize(void 0,t)}})],e.prototype,"height",void 0),zo([Mn({changeValue:function(t){this.autoSizeChanged(t)}}),Kt(ee)],e.prototype,"autoSize",void 0),zo([Mn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),zo([Mn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),zo([Mn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),zo([Kt(xe("standalone","integrated"))],e.prototype,"mode",void 0),e}(Lt),Ho=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Uo(t,e,n){return Math.max(e,Math.min(n,t))}var Zo=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,n=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%n==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Uo(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Uo(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Uo(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,r=this._paddingOuter,i=Ho(this.range,2),o=i[0],a=i[1]-o,l=a/Math.max(1,t+2*r-n),s=e?Math.floor(l):l,u=o+(a-s*(t-n))/2,c=e?Math.round(u):u,h=s*(1-n),d=e?Math.round(h):h,p=l*(1-n),f=[],y=0;y<t;y++)f.push(c+s*y);this._bandwidth=d,this._rawBandwidth=p,this.ordinalRange=f}},t}(),qo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$o=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return qo(e,t),e.prototype.computeBBox=function(){return new O(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,r=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==x.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;if(a===s){var c=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=c,s=c}else if(l===u){var h=Math.round(l)+Math.floor(this.strokeWidth)%2/2;l=h,u=h}r.beginPath(),r.moveTo(a,l),r.lineTo(s,u),this.fillStroke(r),null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},xt.defaultStyles,{fill:void 0,strokeWidth:1}),Jo([N({redraw:x.MAJOR})],e.prototype,"x1",void 0),Jo([N({redraw:x.MAJOR})],e.prototype,"y1",void 0),Jo([N({redraw:x.MAJOR})],e.prototype,"x2",void 0),Jo([N({redraw:x.MAJOR})],e.prototype,"y2",void 0),e}(xt),Qo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ta=function(){function t(){this.node=new Dt,this.enabled=!1,this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this.lineHeight=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.wrapping="always";var e=this.node;e.textAlign="center",e.pointerEvents=L.None}return t.prototype.computeTextWrap=function(t,e){var n,r,i=this.text,o=this.wrapping,a=Math.min(null!==(n=this.maxWidth)&&void 0!==n?n:1/0,t),l=null!==(r=this.maxHeight)&&void 0!==r?r:e;if(isFinite(a)||isFinite(l)){var s=Dt.wrap(null!=i?i:"",a,l,this,o);this.node.text=s}else this.node.text=i},t.PADDING=10,Qo([Kt(ee)],t.prototype,"enabled",void 0),Qo([Kt(ie),Cn("node")],t.prototype,"text",void 0),Qo([Kt(Oe),Cn("node")],t.prototype,"fontStyle",void 0),Qo([Kt(_e),Cn("node")],t.prototype,"fontWeight",void 0),Qo([Kt(fe(0)),Cn("node")],t.prototype,"fontSize",void 0),Qo([Kt(re),Cn("node")],t.prototype,"fontFamily",void 0),Qo([Kt(he),Cn("node","fill")],t.prototype,"color",void 0),Qo([Kt(ye(0))],t.prototype,"spacing",void 0),Qo([Kt(ye(0))],t.prototype,"lineHeight",void 0),Qo([Kt(ye(0))],t.prototype,"maxWidth",void 0),Qo([Kt(ye(0))],t.prototype,"maxHeight",void 0),Qo([Kt(ze)],t.prototype,"wrapping",void 0),t}();function ea(t,e){return t.length===e.length&&t.every((function(t,n){return Number(t)===Number(e[n])}))}var na=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ra=function(){function t(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var n,r=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var i=null!==(n=null==e?void 0:e.strict)&&void 0!==n?n:this.strictClampByDefault,o=this.getDomain().map((function(t){return r.transform(t)})),a=na(o,2),l=a[0],s=a[1],u=this.range,c=na(u,2),h=c[0],d=c[1];return(t=this.transform(t))<l?i?NaN:h:t>s?i?NaN:d:l===s?(h+d)/2:t===l?h:t===s?d:h+(this.fromDomain(t)-this.fromDomain(l))/(this.fromDomain(s)-this.fromDomain(l))*(d-h)},t.prototype.invert=function(t){var e=this;this.refresh();var n,r=this.getDomain().map((function(t){return e.transform(t)})),i=na(r,2),o=i[0],a=i[1],l=this.range,s=na(l,2),u=s[0],c=s[1],h=u>c;return t<(h?c:u)?h?a:o:t>(h?u:c)?h?o:a:(n=u===c?this.toDomain((this.fromDomain(o)+this.fromDomain(a))/2):this.toDomain(this.fromDomain(o)+(t-u)/(c-u)*(this.fromDomain(a)-this.fromDomain(o))),this.transformInvert(n))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,n=t.stop,r=t.interval,i=t.count,o=this.range,a=n-e,l=Math.min(o[0],o[1]);return null!=i||(i=a/("number"==typeof r?r:1)),i>=Math.max(o[0],o[1])-l&&(U.warn("the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),ia=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function oa(t,e,n,r,i){if(n<2)return ua(t,e,e-t);var o=la(t,e,n,r,i);return isNaN(o)?new sa(0):ua(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o,o)}var aa=[1,2,5,10];function la(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=1/0);var o=(e-t)/n,a=Math.floor(Math.log10(o)),l=Math.pow(10,a),s=aa.map((function(o){var a=o*l,s=Math.ceil((e-t)/a);return{multiplier:o,isWithinBounds:s>=r&&s<=i,diffCount:Math.abs(s-n)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!s||isNaN(s)?NaN:s*l}var sa=function(t){function e(e,n){var r=t.call(this)||this;if(n)for(var i=0,o=n.length;i<o;i++)r[i]=n[i];return r.fractionDigits=e,r}return ia(e,t),e}(Array);function ua(t,e,n){for(var r=function(t){var e,n,r=t.split("e");return Math.max((null!==(n=null===(e=r[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0)-Number(r[1]),0)}((n%1).toExponential()),i=Math.pow(10,r),o=Math.ceil((e-t)/n),a=new sa(r),l=0;l<=o;l++){var s=t+n*l;a.push(Math.round(s*i)/i)}return a}var ca={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function ha(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var n=t.getTimezoneOffset()-e.getTimezoneOffset(),r=t.getTime()-e.getTime()+6e4*n;return Math.floor(r/864e5)}function da(t,e){var n=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,r=new Date(t.getFullYear(),0,n+1);return r<=t?Math.floor(ha(t,r)/7)+1:0}var pa={a:function(t){return ca.shortDays[t.getDay()]},A:function(t){return ca.days[t.getDay()]},b:function(t){return ca.shortMonths[t.getMonth()]},B:function(t){return ca.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return ya(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return ya(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return ya(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var n=t.getHours()%12;return 0===n?"12":ya(n,2,null!=e?e:"0")},j:function(t,e){return ya(ha(t)+1,3,null!=e?e:"0")},m:function(t,e){return ya(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return ya(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return ya(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return ya(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return ya(da(t,0),2,null!=e?e:"0")},V:function(t,e){return ya(function t(e,n){void 0===n&&(n=e.getFullYear());var r=new Date(n,0,1).getDay(),i=new Date(n,0,(4-r+7)%7-3+1);return i<=e?Math.floor(ha(e,i)/7)+1:t(e,n-1)}(t),2,null!=e?e:"0")},w:function(t,e){return ya(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return ya(da(t,1),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return ya(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return ya(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return function(t){var e=t.getTimezoneOffset(),n=Math.abs(e);return""+(e>0?"-":"+")+ya(Math.floor(n/60),2,"0")+ya(Math.floor(n%60),2,"0")}(t)},"%":function(){return"%"}},fa={_:" ",0:"0","-":""};function ya(t,e,n){var r=String(Math.floor(t));return r.length>=e?r:""+n.repeat(e-r.length)+r}function va(t){for(var e=[];t.length>0;){var n=t.indexOf("%");if(0!==n){var r=n>0?t.substring(0,n):t;e.push(r)}if(n<0)break;var i=t[n+1],o=fa[i];null!=o&&n++;var a=t[n+1],l=pa[a];if("function"==typeof l)e.push([l,o]);else if("string"==typeof l){var s=va(l);e.push([s,o])}else e.push(""+(null!=o?o:"")+a);t=t.substring(n+2)}return function(t){var n="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](n,t[1])})).join("")}}var ga,ma,ba=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Sa=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(ma||(ma={}));var ka=((ga={})[ma.MILLISECOND]=".%L",ga[ma.SECOND]=":%S",ga[ma.MINUTE]="%I:%M",ga[ma.HOUR]="%I %p",ga[ma.WEEK_DAY]="%a",ga[ma.SHORT_MONTH]="%b %d",ga[ma.MONTH]="%B",ga[ma.SHORT_YEAR]="%y",ga[ma.YEAR]="%Y",ga);function Oa(t){return t instanceof Date?t.getTime():t}var Da,_a=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=g,e.month=v,e.week=y,e.day=p,e.hour=d,e.minute=c,e.second=s,e.millisecond=a,e.tickIntervals=[[e.second,1,1e3],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,6e4],[e.minute,5,3e5],[e.minute,15,9e5],[e.minute,30,18e5],[e.hour,1,36e5],[e.hour,3,108e5],[e.hour,6,216e5],[e.hour,12,432e5],[e.day,1,864e5],[e.day,2,1728e5],[e.week,1,6048e5],[e.week,2,12096e5],[e.week,3,18144e5],[e.month,1,2592e6],[e.month,2,5184e6],[e.month,3,7776e6],[e.month,4,10368e6],[e.month,6,15552e6],[e.year,1,31536e6]],e}return ba(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,n;void 0===t&&(t=[]);var r=ma.YEAR,i=function(t){t<r&&(r=t)};try{for(var o=xa(t),a=o.next();!a.done;a=o.next()){var l=a.value;i(this.getLowestGranularityFormat(l))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}var s=Oa(t[0]),u=Oa(t[t.length-1]),c=new Date(s).getFullYear(),h=new Date(u).getFullYear()-c>0;return this.buildFormatString(r,h)},e.prototype.buildFormatString=function(t,e){var n=[ka[t]],r=0,i=this.getDomain(),o=Math.min.apply(Math,Sa([],wa(i.map(Oa)))),a=Math.max.apply(Math,Sa([],wa(i.map(Oa))))-o;switch(t){case ma.SECOND:a/6e4>1&&n.push(ka[ma.MINUTE]);case ma.MINUTE:a/36e5>1&&n.push(ka[ma.HOUR]);case ma.HOUR:r=n.length,a/864e5>1&&n.push(ka[ma.WEEK_DAY]);case ma.WEEK_DAY:if(a/6048e5>1||e){var l=n.indexOf(ka[ma.WEEK_DAY]);l>-1&&n.splice(l,1,ka[ma.SHORT_MONTH])}case ma.SHORT_MONTH:case ma.MONTH:(a/31536e6>1||e)&&n.push(ka[ma.YEAR])}return r<n.length&&(n=Sa(Sa([],wa(n.slice(0,r))),[n.slice(r).join(" ")])),r>0&&r<(n=Sa(Sa([],wa(n.slice(0,r).reverse())),wa(n.slice(r)))).length&&n.splice(r,0," "),n.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?ma.MILLISECOND:this.minute.floor(t)<t?ma.SECOND:this.hour.floor(t)<t?ma.MINUTE:this.day.floor(t)<t?ma.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?ma.WEEK_DAY:ma.SHORT_MONTH:this.year.floor(t)<t?ma.MONTH:ma.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return va(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,n,r,i=t.start,o=t.stop,a=t.count,l=t.minCount,s=t.maxCount,u=this.tickIntervals,c=null!=a?a:ra.defaultTickCount,h=Math.abs(o-i)/Math.max(c,1),d=0;d<u.length&&h>u[d][2];)d++;if(0===d)r=Math.max(la(i,o,c,l,s),1),n=this.millisecond;else if(d===u.length){r=la(i/31536e6,o/31536e6,c,l,s),n=this.year}else{var p=h-u[d-1][2],f=u[d][2]-h;n=(e=wa(u[p<f?d-1:d],2))[0],r=e[1]}return n.every(r)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=wa(this.getDomain().map(Oa),2),e=t[0],n=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:n});if(this.nice){var r=this.tickCount;if(2===r)return this.niceDomain;if(1===r)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:n})},e.prototype.getDefaultTicks=function(t){var e=t.start,n=t.stop,r=this.getTickInterval({start:e,stop:n,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return r?r.range(new Date(e),new Date(n)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,n=t.stop,r=this.interval,o=this.tickIntervals;if(!r)return[];if(r instanceof i){var a=r.range(new Date(e),new Date(n));return this.isDenseInterval({start:e,stop:n,interval:r,count:a.length})?this.getDefaultTicks({start:e,stop:n}):a}var l=Math.abs(r);if(this.isDenseInterval({start:e,stop:n,interval:l}))return this.getDefaultTicks({start:e,stop:n});var s=Sa([],wa(o));s.reverse();var u=s.find((function(t){return l%t[2]==0}));if(u)return u[0].every(l/(u[2]/u[1])).range(new Date(e),new Date(n));for(var c=new Date(e),h=new Date(n),d=[];c<=h;)d.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+l);return d},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return null==n?this.defaultTickFormat(e):va(n)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=wa(this.domain,2),e=t[0],n=t[1],r=0;r<4;r++){this.updateNiceDomainIteration(e,n);var i=wa(this.niceDomain,2),o=i[0],a=i[1];if(Oa(e)===Oa(o)&&Oa(n)===Oa(a))break;e=o,n=a}},e.prototype.updateNiceDomainIteration=function(t,e){var n,r=Oa(t),o=Oa(e),a=this.interval;if(a instanceof i)n=a;else{var l="number"==typeof a?(o-r)/Math.max(a,1):this.tickCount;n=this.getTickInterval({start:r,stop:o,count:l,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(n){var s=n.range(t,e,!0),u=s[0],c=s[s.length-1];this.niceDomain=[u,c]}},e}(ra),Ca=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ma=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ea=function(t){return"("+t+")"},Pa=function(t){return Ea(t)+"?"},Na=function(t){return Pa("?:"+t)},La=new RegExp(["^",Na(""+Pa(".")+Ea("[<>=^]")),Pa("[+\\-( ]"),Pa("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),Pa("0"),Pa("\\d+"),Pa(","),Na("\\."+Ea("\\d+")),Pa("~"),Pa("[%a-z]"),"$"].join(""),"i"),Ra=new RegExp(["^",Ea(".*?"),"#\\{"+Ea(".+?")+"\\}",Ea(".*?"),"$"].join(""));function Ta(t){var e,n,r,i=Ra.exec(t);i&&(n=(e=Ca(i,4))[1],t=e[2],r=e[3]);var o=La.exec(t);if(!o)throw new Error("The number formatter is invalid: "+t);var a=Ca(o,11),l=a[1],s=a[2],u=a[3],c=a[4],h=a[5],d=a[6],p=a[7],f=a[8],y=a[9],v=a[10];return{fill:l,align:s,sign:u,symbol:c,zero:h,width:parseInt(d),comma:p,precision:parseInt(f),trim:Boolean(y),type:v,prefix:n,suffix:r}}function Ia(t){var e,n,r="string"==typeof t?Ta(t):t,i=r.fill,o=r.align,a=r.sign,l=void 0===a?"-":a,s=r.symbol,u=r.zero,c=r.width,h=r.comma,d=r.type,p=r.prefix,f=void 0===p?"":p,y=r.suffix,v=void 0===y?"":y,g=r.precision,m=r.trim,b=void 0===g||isNaN(g);if(d)if(d in Fa&&d in ja)e=b?ja[d]:Fa[d];else if(d in Fa)e=Fa[d];else{if(!(d in ja))throw new Error("The number formatter type is invalid: "+d);e=ja[d]}else e=Fa.g,m=!0;return n=null==g||b?d?6:12:g,function(t){var r=e(t,n);return m&&(r=r.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),h&&(r=function(t,e){var n=t.indexOf(".");n<0&&(n=t.length);for(var r=t.substring(0,n).split(""),i=t.substring(n),o=r.length-3;o>0;o-=3)r.splice(o,0,e);return""+r.join("")+i}(r,h)),r=function(t,e,n){void 0===n&&(n="");if("("===n)return t>=0?e:"("+e+")";var r="+"===n?"+":"";return""+(t>=0?r:"\u2212")+e}(t,r,l),s&&"#"!==s&&(r=""+s+r),"#"===s&&"x"===d&&(r="0x"+r),"s"===d&&(r=""+r+function(t){return Ga[Ba(t)]}(t)),"%"!==d&&"p"!==d||(r+="%"),null==c||isNaN(c)||(r=function(t,e,n,r){void 0===n&&(n=" ");void 0===r&&(r=">");var i=t;if(">"!==r&&r){if("<"===r)i=i.padEnd(e,n);else if("^"===r){var o=Math.max(0,e-i.length),a=Math.ceil(o/2),l=Math.floor(o/2);i=(i=i.padStart(a+i.length,n)).padEnd(l+i.length,n)}}else i=i.padStart(e,n);return i}(r,c,null!=i?i:u,o)),r=""+f+r+v}}var Aa=function(t){return Math.floor(Math.abs(t))},ja={b:function(t){return Aa(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return Aa(t).toString(8)},x:function(t){return Aa(t).toString(16)},X:function(t){return ja.x(t).toUpperCase()},n:function(t){return ja.d(t)},"%":function(t){return""+Aa(100*t).toFixed(0)}},Fa={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return Fa.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return Fa.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var n=Math.abs(t),r=Math.floor(Math.log10(n));return r>=-4&&r<e?n.toFixed(e-1-r):n.toExponential(e-1)},G:function(t,e){return Fa.g(t,e).toUpperCase()},n:function(t,e){return Fa.g(t,e)},p:function(t,e){return Fa.r(100*t,e)},r:function(t,e){if(0===t)return"0";var n=Math.abs(t),r=Math.floor(Math.log10(n))-(e-1);if(r<=0)return n.toFixed(-r);var i=Math.pow(10,r);return(Math.round(n/i)*i).toFixed()},s:function(t,e){var n=Ba(t);return Fa.r(t/Math.pow(10,n),e)},"%":function(t,e){return Fa.f(100*t,e)}};function Ba(t){var e=Math.log10(Math.abs(t)),n=3*Math.floor(e/3);return Math.max(za,Math.min(Wa,n))}var za=-24,Wa=24,Ga=((Da={})[za]="y",Da[-21]="z",Da[-18]="a",Da[-15]="f",Da[-12]="p",Da[-9]="n",Da[-6]="\xb5",Da[-3]="m",Da[0]="",Da[3]="k",Da[6]="M",Da[9]="G",Da[12]="T",Da[15]="P",Da[18]="E",Da[21]="Z",Da[Wa]="Y",Da);var Xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ka=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Va=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ya=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ha=function(t){return t},Ua=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=Ha,e.basePow=Ha,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return Xa(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var n=Math.log(e);t=function(t){return Math.log(t)/n}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,n=this.base;t=10===n?e.pow10:n===Math.E?Math.exp:function(t){return Math.pow(n,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=Va(this.domain,2),e=t[0],n=t[1],r=this.pow(Math.floor(this.log(e))),i=this.pow(Math.ceil(this.log(n)));this.niceDomain=[r,i]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,n=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();var r=this.base,i=Va(this.getDomain(),2),o=i[0],a=i[1],l=this.log(o),s=this.log(a);if(this.interval){var u=Math.abs(this.interval),c=Math.abs(s-l),h=ua(l,s,Math.min(c,u)).map((function(t){return e.pow(t)})).filter((function(t){return t>=o&&t<=a}));if(!this.isDenseInterval({start:o,stop:a,interval:u,count:h.length}))return h}if(!(r%1==0)||s-l>=n)return oa(l,s,Math.min(s-l,n)).map((function(t){return e.pow(t)}));var d=[],p=o>0;l=Math.floor(l)-1,s=Math.round(s)+1;for(var f=Math.min.apply(Math,Ya([],Va(this.range))),y=(Math.max.apply(Math,Ya([],Va(this.range)))-f)/n,v=1/0,g=l;g<=s;g++)for(var m=this.convert(this.pow(g+1)),b=1;b<r;b++){var x=p?b:r-b+1,w=this.pow(g)*x,S=this.convert(w),k=Math.abs(v-S),O=Math.abs(S-m);w>=o&&w<=a&&(1===b||k>=y&&O>=y)&&(d.push(w),v=S)}return d},e.prototype.tickFormat=function(t){var e=t.count,n=t.ticks,r=t.specifier,i=this.base;return null==r&&(r=10===i?".0e":","),"string"==typeof r&&(r=Ia(r)),e===1/0?r:(null==n&&this.ticks(),function(t){return r(t)})},Ka([Kt(fe(0))],e.prototype,"base",void 0),e}(ra);function Za(t){var e=t.length;if(0!==e){for(var n=1/0,r=-1/0,i=0;i<e;i++){var o=t[i];o instanceof Date&&(o=o.getTime()),"number"==typeof o&&(o<n&&(n=o),o>r&&(r=o))}var a=[n,r];if(!a.some((function(t){return!isFinite(t)})))return a}}var qa=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ja=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return _t(this)},qa([Kt(ee)],t.prototype,"enabled",void 0),qa([Kt(fe(0))],t.prototype,"fontSize",void 0),qa([Kt(re)],t.prototype,"fontFamily",void 0),qa([Kt(Oe)],t.prototype,"fontStyle",void 0),qa([Kt(_e)],t.prototype,"fontWeight",void 0),qa([Kt(ce)],t.prototype,"color",void 0),t}();function $a(t){var e=t.parallelFlipRotation,n=void 0===e?0:e,r=t.regularFlipRotation,i=void 0===r?0:r,o=t.rotation?pt(ft(t.rotation)):0,a=!o&&n>=0&&n<=Math.PI?-1:1,l=!o&&i>=0&&i<=Math.PI?-1:1,s=0;return t.parallel?s=a*Math.PI/2:-1===l&&(s=Math.PI),{configuredRotation:o,defaultRotation:s,parallelFlipFlag:a,regularFlipFlag:l}}function Qa(t,e,n,r,i){var o=e>0&&e<=Math.PI,a=n>0&&n<=Math.PI;if(t){if(!e&&!n)return"center";if(r*(o||a?-1:1)==-1)return"end"}else if(r*i==-1)return"end";return"start"}function tl(t,e,n,r,i){var o=e.width,a=e.height,l=new O(n,r,0,0);i.transformBBox(l,e);var s=e.x,u=void 0===s?0:s,c=e.y,h=void 0===c?0:c;return e.width=o,e.height=a,{point:{x:u,y:h,size:0},label:{width:o,height:a,text:t}}}function el(t,e){return void 0===e&&(e=[void 0]),Xt((function(n,r,i){return e.includes(i)?t:i}))}var nl,rl,il=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ol=function(){function t(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return t.prototype.getSideFlag=function(){return this.mirrored?1:-1},t.prototype.getFont=function(){return _t(this)},il([Kt(ee)],t.prototype,"enabled",void 0),il([Kt(ne)],t.prototype,"autoWrap",void 0),il([Kt(ye(0))],t.prototype,"maxWidth",void 0),il([Kt(ye(0))],t.prototype,"maxHeight",void 0),il([Kt(Oe)],t.prototype,"fontStyle",void 0),il([Kt(_e)],t.prototype,"fontWeight",void 0),il([Kt(fe(1))],t.prototype,"fontSize",void 0),il([Kt(re)],t.prototype,"fontFamily",void 0),il([Kt(fe(0))],t.prototype,"padding",void 0),il([Kt(ve()),el(NaN)],t.prototype,"minSpacing",void 0),il([Kt(he)],t.prototype,"color",void 0),il([Kt(ye(-360,360))],t.prototype,"rotation",void 0),il([Kt(ne)],t.prototype,"autoRotate",void 0),il([Kt(fe(-360,360))],t.prototype,"autoRotateAngle",void 0),il([Kt(ee)],t.prototype,"avoidCollisions",void 0),il([Kt(ee)],t.prototype,"mirrored",void 0),il([Kt(ee)],t.prototype,"parallel",void 0),il([Kt(ie)],t.prototype,"format",void 0),t}(),al=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ll=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return al([Kt(fe(0))],t.prototype,"width",void 0),al([Kt(he)],t.prototype,"color",void 0),t}(),sl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ul=Vt((function(t,e){return fe(0)(t,e)||t instanceof i}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),cl=Vt((function(t,e){return Yt(t,e,ul)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),hl=Vt((function(t,e){return Yt(t,e,(function(t,e){return 0!==t&&fe(0)(t,e)||t instanceof i}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),dl=function(){function t(){this.enabled=!0,this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}var e,n,r,i;return sl([Kt(ee)],t.prototype,"enabled",void 0),sl([Kt(fe(0))],t.prototype,"width",void 0),sl([Kt(fe(0))],t.prototype,"size",void 0),sl([Kt(he)],t.prototype,"color",void 0),sl([Kt(cl),(e="Use tick.interval or tick.minSpacing and tick.maxSpacing instead",r=null==n?void 0:n.default,i=$e(),Xt((function(t,n,o){return o!==r&&i(n.toString(),e),o})))],t.prototype,"count",void 0),sl([Kt(hl)],t.prototype,"interval",void 0),sl([Kt(Ut())],t.prototype,"values",void 0),sl([Kt(Zt(ve(1),Jt("maxSpacing"))),el(NaN)],t.prototype,"minSpacing",void 0),t}(),pl=function(){function t(e,n){this.state=e,this.states=n,t.DEBUG()&&U.debug("%c"+this.constructor.name+" | init -> "+e,"color: green")}return t.prototype.transition=function(e,n){var r,i,o,a,l,s=this.states[this.state],u=null===(r=null==s?void 0:s.on)||void 0===r?void 0:r[e];if(u){var c=u.target,h=this.states[c];return t.DEBUG()&&U.debug("%c"+this.constructor.name+" | "+this.state+" -> "+e+" -> "+c,"color: green"),u.action(n),null===(o=null===(i=null==s?void 0:s.actions)||void 0===i?void 0:i.onExit)||void 0===o||o.call(i),null===(l=null===(a=null==h?void 0:h.actions)||void 0===a?void 0:a.onEnter)||void 0===l||l.call(a),this.state=c,this.state}t.DEBUG()&&U.debug("%c"+this.constructor.name+" | "+this.state+" -> "+e+" -> "+this.state,"color: grey")},t.DEBUG=function(){var t;return null!==(t=[!0,"animation"].includes(rt("agChartsDebug")))&&void 0!==t&&t},t}(),fl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yl=function(){return(yl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},vl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},gl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},ml=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},xl=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},wl=["stroke","lineDash"],Sl=Vt(Ht(void 0,(function(t){for(var e in t)if(!wl.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'");!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(nl||(nl={})),function(t){t[t.CREATE=0]="CREATE",t[t.CREATE_SECONDARY=1]="CREATE_SECONDARY",t[t.FILTER=2]="FILTER",t[t.VALUES=3]="VALUES"}(rl||(rl={}));var kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fl(e,t),e}(pl),Ol=function(){function t(t,e){var n=this;this.moduleCtx=t,this.id=E(this),this.nice=!0,this.dataDomain=[],this.keys=[],this.boundSeries=[],this.includeInvisibleDomains=!1,this.axisGroup=new et({name:this.id+"-axis",zIndex:Re.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new $o),this.tickLineGroup=this.axisGroup.appendChild(new et({name:this.id+"-Axis-tick-lines",zIndex:Re.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new et({name:this.id+"-Axis-tick-labels",zIndex:Re.AXIS_ZINDEX})),this.crossLineGroup=new et({name:this.id+"-CrossLines"}),this.gridGroup=new et({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new et({name:this.id+"-gridLines",zIndex:Re.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=xi.select(this.tickLineGroup,$o,!1),this.tickLabelGroupSelection=xi.select(this.tickLabelGroup,Dt,!1),this.gridLineGroupSelection=xi.select(this.gridLineGroup,$o,!1),this.line=new ll,this.tick=this.createTick(),this.label=new ol,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.modules={},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new ta,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.maxThickness=1/0,this._scale=e,this.refreshScale(),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node);var r=t.interactionManager.addListener("hover",(function(t){return n.checkAxisHover(t)}));this.destroyFns.push((function(){return t.interactionManager.removeListener(r)})),this.animationManager=t.animationManager,this.animationState=new kl("empty",{empty:{on:{update:{target:"align",action:function(){return n.resetSelectionNodes()}}}},align:{on:{update:{target:"ready",action:function(){return n.resetSelectionNodes()}}}},ready:{on:{update:{target:"ready",action:function(t){return n.animateReadyUpdate(t)}}}}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines)}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,n,r=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return r.detachCrossLine(t)})),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach((function(t){r.attachCrossLine(t),r.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){var t,e;try{for(var n=ml(Object.entries(this.modules)),r=n.next();!r.done;r=n.next()){var i=bl(r.value,2),o=i[0];i[1].instance.destroy(),delete this.modules[o],delete this[o]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.destroyFns.forEach((function(t){return t()}))},t.prototype.refreshScale=function(){var t,e=this;this.range=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this.range,n=this.visibleRange,r=this.scale,i=(e[1]-e[0])/(n[1]-n[0]),o=i*n[0],a=e[0]-o;r.range=[a,a+i],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[e[0],e[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t){t.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=this.range,i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return t+e<i-n?-1:t>o+n?1:0},t.prototype.onLabelFormatChange=function(t,e){var n=this.scale,r=this.fractionDigits,i=!(n instanceof Ua)&&r>0?function(t){return"number"==typeof t?t.toFixed(r):String(t)}:function(t){return String(t)};if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=i,U.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=i},t.prototype.setDomain=function(){var t,e=this.scale,n=this.dataDomain,r=this.tick.values;if(r&&e instanceof ra){var i=bl(null!==(t=Za(r))&&void 0!==t?t:[1/0,-1/0],2),o=i[0],a=i[1],l=Math.min(e.fromDomain(n[0]),o),s=Math.max(e.fromDomain(n[1]),a);e.domain=[e.toDomain(l),e.toDomain(s)]}else e.domain=n},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,n){var r=this.scale;if(t&&r instanceof ra)return"number"==typeof t?(r.tickCount=t,r.minTickCount=null!=e?e:0,void(r.maxTickCount=null!=n?n:1/0)):void(r instanceof _a&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,n=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){n.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.createTick=function(){return new dl},t.prototype.checkAxisHover=function(t){this.computeBBox().containsPoint(t.offsetX,t.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)},t.prototype.update=function(t){var e=this.tickLabelGroupSelection.nodes().map((function(t){return t.datum.tickId})),n=this.calculateRotations(),r=n.rotation,i=n.parallelFlipRotation,o=n.regularFlipRotation,a=this.label.getSideFlag(),l=a*(this.tick.size+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.updatePosition({rotation:r,sideFlag:a}),this.updateLine();var s=this.generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:o,labelX:l,sideFlag:a}),u=s.tickData,c=s.combinedRotation,h=s.textBaseline,d=s.textAlign,p=gl(s,["tickData","combinedRotation","textBaseline","textAlign"]);if(this.updateSelections(u.ticks),this.animationManager.skipAnimations)this.resetSelectionNodes();else{var f=this.calculateUpdateDiff(e,u);this.animationState.transition("update",f)}return this.updateLabels({tickLabelGroupSelection:this.tickLabelGroupSelection,combinedRotation:c,textBaseline:h,textAlign:d,labelX:l}),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(a),this.updateTitle({anyTickVisible:u.ticks.length>0,sideFlag:a}),this.updateCrossLines({rotation:r,parallelFlipRotation:i,regularFlipRotation:o,sideFlag:a}),this.updateLayoutState(),t=p.primaryTickCount},t.prototype.updateLayoutState=function(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}},t.prototype.updateScale=function(){this.updateRange(),this.calculateDomain(),this.setDomain(),this.setTickInterval(this.tick.interval);var t=this.scale,e=this.nice;t instanceof ra&&(this.setTickCount(this.tick.count),t.nice=e,t.update())},t.prototype.calculateRotations=function(){var t=ft(this.rotation);return{rotation:t,parallelFlipRotation:pt(t),regularFlipRotation:pt(t-Math.PI/2)}},t.prototype.generateTicks=function(t){for(var e,n,r,i,o=t.primaryTickCount,a=t.parallelFlipRotation,l=t.regularFlipRotation,s=t.labelX,u=t.sideFlag,c=this.scale,h=this.tick,d=this.label,p=d.parallel,f=d.rotation,y=d.fontFamily,v=d.fontSize,g=d.fontStyle,m=d.fontWeight,b=void 0!==o,x=$a({rotation:f,parallel:p,regularFlipRotation:l,parallelFlipRotation:a}),w=x.defaultRotation,S=x.configuredRotation,k=x.parallelFlipFlag,O=x.regularFlipFlag,D=S+w,_=new C,M=this.estimateTickCount({minSpacing:h.minSpacing,maxSpacing:null!==(i=h.maxSpacing)&&void 0!==i?i:NaN}).maxTickCount,E=c instanceof ra,P=h.count||!E||isNaN(M)?10:M,N=Qa(p,S,0,u,O),L=function(t,e,n,r){return t&&!e?n*r==-1?"hanging":"bottom":"middle"}(p,S,u,k),R={fontFamily:y,fontSize:v,fontStyle:g,fontWeight:m,textBaseline:L,textAlign:N},T={rawTicks:[],ticks:[],labelCount:0},I=0,A=0,j=!0,F=!1;j&&I<=P&&!F;){A=0,N=Qa(p,S,0,u,O);var B=this.getTickStrategies({secondaryAxis:b,index:I});try{for(var z=(e=void 0,ml(B)),W=z.next();!W.done;W=z.next()){T=(r=(0,W.value)({index:I,tickData:T,textProps:R,labelOverlap:j,terminate:F,primaryTickCount:o})).tickData,I=r.index,A=r.autoRotation,F=r.terminate;var G=T.ticks;N=Qa(p,S,A,u,O);var X=0!==S||0!==A,K=D+A;j=this.checkLabelOverlap(K,X,_,G,s,yl(yl({},R),{textAlign:N}))}}catch(t){e={error:t}}finally{try{W&&!W.done&&(n=z.return)&&n.call(z)}finally{if(e)throw e.error}}}var V=w+S+A;return!b&&T.rawTicks.length>0&&(o=T.rawTicks.length),{tickData:T,primaryTickCount:o,combinedRotation:V,textBaseline:L,textAlign:N}},t.prototype.getTickStrategies=function(t){var e,n=this,r=t.index,i=t.secondaryAxis,o=this.scale,a=this.label,l=this.tick,s=o instanceof ra,u=a.enabled&&a.avoidCollisions,c=!(s&&void 0===this.tick.count)&&0!==r&&u,h=!0===a.autoRotate&&void 0===a.rotation,d=[];e=this.tick.values?rl.VALUES:i?rl.CREATE_SECONDARY:c?rl.FILTER:rl.CREATE;if(d.push((function(t){var r=t.index,i=t.tickData,o=t.primaryTickCount,a=t.terminate;return n.createTickData(e,r,i,a,o)})),!s&&!isNaN(l.minSpacing)){d.push((function(t){var e=t.index,r=t.tickData,i=t.primaryTickCount,o=t.terminate;return n.createTickData(rl.FILTER,e,r,o,i)}))}if(!u)return d;if(a.autoWrap){d.push((function(t){var e=t.index,r=t.tickData,i=t.textProps;return n.wrapLabels(r,e,i)}))}else if(h){d.push((function(t){var e=t.index,r=t.tickData,i=t.labelOverlap,o=t.terminate;return{index:e,tickData:r,autoRotation:n.getAutoRotation(i),terminate:o}}))}return d},t.prototype.createTickData=function(t,e,n,r,i){for(var o,a,l,s=this.scale,u=this.tick,c=this.estimateTickCount({minSpacing:u.minSpacing,maxSpacing:null!==(o=u.maxSpacing)&&void 0!==o?o:NaN}),h=c.maxTickCount,d=c.minTickCount,p=c.defaultTickCount,f=s instanceof ra,y=u.count||!f||isNaN(h)?10:h,v=null!==(a=u.count)&&void 0!==a?a:f?Math.max(p-e,d):h,g=void 0===u.interval&&void 0===u.values&&void 0===u.count&&v>d&&(f||t===rl.FILTER),m=!0;m&&e<=y;){var b=n.rawTicks;v=null!==(l=u.count)&&void 0!==l?l:f?Math.max(p-e,d):h;var x=this.getTicks({tickGenerationType:t,previousTicks:b,tickCount:v,minTickCount:d,maxTickCount:h,primaryTickCount:i}),w=x.rawTicks,S=x.ticks,k=x.labelCount;n.rawTicks=w,n.ticks=S,n.labelCount=k,m=!!g&&ea(w,b),e++}var O=void 0!==u.interval||void 0!==u.values;return r||(r=O),{tickData:n,index:e,autoRotation:0,terminate:r}},t.prototype.checkLabelOverlap=function(t,e,n,r,i,o){return C.updateTransformMatrix(n,1,1,t,0,0),function(t,e){for(var n=[],r=function(r){var i=t[r],o=i.point,a=o.x,l=o.y,s=i.label.text,u=i.label,c=u.width,h=u.height;if(c+=null!=e?e:0,h+=null!=e?e:0,n.some((function(t){return rr(t,a,l,c,h)})))return{value:!0};n.push({index:r,text:s,x:a,y:l,width:c,height:h,datum:i})},i=0;i<t.length;i++){var o=r(i);if("object"==typeof o)return o.value}return!1}(this.createLabelData(r,i,o,n),function(t,e){return isNaN(t)?e?0:10:t}(this.label.minSpacing,e))},t.prototype.createLabelData=function(t,e,n,r){var i,o,a=[];try{for(var l=ml(t),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.tickLabel,h=u.translationY;if(""!==c&&null!=c){var d=Ct(Nt(c),e,h,n),p=d.width,f=d.height,y=tl(c,new O(e,h,p,f),e,h,r);a.push(y)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a},t.prototype.getAutoRotation=function(t){return t?pt(ft(this.label.autoRotateAngle)):0},t.prototype.getTicks=function(t){var e,n=t.tickGenerationType,r=t.previousTicks,i=t.tickCount,o=t.minTickCount,a=t.maxTickCount,l=t.primaryTickCount,s=this.scale,u=[];switch(n){case rl.VALUES:u=this.tick.values;break;case rl.CREATE_SECONDARY:u=this.updateSecondaryAxisTicks(l);break;case rl.FILTER:u=this.filterTicks(r,i);break;default:u=this.createTicks(i,o,a)}this.onLabelFormatChange(u,this.label.format),this.fractionDigits=u.fractionDigits>=0?u.fractionDigits:0;for(var c=(null!==(e=this.scale.bandwidth)&&void 0!==e?e:0)/2,h=[],d=0,p=new Map,f=0;f<u.length;f++){var y=u[f],v=s.convert(y)+c,g=this.formatTick(y,f),m=g;if(p.has(m)){var b=p.get(m);p.set(m,b+1),m=m+"_"+b}else p.set(m,1);h.push({tick:y,tickId:m,tickLabel:g,translationY:v}),""!==g&&null!=g&&d++}return{rawTicks:u,ticks:h,labelCount:d}},t.prototype.filterTicks=function(t,e){var n,r=!isNaN(this.tick.minSpacing)||!isNaN(null!==(n=this.tick.maxSpacing)&&void 0!==n?n:NaN)?Math.ceil(t.length/e):2;return t.filter((function(t,e){return e%r==0}))},t.prototype.createTicks=function(t,e,n){var r,i,o;return this.setTickCount(t,e,n),null!==(o=null===(i=(r=this.scale).ticks)||void 0===i?void 0:i.call(r))&&void 0!==o?o:[]},t.prototype.estimateTickCount=function(e){var n=e.minSpacing,r=e.maxSpacing,i=this.calculateAvailableRange(),o=Math.max(t.defaultTickMinSpacing,i/ra.defaultMaxTickCount);isNaN(n)&&isNaN(r)?(n=o)>(r=i)&&(r=n):isNaN(n)?(n=o)>r&&(n=r):isNaN(r)&&n>(r=i)&&(r=n);var a=Math.max(1,Math.floor(i/n)),l=Math.min(a,Math.ceil(i/r)),s=ra.defaultTickCount;return s>a?s=a:s<l&&(s=l),{minTickCount:l,maxTickCount:a,defaultTickCount:s}},t.prototype.updateVisibility=function(){var t=this.range,e=Math.min.apply(Math,xl([],bl(t))),n=Math.max.apply(Math,xl([],bl(t))),r=function(t){var r=Math.floor(e),i=Math.ceil(n);if(r!==i){t.translationY>=r-1&&t.translationY<r&&(t.translationY=r),t.translationY>i&&t.translationY<=i+1&&(t.translationY=i);var o=t.translationY>=r&&t.translationY<=i;t.visible=o}else t.visible=!1},i=this.gridLineGroupSelection,o=this.tickLineGroupSelection,a=this.tickLabelGroupSelection;i.each(r),o.each(r),a.each(r),this.tickLineGroup.visible=this.tick.enabled,this.tickLabelGroup.visible=this.label.enabled},t.prototype.updateCrossLines=function(t){var e,n=this,r=t.rotation,i=t.parallelFlipRotation,o=t.regularFlipRotation,a=t.sideFlag,l=this.isAnySeriesActive();null===(e=this.crossLines)||void 0===e||e.forEach((function(t){var e;t.sideFlag=-a,t.direction=r===-Math.PI/2?Te.X:Te.Y,t.label.parallel=null!==(e=t.label.parallel)&&void 0!==e?e:n.label.parallel,t.parallelFlipRotation=i,t.regularFlipRotation=o,t.update(l)}))},t.prototype.updateTickLines=function(t){var e=this.tick;this.tickLineGroupSelection.each((function(n){n.strokeWidth=e.width,n.stroke=e.color,n.x1=t*e.size,n.x2=0,n.y1=0,n.y2=0}))},t.prototype.calculateAvailableRange=function(){var t=this.range,e=Math.min.apply(Math,xl([],bl(t)));return Math.max.apply(Math,xl([],bl(t)))-e},t.prototype.calculateDomain=function(){var t,e,n,r=this.direction,i=this.boundSeries,o=this.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var a=[],l=i.filter((function(t){return o||t.isEnabled()}));try{for(var s=ml(l),u=s.next();!u.done;u=s.next()){var c=u.value;a.push(c.getDomain(r))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}var h=(n=new Array).concat.apply(n,xl([],bl(a)));this.dataDomain=this.normaliseDataDomain(h)}},t.prototype.updatePosition=function(t){var e=t.rotation,n=t.sideFlag,r=this,i=r.crossLineGroup,o=r.axisGroup,a=r.gridGroup,l=r.translation,s=r.gridLineGroupSelection,u=r.gridPadding,c=r.gridLength,h=Math.floor(l.x),d=Math.floor(l.y);i.translationX=h,i.translationY=d,i.rotation=e,o.translationX=h,o.translationY=d,o.rotation=e,a.translationX=h,a.translationY=d,a.rotation=e,s.each((function(t){t.x1=u,t.x2=-n*c+u,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=this.gridLength?t:[],n=this.gridLineGroupSelection.update(e,(function(t){var e=new $o;e.tag=nl.GridLine,t.append(e)}),(function(t){return t.tickId})),r=this.tickLineGroupSelection.update(t,(function(t){var e=new $o;e.tag=nl.TickLine,t.appendChild(e)}),(function(t){return t.tickId})),i=this.tickLabelGroupSelection.update(t,(function(t){var e=new Dt;e.tag=nl.TickLabel,t.appendChild(e)}),(function(t){return t.tickId}));this.tickLineGroupSelection=r,this.tickLabelGroupSelection=i,this.gridLineGroupSelection=n},t.prototype.updateGridLines=function(t){var e=this.gridStyle,n=this.tick,r=this.gridPadding,i=this.gridLength;if(0!==i&&0!==e.length){var o=e.length;this.gridLineGroupSelection.each((function(a,l,s){var u=e[s%o];a.x1=r,a.x2=-t*i+r,a.y1=0,a.y2=0,a.stroke=u.stroke,a.strokeWidth=n.width,a.lineDash=u.lineDash,a.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=t.tickLabelGroupSelection,n=t.combinedRotation,r=t.textBaseline,i=t.textAlign,o=t.labelX,a=this.label;this.label.enabled&&e.each((function(t,e){var l=e.tickLabel;t.fontStyle=a.fontStyle,t.fontWeight=a.fontWeight,t.fontSize=a.fontSize,t.fontFamily=a.fontFamily,t.fill=a.color,t.text=l,""===t.text||null==t.text?t.visible=!1:(t.textBaseline=r,t.textAlign=i,t.x=o,t.rotationCenterX=o,t.rotation=n,t.visible=!0)}))},t.prototype.wrapLabels=function(t,e,n){var r=this.label,i=r.parallel,o=r.maxWidth,a=r.maxHeight,l=i?Math.round(this.calculateAvailableRange()/t.labelCount):this.maxThickness,s=null!=o?o:l,u=i?this.maxThickness:Math.round(this.calculateAvailableRange()/t.labelCount),c=null!=a?a:u;return t.ticks.forEach((function(t){var e=t.tickLabel,r=Dt.wrap(e,s,c,n,"hyphenate");t.tickLabel=r})),{tickData:t,index:e,autoRotation:0,terminate:!0}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.range;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e,n=t.anyTickVisible,r=t.sideFlag,i=this,o=i.rotation,a=i.title,l=i._titleCaption,s=i.lineNode,u=i.range,c=i.tickLineGroup,h=i.tickLabelGroup,d=i.moduleCtx.callbackCache,p=(null!==(e=this.title)&&void 0!==e?e:{}).formatter,f=void 0===p?function(t){return t.defaultValue}:p;if(a){l.enabled=a.enabled,l.fontFamily=a.fontFamily,l.fontSize=a.fontSize,l.fontStyle=a.fontStyle,l.fontWeight=a.fontWeight,l.color=a.color,l.wrapping=a.wrapping;var y=!1,v=l.node;if(a.enabled&&s.visible){y=!0;var g=pt(o),m=ta.PADDING,b=-1===r&&g>Math.PI&&g<2*Math.PI?-1:1;v.rotation=b*r*Math.PI/2,v.x=Math.floor(b*r*(u[0]+u[1])/2);var x=0;if(n){var w=et.computeBBox([c,h]),S=0===o?w.width:w.height;Math.abs(S)<1/0&&(x+=S)}v.y=-1===r?Math.floor(b*(-m-x)):Math.floor(-m-x),v.textBaseline=1===b?"bottom":"top",v.text=d.call(f,this.getTitleFormatterParams())}v.visible=y}else l.enabled=!1},t.prototype.formatTick=function(t,e){var n,r,i=this.label,o=this.labelFormatter,a=this.fractionDigits,l=this.moduleCtx.callbackCache;if(i.formatter){var s=a>0?t:String(t);return null!==(n=l.call(i.formatter,{value:s,index:e,fractionDigits:a,formatter:o}))&&void 0!==n?n:s}return o&&null!==(r=l.call(o,t))&&void 0!==r?r:String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},t.prototype.clipTickLines=function(t,e,n,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new O(t,e,n,r))},t.prototype.clipGrid=function(t,e,n,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new O(t,e,n,r))},t.prototype.calculatePadding=function(t,e){return[Math.abs(.01*t),Math.abs(.01*t)]},t.prototype.getTitleFormatterParams=function(){var t,e=this,n=this.boundSeries.reduce((function(t,n){for(var r=n.getKeys(e.direction),i=n.getNames(e.direction),o=0;o<r.length;o++)t.push({key:r[o],name:i[o]});return t}),[]);return{direction:this.direction,boundSeries:n,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}},t.prototype.normaliseDataDomain=function(t){return t},t.prototype.getLayoutState=function(){return yl({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},t.prototype.createAxisContext=function(){var t=this;return{axisId:this.id,direction:this.direction,continuous:this.scale instanceof ra,keys:function(){return t.boundSeries.map((function(e){return e.getKeys(t.direction)})).reduce((function(t,e){return t.push.apply(t,xl([],bl(e))),t}),[])},scaleValueFormatter:function(e){var n,r,i;return null!==(i=null===(r=(n=t.scale).tickFormat)||void 0===r?void 0:r.call(n,{specifier:e}))&&void 0!==i?i:void 0},scaleBandwidth:function(){var e;return null!==(e=t.scale.bandwidth)&&void 0!==e?e:0},scaleConvert:function(e){return t.scale.convert(e)},scaleInvert:function(e){var n,r,i;return null!==(i=null===(r=(n=t.scale).invert)||void 0===r?void 0:r.call(n,e))&&void 0!==i?i:void 0}}},t.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);null==this.axisContext&&(this.axisContext=this.createAxisContext());var e=new t.instanceConstructor(yl(yl({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e},t.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},t.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},t.prototype.animateReadyUpdate=function(t){var e,n,r=this;if(t.changed){var i=this.gridLineGroupSelection,o=this.tickLineGroupSelection,a=this.tickLabelGroupSelection,l=Object.keys(t.added).length,s=Object.keys(t.removed).length;if(s!==t.tickCount){var u=null!==(n=null===(e=this.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,c=Math.floor(u/2);l>0&&s>0&&(c=Math.floor(u/3));var h={delay:s>0?c:0,duration:c},d=this.id+"_"+Math.random();a.each((function(e,n){r.animateSelectionNode(a,t,h,e,n,d)})),i.each((function(e,n){r.animateSelectionNode(i,t,h,e,n,d)})),o.each((function(e,n){r.animateSelectionNode(o,t,h,e,n,d)}))}else this.resetSelectionNodes()}else this.resetSelectionNodes()},t.prototype.animateSelectionNode=function(t,e,n,r,i,o){var a=Math.round(i.translationY),l={from:r.translationY,to:a},s={from:1,to:1},u=n.duration,c=n.delay,h=i.tickLabel;e.added[h]?(l={from:a,to:a},s={from:0,to:1},c+=u):e.removed[h]&&(s={from:1,to:0},c=0);var d=[l,s];this.animationManager.animateManyWithThrottle(this.id+"_ready-update_"+r.id,d,{disableInteractions:!1,delay:c,duration:u,ease:Lr,throttleId:this.id,throttleGroup:o,onUpdate:function(t){var e=bl(t,2),n=e[0],i=e[1];r.translationY=n,r.opacity=i},onComplete:function(){t.cleanup()}})},t.prototype.resetSelectionNodes=function(){var t=this.gridLineGroupSelection,e=this.tickLineGroupSelection,n=this.tickLabelGroupSelection;t.cleanup(),e.cleanup(),n.cleanup();var r=function(t){t.translationY=Math.round(t.datum.translationY),t.opacity=1};t.each(r),e.each(r),n.each(r)},t.prototype.calculateUpdateDiff=function(t,e){for(var n,r=new Set,i=new Set,o=Math.max(t.length,e.ticks.length),a=0;a<o;a++){var l=t[a],s=null===(n=e.ticks[a])||void 0===n?void 0:n.tickId;l!==s&&(i.has(s)?i.delete(s):s&&r.add(s),r.has(l)?r.delete(l):l&&i.add(l))}var u={},c={};return r.forEach((function(t){u[t]=!0})),i.forEach((function(t){c[t]=!0})),{changed:r.size>0||i.size>0,tickCount:o,added:u,removed:c}},t.defaultTickMinSpacing=50,vl([Kt(ee)],t.prototype,"nice",void 0),vl([Kt(be)],t.prototype,"keys",void 0),vl([Kt(Sl)],t.prototype,"gridStyle",void 0),t}(),Dl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(){function t(){this.enabled=!1,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.color=void 0,this.wrapping="always",this.formatter=void 0}Dl([Kt(ee)],t.prototype,"enabled",void 0),Dl([Kt(ie)],t.prototype,"text",void 0),Dl([Kt(Oe)],t.prototype,"fontStyle",void 0),Dl([Kt(_e)],t.prototype,"fontWeight",void 0),Dl([Kt(fe(0))],t.prototype,"fontSize",void 0),Dl([Kt(re)],t.prototype,"fontFamily",void 0),Dl([Kt(he)],t.prototype,"color",void 0),Dl([Kt(ze)],t.prototype,"wrapping",void 0),Dl([Kt(te)],t.prototype,"formatter",void 0)}();var _l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ml=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return _l(e,t),Cl([Kt(ee),N({redraw:x.MAJOR})],e.prototype,"enabled",void 0),Cl([Kt(ce),N({redraw:x.MAJOR})],e.prototype,"color",void 0),Cl([Kt(fe()),N({redraw:x.MAJOR})],e.prototype,"xOffset",void 0),Cl([Kt(fe()),N({redraw:x.MAJOR})],e.prototype,"yOffset",void 0),Cl([Kt(fe(0)),N({redraw:x.MAJOR})],e.prototype,"blur",void 0),e}(R),El=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nl=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return El(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:ra.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var n=Pl(this.getDomain(),2),r=n[0],i=n[1],o=this.interval;if(o){var a=Math.abs(o);if(!this.isDenseInterval({start:r,stop:i,interval:a}))return ua(r,i,a)}return oa(r,i,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,n=null!==(t=this.tickCount)&&void 0!==t?t:ra.defaultTickCount,r=Pl(this.domain,2),i=r[0],o=r[1];if(n<1)this.niceDomain=[i,o];else if(1!==n){for(var a=i,l=o,s=0;s<4;s++){var u=null!==(e=this.interval)&&void 0!==e?e:la(i,o,n,this.minTickCount,this.maxTickCount),c=Pl(this.domain,2),h=c[0],d=c[1];if(u>=1)i=Math.floor(h/u)*u,o=Math.ceil(d/u)*u;else{var p=1/u;i=Math.floor(h*p)/p,o=Math.ceil(d*p)/p}if(i===a&&o===l)break;a=i,l=o}this.niceDomain=[i,o]}else this.niceDomain=function(t,e){var n=Math.floor(Math.log10(e-t)),r=Math.pow(10,n);return aa.map((function(n){var i=n*r,o=Math.floor(t/i)*i,a=Math.ceil(e/i)*i;return{error:1-(e-t)/(a-o),domain:[o,a]}})).sort((function(t,e){return t.error-e.error}))[0].domain}(i,o)},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return function(t,e){var n=Ta(null!=e?e:",f"),r=n.precision;(null==r||isNaN(r))&&("f"===n.type||"%"===n.type?n.precision=Math.max.apply(Math,Ma([],Ca(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),r=n.type?6:12,i=t.toExponential(r-1).replace(/\.?0+e/,"e"),o=i.indexOf(".");if(o<0)return e>=0?0:-e;var a=i.indexOf("e")-o;return Math.max(0,a-e-1)}))))):n.type&&!(n.type in Fa)||(n.precision=Math.max.apply(Math,Ma([],Ca(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length})))))));var i=Ia(n);return function(t){return i(Number(t))}}(null!=e?e:this.ticks(),n)},e}(ra);function Ll(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function Rl(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function Tl(t,e,n){var r=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i=n.innerRadius,o=n.outerRadius;if(r<Math.min(i,o)||r>Math.max(i,o))return!1;var a=Math.atan2(e,t);a<-Math.PI/2&&(a+=2*Math.PI);var l=n.startAngle,s=n.endAngle;return s===-Math.PI/2?a<l:l===3*Math.PI/2?a>s:a<=s&&a>=l}function Il(t,e){var n=e.startAngle,r=e.endAngle,i=e.innerRadius,o=e.outerRadius,a={x:o*Math.cos(n),y:o*Math.sin(n)},l={x:o*Math.cos(r),y:o*Math.sin(r)},s=0===i?{x:0,y:0}:{x:i*Math.cos(n),y:i*Math.sin(n)},u=0===i?{x:0,y:0}:{x:i*Math.cos(r),y:i*Math.sin(r)};return null!=ki(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,s.x,s.y)||null!=ki(t.start.x,t.start.y,t.end.x,t.end.y,l.x,l.y,u.x,u.y)||_i(0,0,o,n,r,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}var Al,jl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return jl(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new O(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=this.startAngle+e,r=this.endAngle+e,i=Math.min(this.innerRadius,this.outerRadius),o=Math.max(this.innerRadius,this.outerRadius),a=Ll(pt(this.startAngle),pt(this.endAngle)),l=this.centerX,s=this.centerY;t.clear(),a?(t.arc(l,s,o,n,r),i>0&&(t.moveTo(l+i*Math.cos(r),s+i*Math.sin(r)),t.arc(l,s,i,r,n,!0))):(t.moveTo(l+i*Math.cos(n),s+i*Math.sin(n)),t.arc(l,s,o,n,r),i>0?t.arc(l,s,i,r,n,!0):t.lineTo(l,s)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var n=this.angleOffset,r=this.startAngle+n,i=this.endAngle+n,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),l=this.transformPoint(t,e);return Tl(l.x,l.y,{startAngle:r,endAngle:i,innerRadius:o,outerRadius:a})},e.className="Sector",Fl([Li()],e.prototype,"centerX",void 0),Fl([Li()],e.prototype,"centerY",void 0),Fl([Li()],e.prototype,"innerRadius",void 0),Fl([Li()],e.prototype,"outerRadius",void 0),Fl([Li()],e.prototype,"startAngle",void 0),Fl([Li()],e.prototype,"endAngle",void 0),Fl([Li()],e.prototype,"angleOffset",void 0),e}(Ri),zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t){function e(e){var n,r,i=e.moduleCtx,o=e.useLabelLayer,a=void 0!==o&&o,l=e.pickModes,s=void 0===l?[En.EXACT_SHAPE_MATCH]:l,u=t.call(this,{moduleCtx:i,useLabelLayer:a,pickModes:s,contentGroupVirtual:!1,directionKeys:(n={},n[Te.X]=["angleKey"],n[Te.Y]=["radiusKey"],n),directionNames:(r={},r[Te.X]=["angleName"],r[Te.Y]=["radiusName"],r)})||this;return u.centerX=0,u.centerY=0,u.radius=0,u}return zl(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t,e){return null},e}(Jn),Gl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xl=function(){return(Xl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Kl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Vl=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Yl=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Hl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ul=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Zl=function(t){function e(e,n,r,i,o,a,l){var s=t.call(this,o,a,l)||this;return s.angleKey=e,s.calloutLabelKey=n,s.sectorLabelKey=r,s.radiusKey=i,s}return Gl(e,t),e}(Gn),ql=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return Gl(e,t),e}(Zl),Jl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Gl(e,t),e}(Zl);!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(Al||(Al={}));var $l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e.avoidCollisions=!0,e}return Gl(e,t),Kl([Kt(fe(0))],e.prototype,"offset",void 0),Kl([Kt(fe(0))],e.prototype,"minAngle",void 0),Kl([Kt(te)],e.prototype,"formatter",void 0),Kl([Kt(fe(0))],e.prototype,"minSpacing",void 0),Kl([Kt(fe(0))],e.prototype,"maxCollisionOffset",void 0),Kl([Kt(ee)],e.prototype,"avoidCollisions",void 0),e}(Ja),Ql=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return Gl(e,t),Kl([Kt(fe())],e.prototype,"positionOffset",void 0),Kl([Kt(fe(0,1))],e.prototype,"positionRatio",void 0),Kl([Kt(te)],e.prototype,"formatter",void 0),e}(Ja),ts=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return Kl([Kt(pe)],t.prototype,"colors",void 0),Kl([Kt(fe(0))],t.prototype,"length",void 0),Kl([Kt(fe(0))],t.prototype,"strokeWidth",void 0),t}(),es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Gl(e,t),Kl([Kt(te)],e.prototype,"renderer",void 0),e}(Zn);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}Gl(e,t),Kl([Kt(ee)],e.prototype,"showInLegend",void 0)}(ta),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}Gl(e,t),Kl([Kt(re)],e.prototype,"text",void 0),Kl([Kt(fe())],e.prototype,"margin",void 0)}(Ja),function(){function t(){this.fill="transparent",this.fillOpacity=1}Kl([Kt(ce)],t.prototype,"fill",void 0),Kl([Kt(ye(0,1))],t.prototype,"fillOpacity",void 0)}();var ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gl(e,t),e}(pl),rs=function(t){function e(e){var n,r,i,o=t.call(this,{moduleCtx:e,useLabelLayer:!0})||this;o.radiusScale=new Nl,o.groupSelection=xi.select(o.contentGroup,et),o.highlightSelection=xi.select(o.highlightGroup,et),o.nodeData=[],o.seriesItemEnabled=[],o.title=void 0,o.calloutLabel=new $l,o.sectorLabel=new Ql,o.calloutLine=new ts,o.tooltip=new es,o.angleKey="",o.angleName="",o.innerLabels=[],o.innerCircle=void 0,o.radiusKey=void 0,o.radiusName=void 0,o.radiusMin=void 0,o.radiusMax=void 0,o.calloutLabelKey=void 0,o.calloutLabelName=void 0,o.sectorLabelKey=void 0,o.sectorLabelName=void 0,o.legendItemKey=void 0,o.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],o.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],o.fillOpacity=1,o.strokeOpacity=1,o.lineDash=[0],o.lineDashOffset=0,o.formatter=void 0,o.rotation=0,o.outerRadiusOffset=0,o.outerRadiusRatio=1,o.innerRadiusOffset=0,o.innerRadiusRatio=1,o.strokeWidth=1,o.shadow=void 0,o.highlightStyle=new Un,o.surroundingRadius=void 0,o.angleScale=new Nl,o.angleScale.domain=[0,1],o.angleScale.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),o.backgroundGroup=o.rootGroup.appendChild(new et({name:o.id+"-background",layer:!0,zIndex:Re.SERIES_BACKGROUND_ZINDEX}));var a=new et({name:"pieCalloutLabels"}),l=new et({name:"pieSectorLabels"}),s=new et({name:"innerLabels"});return null===(n=o.labelGroup)||void 0===n||n.append(a),null===(r=o.labelGroup)||void 0===r||r.append(l),null===(i=o.labelGroup)||void 0===i||i.append(s),o.calloutLabelSelection=xi.select(a,et),o.sectorLabelSelection=xi.select(l,Dt),o.innerLabelsSelection=xi.select(s,Dt),o.animationState=new ns("empty",{empty:{on:{update:{target:"ready",action:function(){return o.animateEmptyUpdateReady()}}}},ready:{on:{update:{target:"ready",action:function(){return o.animateReadyUpdateReady()}}}}}),o}return Gl(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e=this;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return e.onLegendItemClick(t)}))},e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t,e=this.data,n=this.visible;this.seriesItemEnabled=null!==(t=null==e?void 0:e.map((function(){return n})))&&void 0!==t?t:[]},e.prototype.getDomain=function(t){return t===Te.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(t){var e,n;return Vl(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d,p,f,y;return Yl(this,(function(v){switch(v.label){case 0:return r=this.data,i=void 0===r?[]:r,a=(o=this).angleKey,l=o.radiusKey,s=o.calloutLabelKey,u=o.sectorLabelKey,c=o.legendItemKey,h=o.seriesItemEnabled,a?(d=[],l&&(d.push(function(t,e,n){void 0===n&&(n={});var r=n.min,i=void 0===r?-1/0:r,o=n.max,a=void 0===o?1/0:o,l=Rn(n,["min","max"]);return Nn({scopes:[t.id],type:"value",property:e,valueType:"range",validation:jn,processor:function(){return function(t){return"number"!=typeof t||isNaN(t)?t:Math.min(Math.max(t,i),a)}}},l)}(this,l,{id:"radiusValue",min:null!==(e=this.radiusMin)&&void 0!==e?e:0,max:this.radiusMax}),zn(this,l,!0,{id:"radiusRaw"}),wn(this,{id:"radiusValue"},[0,1],null!==(n=this.radiusMin)&&void 0!==n?n:0,this.radiusMax)),d.push()),s&&d.push(zn(this,s,!1,{id:"calloutLabelValue"})),u&&d.push(zn(this,u,!1,{id:"sectorLabelValue"})),c&&d.push(zn(this,c,!1,{id:"legendItemValue"})),i=i.map((function(t,e){var n;return h[e]?t:Xl(Xl({},t),((n={})[a]=0,n))})),[4,t.request(this.id,i,{props:Ul([(g=this,m=a,b=!0,x={id:"angleValue"},void 0===x&&(x={}),Nn(Nn({},zn(g,m,b,x)),{processor:function(){var t=0;return function(e){return"number"!=typeof e||isNaN(e)?e:t+=e}}})),zn(this,a,!0,{id:"angleRaw"}),wn(this,{id:"angleValue"},[0,1],0)],Hl(d))})]):[2];case 1:return p=v.sent(),f=p.dataModel,y=p.processedData,this.dataModel=f,this.processedData=y,[2]}var g,m,b,x}))}))},e.prototype.maybeRefreshNodeData=function(){if(this.nodeDataRefresh){var t=Hl(this._createNodeData(),1)[0],e=(void 0===t?{}:t).nodeData,n=void 0===e?[]:e;this.nodeData=n,this.nodeDataRefresh=!1}},e.prototype.createNodeData=function(){return Vl(this,void 0,void 0,(function(){return Yl(this,(function(t){return[2,this._createNodeData()]}))}))},e.prototype.getProcessedDataIndexes=function(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}},e.prototype._createNodeData=function(){var t=this,e=this,n=e.id,r=e.processedData,i=e.dataModel,o=e.rotation,a=e.angleScale;if(!r||!i||"ungrouped"!==r.type)return[];var l=this.getProcessedDataIndexes(i),s=l.angleIdx,u=l.radiusIdx,c=l.calloutLabelIdx,h=l.sectorLabelIdx,d=l.legendItemIdx,p=0,f=r.data.map((function(e,n){var r,i=e.datum,l=e.values,f=l[s],y=a.convert(p)+ft(o);p=f;var v=a.convert(p)+ft(o),g=Math.abs(v-y),m=y+g/2,b=l[s+1],x=u>=0&&null!==(r=l[u])&&void 0!==r?r:1,w=u>=0?l[u+1]:void 0,S=d>=0?l[d]:void 0,k=t.getLabels(i,m,g,!0,f,w,l[c],l[h],S),O=t.getSectorFormat(i,n,n,!1);return Xl({itemId:n,series:t,datum:i,index:n,angleValue:b,midAngle:m,midCos:Math.cos(m),midSin:Math.sin(m),startAngle:y,endAngle:v,sectorFormat:O,radius:x,radiusValue:w,legendItemValue:S},k)}));return[{itemId:n,nodeData:f,labelData:f}]},e.prototype.getLabels=function(t,e,n,r,i,o,a,l,s){var u=this.calloutLabel,c=this.sectorLabel,h=this.legendItemKey,d=this.ctx.callbackCache,p=!r||u.enabled?this.calloutLabelKey:void 0,f=!r||c.enabled?this.sectorLabelKey:void 0;if(!p&&!f&&!h)return{};var y,v,g=this.getLabelFormatterParams(t,i,o,a,l);p&&(y=n>ft(u.minAngle)?u.formatter?d.call(u.formatter,g):String(a):void 0);return f&&(v=c.formatter?d.call(c.formatter,g):String(l)),Xl(Xl(Xl({},null!=y?{calloutLabel:Xl(Xl({},this.getTextAlignment(e)),{text:y,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})}:{}),null!=v?{sectorLabel:{text:v}}:{}),null!=h&&null!=s?{legendItem:{key:h,text:s}}:{})},e.prototype.getLabelFormatterParams=function(t,e,n,r,i){var o=this,a=o.id,l=o.radiusKey,s=o.radiusName;return{datum:t,angleKey:o.angleKey,angleValue:e,angleName:o.angleName,radiusKey:l,radiusValue:n,radiusName:s,calloutLabelKey:o.calloutLabelKey,calloutLabelValue:r,calloutLabelName:o.calloutLabelName,sectorLabelKey:o.sectorLabelKey,sectorLabelValue:i,sectorLabelName:o.sectorLabelName,seriesId:a}},e.prototype.getTextAlignment=function(t){var e,n,r,i=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],o=(e=t,(e%=dt)<-Math.PI?e+=dt:e>=Math.PI&&(e-=dt),e)- -3*Math.PI/4,a=Math.floor(o/(Math.PI/2));return i[(r=i.length,(n=a)>=0?Math.floor(n%r):Math.floor(n%r+r))]},e.prototype.getSectorFormat=function(t,e,n,r){var i,o,a,l,s,u,c,h,d,p=this,f=p.angleKey,y=p.radiusKey,v=p.fills,g=p.strokes,m=p.fillOpacity,b=p.formatter,x=p.id,w=p.ctx,S=w.callbackCache,k=w.highlightManager,O=null==k?void 0:k.getActiveHighlight(),D=r&&(null==O?void 0:O.series)===this&&e===O.itemId,_=D?this.highlightStyle.item:null,C=null!==(i=null==_?void 0:_.fill)&&void 0!==i?i:v[n%v.length],M=null!==(o=null==_?void 0:_.fillOpacity)&&void 0!==o?o:m,E=null!==(a=null==_?void 0:_.stroke)&&void 0!==a?a:g[n%g.length],P=null!==(l=null==_?void 0:_.strokeWidth)&&void 0!==l?l:this.getStrokeWidth(this.strokeWidth);return b&&(d=S.call(b,{datum:t,angleKey:f,radiusKey:y,fill:C,stroke:E,strokeWidth:P,highlighted:D,seriesId:x})),{fill:null!==(s=null==d?void 0:d.fill)&&void 0!==s?s:C,fillOpacity:null!==(u=null==d?void 0:d.fillOpacity)&&void 0!==u?u:M,stroke:null!==(c=null==d?void 0:d.stroke)&&void 0!==c?c:E,strokeWidth:null!==(h=null==d?void 0:d.strokeWidth)&&void 0!==h?h:P}},e.prototype.getInnerRadius=function(){var t=this.radius,e=this.innerRadiusRatio,n=this.innerRadiusOffset,r=t*(null!=e?e:1)+(n||0);return r===t||r<0?0:r},e.prototype.getOuterRadius=function(){var t=this.radius,e=this.outerRadiusRatio,n=this.outerRadiusOffset,r=t*(null!=e?e:1)+(n||0);return r<0?0:r},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,n=Math.max(0,this.radiusScale.range[1]);return 0===n?NaN:-n-(2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-n)},e.prototype.update=function(t){var e=t.seriesRect;return Vl(this,void 0,void 0,(function(){var t,n,r;return Yl(this,(function(i){switch(i.label){case 0:return t=this.title,this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(),this.updateInnerCircleNodes(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t&&(n=this.getTitleTranslationY(),r=t.node.computeBBox(),t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r,0,n),t.node.translationY=isFinite(n)?n:0),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return i.sent(),[4,this.updateNodes(e)];case 2:return i.sent(),[2]}}))}))},e.prototype.updateTitleNodes=function(){var t,e,n=this.title,r=this.oldTitle;r!==n&&(r&&(null===(t=this.labelGroup)||void 0===t||t.removeChild(r.node)),n&&(n.node.textBaseline="bottom",null===(e=this.labelGroup)||void 0===e||e.appendChild(n.node)),this.oldTitle=n)},e.prototype.updateInnerCircleNodes=function(){var t,e=this.innerCircle,n=this.oldInnerCircle,r=this.innerCircleNode;if(n!==e){var i=void 0;r&&this.backgroundGroup.removeChild(r),e&&((i=new Ki).fill=e.fill,i.fillOpacity=null!==(t=e.fillOpacity)&&void 0!==t?t:1,this.backgroundGroup.appendChild(i)),this.oldInnerCircle=e,this.innerCircleNode=i}},e.prototype.updateNodeMidPoint=function(){var t=this;this.nodeData.forEach((function(e){var n=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,n/2),y:e.midSin*Math.max(0,n/2)}}))},e.prototype.updateSelections=function(){return Vl(this,void 0,void 0,(function(){return Yl(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return Vl(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l=this;return Yl(this,(function(s){return e=(t=this).groupSelection,n=t.highlightSelection,r=t.calloutLabelSelection,i=t.sectorLabelSelection,o=t.innerLabelsSelection,a=function(t){return t.update(l.nodeData,(function(t){var e=new Bl;e.tag=Al.Sector,t.appendChild(e)}))},this.groupSelection=a(e),this.highlightSelection=a(n),r.update(this.nodeData,(function(t){var e=new $o;e.tag=Al.Callout,e.pointerEvents=L.None,t.appendChild(e);var n=new Dt;n.tag=Al.Label,n.pointerEvents=L.None,t.appendChild(n)})),i.update(this.nodeData,(function(t){t.pointerEvents=L.None})),o.update(this.innerLabels,(function(t){t.pointerEvents=L.None})),[2]}))}))},e.prototype.updateNodes=function(t){var e;return Vl(this,void 0,void 0,(function(){var n,r,i,o,a,l=this;return Yl(this,(function(s){return n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=r,this.backgroundGroup.visible=r,this.contentGroup.visible=r,this.highlightGroup.visible=r&&(null==n?void 0:n.series)===this,this.labelGroup&&(this.labelGroup.visible=r),this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),i=this.radiusScale,o=i.convert(0),a=function(t,e,n,r){var a=i.convert(e.radius),s=t.parent,u=null==s?void 0:s.parent;r&&s&&u&&(u.removeChild(s),u.appendChild(s)),t.innerRadius=Math.max(0,o),t.outerRadius=Math.max(0,a),r&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle);var c=l.getSectorFormat(e.datum,e.itemId,n,r);t.fill=c.fill,t.stroke=c.stroke,t.strokeWidth=c.strokeWidth,t.fillOpacity=c.fillOpacity,t.strokeOpacity=l.strokeOpacity,t.lineDash=l.lineDash,t.lineDashOffset=l.lineDashOffset,t.fillShadow=l.shadow,t.lineJoin="round",t.visible=l.seriesItemEnabled[n]},this.groupSelection.selectByTag(Al.Sector).forEach((function(t,e){return a(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(Al.Sector).forEach((function(t,e){var r=(null==n?void 0:n.series)===l&&t.datum.itemId===n.itemId;r?a(t,t.datum,e,r):t.visible=!1})),this.animationState.transition("update"),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t,e=this.radiusScale,n=this.calloutLine,r=n.length,i=n.strokeWidth,o=null!==(t=n.colors)&&void 0!==t?t:this.strokes,a=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(Al.Callout).forEach((function(t,n){var l=t.datum,s=e.convert(l.radius),u=Math.max(0,s),c=l.calloutLabel;if((null==c?void 0:c.text)&&!c.hidden&&0!==u){t.visible=!0,t.strokeWidth=i,t.stroke=o[n%o.length],t.fill=void 0;var h=l.midCos*u,d=l.midSin*u,p=l.midCos*(u+r),f=l.midSin*(u+r);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){var y=c.box,v=p,g=f;p<y.x?v=y.x:p>y.x+y.width&&(v=y.x+y.width),f<y.y?g=y.y:f>y.y+y.height&&(g=y.y+y.height);var m=v-p,b=g-f,x=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),w=x-a;w>0&&(p+=m*w/x,f+=b*w/x)}t.x1=h,t.y1=d,t.x2=p,t.y2=f}else t.visible=!1}))},e.prototype.getLabelOverflow=function(t,e,n){var r=n.x-this.centerX,i=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1;e.x+1<r?l=(e.x+e.width-r)/e.width:e.x+e.width-1>i&&(l=(i-e.x)/e.width);var s=e.y+1<o||e.y+e.height-1>a;return{textLength:1===l?t.length:Math.floor(t.length*l)-1,hasVerticalOverflow:s,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}},e.prototype.bboxIntersectsSurroundingSeries=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=this.surroundingRadius;if(null==r)return!1;var i=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],o=Math.pow(r,2);return i.some((function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)>o}))},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this.radiusScale,n=this.calloutLabel,r=this.calloutLine,i=n.offset,o=n.minSpacing,a=e.convert(0),l=this.nodeData,s=this.nodeData.filter((function(t){return r=(n=t).calloutLabel,i=e.convert(n.radius),o=Math.max(0,i),!(!r||0===o);var n,r,i,o}));if(s.forEach((function(t){var e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),!(s.length<=1)){var u=s.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),c=s.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),h=s.filter((function(t){var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort((function(t,e){return t.midCos-e.midCos})),d=s.filter((function(t){var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort((function(t,e){return t.midCos-e.midCos})),p=new Dt,f=function(n){var o,a=n.calloutLabel;if(null==a)return new O(0,0,0,0);var l=e.convert(n.radius),s=Math.max(0,l)+r.length+i,u=n.midCos*s,c=n.midSin*s+a.collisionOffsetY;return p.text=a.text,p.x=u,p.y=c,p.setFont(t.calloutLabel),p.setAlign({textAlign:null!==(o=a.collisionTextAlign)&&void 0!==o?o:a.textAlign,textBaseline:a.textBaseline}),p.computeBBox()},y=function(t,e,n){var r=f(t).grow(o/2),i=f(e).grow(o/2);if(r.x<i.x+i.width&&r.x+r.width>i.x&&("to-top"===n?r.y<i.y+i.height:r.y+r.height>i.y)){var a="to-top"===n?r.y-i.y-i.height:r.y+r.height-i.y;e.calloutLabel.collisionOffsetY=a}},v=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],n=t.indexOf(e),r=n-1;r>=0;r--){var i=t[r+1],o=t[r];y(i,o,"to-top")}for(r=n+1;r<t.length;r++){i=t[r-1],o=t[r];y(i,o,"to-bottom")}},g=function(t){for(var n=s.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),r=t.map((function(t){return f(t)})),i=r.map((function(t){return t.clone().grow(o/2)})),u=!1,c=0;c<i.length&&!u;c++)for(var h=i[c],d=c+1;d<t.length;d++){var p=i[d];if(h.collidesBBox(p)){u=!0;break}}var y=l.map((function(t){var n=t.startAngle,r=t.endAngle,i=e.convert(t.radius),o=Math.max(0,i);return{startAngle:n,endAngle:r,innerRadius:a,outerRadius:o}})),v=r.some((function(t){return y.some((function(e){return function(t,e){var n={x:t.x,y:t.y},r={x:t.x+t.width,y:t.y},i={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return Il({start:n,end:r},e)||Il({start:i,end:o},e)}(t,e)}))}));(u||n||v)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){var e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};v(u),v(c),g(h),g(d)}},e.prototype.updateCalloutLabelNodes=function(t){var e=this,n=this.radiusScale,r=this.calloutLabel,i=this.calloutLine.length,o=r.offset,a=r.color,l=new Dt;this.calloutLabelSelection.selectByTag(Al.Label).forEach((function(s){var u,c=s.datum,h=c.calloutLabel,d=n.convert(c.radius),p=Math.max(0,d);if((null==h?void 0:h.text)&&0!==p&&!h.hidden){var f=p+i+o,y=c.midCos*f,v=c.midSin*f+h.collisionOffsetY,g={textAlign:null!==(u=h.collisionTextAlign)&&void 0!==u?u:h.textAlign,textBaseline:h.textBaseline};l.text=h.text,l.x=y,l.y=v,l.setFont(e.calloutLabel),l.setAlign(g);var m=l.computeBBox(),b=h.text,x=!0;if(r.avoidCollisions){var w=e.getLabelOverflow(h.text,m,t),S=w.textLength,k=w.hasVerticalOverflow;b=h.text.length===S?h.text:h.text.substring(0,S)+"\u2026",x=!k}s.text=b,s.x=y,s.y=v,s.setFont(e.calloutLabel),s.setAlign(g),s.fill=a,s.visible=x}else s.visible=!1}))},e.prototype.computeLabelsBBox=function(t,e){var n,r=this,i=this.radiusScale,o=this.calloutLabel,a=this.calloutLine.length,l=o.offset,s=o.maxCollisionOffset,u=o.minSpacing;if(!o.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var c,h=[],d=new Dt;if((null===(n=this.title)||void 0===n?void 0:n.text)&&this.title.enabled){var p=this.getTitleTranslationY();isFinite(p)&&(d.text=this.title.text,d.x=0,d.y=p,d.setFont(this.title),d.setAlign({textBaseline:"bottom",textAlign:"center"}),c=d.computeBBox(),h.push(c))}return this.nodeData.forEach((function(n){var o,p=n.calloutLabel,f=i.convert(n.radius),y=Math.max(0,f);if(!p||0===y)return null;var v=y+a+l,g=n.midCos*v,m=n.midSin*v+p.collisionOffsetY;d.text=p.text,d.x=g,d.y=m,d.setFont(r.calloutLabel),d.setAlign({textAlign:null!==(o=p.collisionTextAlign)&&void 0!==o?o:p.textAlign,textBaseline:p.textBaseline});var b=d.computeBBox();if(p.box=b,Math.abs(p.collisionOffsetY)>s)p.hidden=!0;else{if(c){var x=e.y-r.centerY,w=new O(c.x-u,x,c.width+2*u,c.y+c.height+u-x);if(b.collidesBBox(w))return void(p.hidden=!0)}if(t.hideWhenNecessary){var S=r.getLabelOverflow(p.text,b,e),k=S.textLength,D=S.hasVerticalOverflow,_=S.hasSurroundingSeriesOverflow,C=p.text.length>2&&k<2;if(D||C||_)return void(p.hidden=!0)}p.hidden=!1,h.push(b)}})),0===h.length?null:O.merge(h)},e.prototype.updateSectorLabelNodes=function(){var t=this.radiusScale,e=t.convert(0),n=this.sectorLabel,r=n.fontSize,i=n.fontStyle,o=n.fontWeight,a=n.fontFamily,l=n.positionOffset,s=n.positionRatio,u=n.color,c=e>0,h=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(n,d){var p=d.sectorLabel,f=t.convert(d.radius),y=Math.max(0,f),v=!1;if(p&&0!==y){var g=e*(1-s)+f*s+l;n.fill=u,n.fontStyle=i,n.fontWeight=o,n.fontSize=r,n.fontFamily=a,n.text=p.text,!c&&h?(n.x=0,n.y=0):(n.x=d.midCos*g,n.y=d.midSin*g),n.textAlign="center",n.textBaseline="middle";var m=n.computeBBox(),b=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],x={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:e,outerRadius:y};b.every((function(t){var e=Hl(t,2);return Tl(e[0],e[1],x)}))&&(v=!0)}n.visible=v}))},e.prototype.updateInnerCircle=function(){var t=this.innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(n,r){var i=r.fontStyle,o=r.fontWeight,a=r.fontSize,l=r.fontFamily,s=r.color;n.fontStyle=i,n.fontWeight=o,n.fontSize=a,n.fontFamily=l,n.text=r.text,n.x=0,n.y=0,n.fill=s,n.textAlign="center",n.textBaseline="alphabetic",t.push(n.computeBBox()),e.push(r.margin)}));for(var n=function(t){return 0===t?0:e[t]},r=function(t){return t===e.length-1?0:e[t]},i=t.reduce((function(t,e,i){return t+e.height+n(i)+r(i)}),0),o=Math.max.apply(Math,Ul([],Hl(t.map((function(t){return t.width}))))),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),s=[],u=0,c=-i/2;u<t.length;u++){var h=t[u].height+c+n(u);s.push(h),c=h+r(u)}this.innerLabelsSelection.each((function(t,e,n){t.y=s[n],t.visible=l}))},e.prototype.getNodeClickEvent=function(t,e){return new ql(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Jl(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n=this.angleKey;if(!n)return"";var r=this,i=r.tooltip,o=r.angleName,a=r.radiusKey,l=r.radiusName,s=r.calloutLabelKey,u=r.sectorLabelKey,c=r.calloutLabelName,h=r.sectorLabelName,d=r.id,p=i.renderer,f=t.datum,y=t.angleValue,v=t.radiusValue,g=t.sectorFormat.fill,m=t.calloutLabel,b=(void 0===m?{}:m).text,x=void 0===b?"":b,w="number"==typeof y?Rl(y):String(y),S=null===(e=this.title)||void 0===e?void 0:e.text,k={title:S,backgroundColor:g,content:(x?x+": ":"")+w};return p?en(p({datum:f,angleKey:n,angleValue:y,angleName:o,radiusKey:a,radiusValue:v,radiusName:l,calloutLabelKey:s,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:h,title:S,color:g,seriesId:d}),k):en(k)},e.prototype.getLegendData=function(){var t,e,n,r=this,i=r.processedData,o=r.calloutLabelKey,a=r.legendItemKey,l=r.id,s=r.dataModel;if(!s||!i||0===i.data.length)return[];if(!a&&!o)return[];for(var u=this.getProcessedDataIndexes(s),c=u.angleIdx,h=u.radiusIdx,d=u.calloutLabelIdx,p=u.sectorLabelIdx,f=u.legendItemIdx,y=(null===(t=this.title)||void 0===t?void 0:t.showInLegend)&&this.title.text,v=[],g=0;g<i.data.length;g++){var m=i.data[g],b=m.datum,x=m.values,w=[];y&&w.push(y);var S=this.getLabels(b,2*Math.PI,2*Math.PI,!1,x[c],x[h],x[d],x[p],x[f]);if(a&&void 0!==S.legendItem?w.push(S.legendItem.text):o&&void 0!==(null===(e=S.calloutLabel)||void 0===e?void 0:e.text)&&w.push(null===(n=S.calloutLabel)||void 0===n?void 0:n.text),0!==w.length){var k=this.getSectorFormat(b,g,g,!1);v.push({legendType:"category",id:l,itemId:g,seriesId:l,enabled:this.seriesItemEnabled[g],label:{text:w.join(" - ")},marker:{fill:k.fill,stroke:k.stroke,fillOpacity:this.fillOpacity,strokeOpacity:this.strokeOpacity}})}}return v},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId,r=t.series;r.id===this.id?this.toggleSeriesItem(n,e):"pie"===r.type&&this.toggleOtherSeriesItems(r,n,e)},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n){var r,i,o=this,a=this.legendItemKey,l=this.dataModel;if(a&&l){var s=t.legendItemKey&&(null===(r=t.data)||void 0===r?void 0:r.find((function(t,n){return n===e}))[t.legendItemKey]);if(s){var u=l.resolveProcessedDataIndexById(this,"legendItemValue").index;null===(i=this.processedData)||void 0===i||i.data.forEach((function(t,e){t.values[u]===s&&o.toggleSeriesItem(e,n)}))}}},e.prototype.animateEmptyUpdateReady=function(){var t,e,n=this,r=null!==(e=null===(t=this.ctx.animationManager)||void 0===t?void 0:t.defaultOptions.duration)&&void 0!==e?e:1e3,i=Math.PI/-2+ft(this.rotation);this.groupSelection.selectByTag(Al.Sector).forEach((function(t){var e,o=t.datum;null===(e=n.ctx.animationManager)||void 0===e||e.animateMany(n.id+"_empty-update-ready_"+t.id,[{from:i,to:o.startAngle},{from:i,to:o.endAngle}],{duration:r,ease:Lr,onUpdate:function(e){var n=Hl(e,2),r=n[0],i=n[1];t.startAngle=r,t.endAngle=i}})}));var o={from:0,to:1,delay:r,duration:200};this.calloutLabelSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,Xl(Xl({},o),{onUpdate:function(e){t.opacity=e}}))})),this.sectorLabelSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,Xl(Xl({},o),{onUpdate:function(e){t.opacity=e}}))})),this.innerLabelsSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,Xl(Xl({},o),{onUpdate:function(e){t.opacity=e}}))}))},e.prototype.animateReadyUpdateReady=function(){this.groupSelection.selectByTag(Al.Sector).forEach((function(t){var e=t.datum;t.startAngle=e.startAngle,t.endAngle=e.endAngle}))},e.className="PieSeries",e.type="pie",Kl([Kt(re)],e.prototype,"angleKey",void 0),Kl([Kt(re)],e.prototype,"angleName",void 0),Kl([Kt(ie)],e.prototype,"radiusKey",void 0),Kl([Kt(ie)],e.prototype,"radiusName",void 0),Kl([Kt(ye(0))],e.prototype,"radiusMin",void 0),Kl([Kt(ye(0))],e.prototype,"radiusMax",void 0),Kl([Kt(ie)],e.prototype,"calloutLabelKey",void 0),Kl([Kt(ie)],e.prototype,"calloutLabelName",void 0),Kl([Kt(ie)],e.prototype,"sectorLabelKey",void 0),Kl([Kt(ie)],e.prototype,"sectorLabelName",void 0),Kl([Kt(ie)],e.prototype,"legendItemKey",void 0),Kl([Kt(de)],e.prototype,"fills",void 0),Kl([Kt(de)],e.prototype,"strokes",void 0),Kl([Kt(fe(0,1))],e.prototype,"fillOpacity",void 0),Kl([Kt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Kl([Kt(Me)],e.prototype,"lineDash",void 0),Kl([Kt(fe(0))],e.prototype,"lineDashOffset",void 0),Kl([Kt(te)],e.prototype,"formatter",void 0),Kl([Kt(fe(-360,360))],e.prototype,"rotation",void 0),Kl([Kt(fe())],e.prototype,"outerRadiusOffset",void 0),Kl([Kt(fe(0))],e.prototype,"outerRadiusRatio",void 0),Kl([Kt(fe())],e.prototype,"innerRadiusOffset",void 0),Kl([Kt(fe(0))],e.prototype,"innerRadiusRatio",void 0),Kl([Kt(fe(0))],e.prototype,"strokeWidth",void 0),e}(Wl),is={constructors:{},constructedArrays:new WeakMap};var os={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},as={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};var ls=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n/2,y:r}:{x:n,y:isNaN(i)?r:(r+i)/2}},ss=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:n,y:isNaN(o)?i:(i+o)/2}:{x:r/2,y:i}},us=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n,y:isNaN(i)?r:(r+i)/2}:{x:n/2,y:isNaN(i)?r:i}},cs=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:r/2,y:isNaN(o)?i:o}:{x:n,y:isNaN(o)?i:(i+o)/2}},hs=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart;return e?{x:n/2,y:i}:{x:r,y:i}},ds=function(t){var e=t.yDirection,n=t.xStart,r=t.yStart,i=t.yEnd;return e?{x:n,y:isNaN(i)?r:i}:{x:n,y:r}},ps=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n,y:r}:{x:n,y:isNaN(i)?r:i}},fs=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:r,y:isNaN(o)?i:o}:{x:n,y:isNaN(o)?i:o}},ys={top:{c:ls},bottom:{c:cs},left:{c:ss},right:{c:us},topLeft:{c:hs},topRight:{c:ps},bottomLeft:{c:ds},bottomRight:{c:fs},inside:{c:function(t){var e=t.xEnd,n=t.yStart,r=t.yEnd;return{x:e/2,y:isNaN(r)?n:(n+r)/2}}},insideLeft:{c:ss},insideRight:{c:us},insideTop:{c:ls},insideBottom:{c:cs},insideTopLeft:{c:hs},insideBottomLeft:{c:ds},insideTopRight:{c:ps},insideBottomRight:{c:fs}},vs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gs=function(){return(gs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ms=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bs=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return vs(e,t),e.prototype.computeBBox=function(){return new O(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,r=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==x.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;a=this.align(a),l=this.align(l),s=this.align(s),u=this.align(u);var c=this.fill,h=this.opacity;if(!(!this.isRange||!c)){var d=this.fillOpacity;r.fillStyle=c,r.globalAlpha=h*d,r.beginPath(),r.moveTo(a,l),r.lineTo(s,l),r.lineTo(s,u),r.lineTo(a,u),r.closePath(),r.fill()}var p=this.stroke,f=this.strokeWidth,y=this.startLine,v=this.endLine;if(!(!y&&!v||!p||!f)){var g=this,m=g.strokeOpacity,b=g.lineDash,w=g.lineDashOffset,S=g.lineCap,k=g.lineJoin;r.strokeStyle=p,r.globalAlpha=h*m,r.lineWidth=f,b&&r.setLineDash(b),w&&(r.lineDashOffset=w),S&&(r.lineCap=S),k&&(r.lineJoin=k),r.beginPath(),y&&(r.moveTo(a,l),r.lineTo(s,l)),v&&(r.moveTo(s,u),r.lineTo(a,u)),r.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=gs(gs({},xt.defaultStyles),{strokeWidth:1}),ms([N({redraw:x.MINOR})],e.prototype,"x1",void 0),ms([N({redraw:x.MINOR})],e.prototype,"y1",void 0),ms([N({redraw:x.MINOR})],e.prototype,"x2",void 0),ms([N({redraw:x.MINOR})],e.prototype,"y2",void 0),ms([N({redraw:x.MINOR})],e.prototype,"startLine",void 0),ms([N({redraw:x.MINOR})],e.prototype,"endLine",void 0),ms([N({redraw:x.MINOR})],e.prototype,"isRange",void 0),e}(xt),xs=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ws=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ss=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ks=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],Os=Vt((function(t,e){return Yt(t,e,(function(t){return ks.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),Ds=Vt((function(t,e){return Yt(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),_s=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return xs([Kt(ne)],t.prototype,"enabled",void 0),xs([Kt(ie)],t.prototype,"text",void 0),xs([Kt(Oe)],t.prototype,"fontStyle",void 0),xs([Kt(_e)],t.prototype,"fontWeight",void 0),xs([Kt(fe(0))],t.prototype,"fontSize",void 0),xs([Kt(re)],t.prototype,"fontFamily",void 0),xs([Kt(fe(0))],t.prototype,"padding",void 0),xs([Kt(he)],t.prototype,"color",void 0),xs([Kt(Os)],t.prototype,"position",void 0),xs([Kt(ye(-360,360))],t.prototype,"rotation",void 0),xs([Kt(ne)],t.prototype,"parallel",void 0),t}(),Cs=function(){function t(){this.id=E(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new _s,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=Te.X,this.group=new et({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new bs,this.crossLineLabel=new Dt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this.group,n=this.crossLineRange,r=this.crossLineLabel;e.append([n,r]),n.pointerEvents=L.None}return t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,n,r,i,o=this,a=o.scale,l=o.gridLength,s=o.sideFlag,u=o.direction,c=o.label.position,h=void 0===c?"top":c,d=o.clippedRange,p=o.strokeWidth,f=void 0===p?0:p;if(!a)return!1;var y=null!==(r=a.bandwidth)&&void 0!==r?r:0,v=function(t){return Math.max(Math.min.apply(Math,Ss([],ws(d))),Math.min(Math.max.apply(Math,Ss([],ws(d))),t))},g=ws([0,s*l],2),m=g[0],b=g[1],x=ws(this.getRange(),2),w=x[0],S=x[1],k=ws([Number(a.convert(w,{strict:!1})),a.convert(S,{strict:!1})+y],2),O=k[0],D=k[1];O=v(O),D=v(D),w=(t=ws([Number(a.convert(w)),a.convert(S)+y],2))[0],S=t[1];var _=!isNaN(O)&&!isNaN(D)&&(w===O||S===D||O!==D)&&Math.abs(D-O)>0;_&&(O!==Math.min(O,D)&&(O=(e=ws([Math.min(O,D),Math.max(O,D)],2))[0],D=e[1],w=(n=ws([S,w],2))[0],S=n[1]));if(this.isRange=_,this.startLine=!isNaN(w)&&f>0&&w===O,this.endLine=!isNaN(S)&&f>0&&S===D,!_&&!this.startLine&&!this.endLine)return!1;if(this.data=[O,D],this.label.enabled){var C=u===Te.Y,M=(null!==(i=ys[h])&&void 0!==i?i:{}).c,E=(void 0===M?ls:M)({yDirection:C,xStart:m,xEnd:b,yStart:O,yEnd:D}),P=E.x,N=E.y;this.labelPoint={x:P,y:N}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,r=e.sideFlag,i=e.gridLength,o=e.data,a=e.startLine,l=e.endLine,s=e.isRange,u=e.fill,c=e.fillOpacity,h=e.stroke,d=e.strokeWidth,p=e.lineDash;n.x1=0,n.x2=r*i,n.y1=o[0],n.y2=o[1],n.startLine=a,n.endLine=l,n.isRange=s,n.fill=u,n.fillOpacity=null!=c?c:1,n.stroke=h,n.strokeWidth=null!=d?d:1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=p},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,r=void 0===n?{}:n,i=r.x,o=void 0===i?void 0:i,a=r.y,l=void 0===a?void 0:a,s=t.label,u=s.parallel,c=s.rotation,h=s.position,d=void 0===h?"top":h,p=s.padding,f=void 0===p?0:p,y=t.direction,v=t.parallelFlipRotation,g=t.regularFlipRotation;if(void 0!==o&&void 0!==l){var m=$a({rotation:c,parallel:u,regularFlipRotation:g,parallelFlipRotation:v}),b=m.defaultRotation,x=m.configuredRotation;e.rotation=b+x,e.textBaseline="middle",e.textAlign="center";var w=this.computeLabelBBox();if(w){var S=function(t){var e=t.yDirection,n=t.padding,r=void 0===n?0:n,i=t.position,o=void 0===i?"top":i,a=t.bbox,l=(e?os:as)[o],s=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:s*(r+(e?a.width:a.height)/2),yTranslation:u*(r+(e?a.height:a.width)/2)}}({yDirection:y===Te.Y,padding:f,position:d,bbox:w}),k=S.xTranslation,O=S.yTranslation;e.translationX=o+k,e.translationY=l+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t=this.value,e=this.range,n=this.scale instanceof ra,r=ws(null!=e?e:[t,void 0],2),i=r[0],o=r[1];return n||void 0!==o||(o=i),i=null!=jt(i,n)?i:void 0,o=null!=jt(o,n)?o:void 0,n&&i===o&&(o=void 0),void 0===i&&void 0!==o&&(i=o,o=void 0),[i,o]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t){var e,n,r,i,o,a,l,s,u=this,c=u.isRange,h=u.startLine,d=u.endLine,p=u.direction,f=u.label,y=f.padding,v=void 0===y?0:y,g=f.position,m=void 0===g?"top":g;if(c||h||d){var b=this.computeLabelBBox(),x=null==b?void 0:b.x,w=null==b?void 0:b.y;if(b&&null!=x&&null!=w){var S=function(t){var e=t.yDirection,n=t.bbox,r=t.padding,i=void 0===r?0:r,o=t.position,a=void 0===o?"top":o,l={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?l.left=i+n.width:"right"===a&&e&&(l.right=i+n.width):l.bottom=i+n.height:l.top=i+n.height),l}({yDirection:p===Te.Y,padding:v,position:m,bbox:b});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(n=S.left)&&void 0!==n?n:0),t.right=Math.max(null!==(r=t.right)&&void 0!==r?r:0,null!==(i=S.right)&&void 0!==i?i:0),t.top=Math.max(null!==(o=t.top)&&void 0!==o?o:0,null!==(a=S.top)&&void 0!==a?a:0),t.bottom=Math.max(null!==(l=t.bottom)&&void 0!==l?l:0,null!==(s=S.bottom)&&void 0!==s?s:0)}}},t.LINE_LAYER_ZINDEX=Re.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=Re.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",xs([Kt(ne)],t.prototype,"enabled",void 0),xs([Kt(Ds)],t.prototype,"type",void 0),xs([Kt(Ut(2))],t.prototype,"range",void 0),xs([Kt(he)],t.prototype,"fill",void 0),xs([Kt(ye(0,1))],t.prototype,"fillOpacity",void 0),xs([Kt(he)],t.prototype,"stroke",void 0),xs([Kt(ye())],t.prototype,"strokeWidth",void 0),xs([Kt(ye(0,1))],t.prototype,"strokeOpacity",void 0),xs([Kt(Me)],t.prototype,"lineDash",void 0),t}(),Ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es=function(){return(Es=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ps=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ns=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thickness=0,e.position="left",e}return Ms(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return["top","bottom"].includes(this.position)?Te.X:Te.Y},enumerable:!1,configurable:!0}),e.prototype.updateDirection=function(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)},e.prototype.update=function(e){return this.updateDirection(),t.prototype.update.call(this,e)},e.prototype.createAxisContext=function(){return Es(Es({},t.prototype.createAxisContext.call(this)),{position:this.position})},e.prototype.assignCrossLineArrayConstructor=function(t){!function(t,e){var n;null===(n=is.constructedArrays)||void 0===n||n.set(t,e)}(t,Cs)},Ps([Kt(fe(0))],e.prototype,"thickness",void 0),Ps([Kt(Ae)],e.prototype,"position",void 0),e}(Ol),Ls=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rs=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ts=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Is=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},As=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},js=function(t){function e(e){var n=t.call(this,e,new Zo)||this;return n._paddingOverrideEnabled=!1,n.groupPaddingInner=.1,n.includeInvisibleDomains=!0,n}return Ls(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e,n,r,i,o={};try{for(var a=Ts(t),l=a.next();!l.done;l=a.next()){var s=l.value;null!==(r=o[i=String(s)])&&void 0!==r||(o[i]=s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return Object.values(o)},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,As([],Is(e.map((function(t){return t.inner}))))),this.scale.paddingOuter=Math.max.apply(Math,As([],Is(e.map((function(t){return t.outer}))))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",Rs([Kt(fe(0,1))],e.prototype,"groupPaddingInner",void 0),e}(Ns),Fs=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function Bs(t,e){void 0===e&&(e=!0);var n=new Fs,r=0;return e&&t.forEach((function(t){return r=Math.max(r,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<r;)t.labels.unshift("");!function(t,e){var n=e.labels.slice().reverse(),r=n.length-1;n.forEach((function(e,n){var i=t.children,o=i.find((function(t){return t.label===e})),a=n!==r;if(o&&a)t=o;else{var l=new Fs(e,t);l.number=i.length,i.push(l),a&&(t=l)}}))}(n,t)})),n}function zs(t,e,n){var r=n/(e.number-t.number);e.change-=r,e.shift+=n,t.change+=r,e.prelim+=n,e.mod+=n}function Ws(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function Gs(t,e){var n=t.children;if(n.length){var r=n[0];n.forEach((function(t){Gs(t,e),r=function(t,e,n){var r=t.getLeftSibling();if(r){for(var i=t,o=t,a=r,l=o.getLeftmostSibling(),s=o.mod,u=i.mod,c=a.mod,h=l.mod;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),l=l.nextLeft(),(i=i.nextRight()).ancestor=t;var d=a.prelim+c-(o.prelim+s)+n;d>0&&(zs(Ws(a,t,e),t,d),s+=d,u+=d),c+=a.mod,s+=o.mod,h+=l.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!l.nextLeft()&&(l.thread=o.nextLeft(),l.mod+=s-h),e=t)}return e}(t,r,e)})),function(t){var e=t.children;if(e)for(var n=0,r=0,i=e.length-1;i>=0;i--){var o=e[i];o.prelim+=n,o.mod+=n,r+=o.change,n+=o.shift+r}}(t);var i=(n[0].prelim+n[n.length-1].prelim)/2;(o=t.getLeftSibling())?(t.prelim=o.prelim+e,t.mod=t.prelim-i):t.prelim=i}else{var o=t.getLeftSibling();t.prelim=o?o.prelim+e:0}}var Xs=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),r=n.x,i=n.y;r>this.right&&(this.right=r),r<this.left&&(this.left=r),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)},t}();function Ks(t){var e=new Vs;return Gs(t,1),function t(e,n,r){e.x=e.prelim+n,e.y=e.depth,r.update(e),e.children.forEach((function(i){return t(i,n+e.mod,r)}))}(t,-t.prelim,e),function t(e){var n=e.children,r=0;n.forEach((function(e){t(e),e.children.length?r+=e.leafCount:r++})),e.leafCount=r,n.length?(e.subtreeLeft=n[0].subtreeLeft,e.subtreeRight=n[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}(t),e}var Vs=function(){function t(){this.dimensions=new Xs,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1);var o=this.leafCount-1,a=this.depth,l=this.dimensions,s=1,u=1;if(t>0&&o){var c=(l.right-l.left)/o;s=t/o/c,i&&(s=-s)}if(e>0&&a){var h=(l.bottom-l.top)/a;u=e/a/h}var d=new Xs;this.nodes.forEach((function(t){t.screenX=t.x*s,t.screenY=t.y*u,d.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var p=-d.left,f=-d.top;this.nodes.forEach((function(t){t.screenX+=p+n,t.screenY+=f+r}))},t}(),Ys=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hs=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Us=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Zs=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},qs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return Ys(e,t),Hs([Kt(ee)],e.prototype,"grid",void 0),e}(ol),Js=function(t){function e(e){var n=t.call(this,e,new Zo)||this;n.tickScale=new Zo,n.translation={x:0,y:0},n.line=new ll,n.label=new qs,n.labelColor="rgba(87, 87, 87, 1)",n.includeInvisibleDomains=!0;var r=n,i=r.tickLineGroup,o=r.tickLabelGroup,a=r.gridLineGroup,l=r.tickScale,s=r.scale;return s.paddingOuter=.1,s.paddingInner=2*s.paddingOuter,n.range=s.range.slice(),n.refreshScale(),l.paddingInner=1,l.paddingOuter=0,n.gridLineSelection=xi.select(a,$o),n.axisLineSelection=xi.select(i,$o),n.separatorSelection=xi.select(i,$o),n.labelSelection=xi.select(o,Dt),n}return Ys(e,t),e.prototype.updateRange=function(){var t=this.range,e=this.visibleRange,n=this.scale,r=(t[1]-t[0])/(e[1]-e[0]),i=r*e[0],o=t[0]-i;this.tickScale.range=n.range=[o,o+r],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t,e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,r=this.tickTreeLayout,i=this.lineHeight;r&&r.resize(Math.abs(n[1]-n[0]),r.depth*i,(Math.min(n[0],n[1])||0)+(null!==(t=e.bandwidth)&&void 0!==t?t:0)/2,-r.depth*i,n[1]-n[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e,n=this.direction,r=this.boundSeries,i=[],o=void 0;r.filter((function(t){return t.visible})).forEach((function(t){if(n===Te.X)if(void 0===o){var e=t.getDomain(n);i.push(e),o="number"==typeof e[0]}else o&&i.push(t.getDomain(n));else i.push(t.getDomain(n))}));var a=(t=new Array).concat.apply(t,Zs([],Us(i))),l=null!==(e=Za(a))&&void 0!==e?e:a;this.dataDomain=this.normaliseDataDomain(l),this.scale.domain=this.dataDomain},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,n){return n.indexOf(t)===e})),n=Bs(e);this.tickTreeLayout=Ks(n);var r=e.slice();return r.push(""),this.tickScale.domain=r,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.updateDirection(),this.calculateDomain(),this.updateRange();var n=this,r=n.scale,i=n.label,o=n.label.parallel,a=n.moduleCtx.callbackCache,l=n.tickScale,s=n.range,u=n.title,c=n.title,h=(void 0===c?{}:c).formatter,d=void 0===h?function(t){return t.defaultValue}:h,p=n._titleCaption,f=r.range[0],y=r.range[1],v=Math.abs(y-f)/r.domain.length||0,g=ft(this.rotation),m=Math.abs(Math.cos(g))<1e-8,b=i.getSideFlag();this.updatePosition({rotation:g,sideFlag:b}),p.node.visible=!1;var x=this.lineHeight,w=this.tickTreeLayout,S=r.ticks(),k=w?w.nodes:[],O=!!w&&w.depth>1,D=l.ticks(),_=$a({rotation:i.rotation,parallel:o,regularFlipRotation:pt(g-Math.PI/2),parallelFlipRotation:pt(g)}),C=_.defaultRotation,M=_.configuredRotation,E=_.parallelFlipFlag,P=this.gridLineSelection.update(this.gridLength?D:[]),N=this.labelSelection.update(k),L=i.formatter,R=new Map,T=0;N.each((function(t,n,r){var o;t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=-1===E?"bottom":"hanging",t.textAlign="center",t.translationX=n.screenY-.25*i.fontSize,t.translationY=n.screenX,0===r?(null==u?void 0:u.enabled)&&S.length>0?(t.visible=!0,t.text=a.call(d,e.getTitleFormatterParams()),t.fontSize=u.fontSize,t.fontStyle=u.fontStyle,t.fontWeight=u.fontWeight,t.fontFamily=u.fontFamily,t.textBaseline="hanging"):t.visible=!1:L?(t.text=null!==(o=a.call(L,{value:String(n.label),index:r}))&&void 0!==o?o:String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]):(t.text=String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]);var l=t.computeBBox();R.set(t.id,l),l.width>T&&(T=l.width)}));var I=b*i.padding,A=this.label.grid,j=[];N.each((function(t,n,r){if(t.x=I,t.rotationCenterX=I,n.children.length){t.translationX-=T-x+e.label.padding;var i=n.leafCount*v;(o=R.get(t.id))&&o.width>i?t.visible=!1:t.rotation=m?C:-Math.PI/2}else{var o;t.rotation=M,t.textAlign="end",t.textBaseline="middle",(o=R.get(t.id))&&o.height>v&&(t.visible=!1)}if(n.parent&&O){var a=n.children.length?n.screenX-n.leafCount*v/2:n.screenX-v/2;if(n.children.length){var l=-T-2*e.label.padding+n.screenY;j.push({y:a,x1:l+x,x2:l,toString:function(){return String(r)}})}else(n.number!==n.children.length-1||A)&&j.push({y:a,x1:0,x2:-T-2*e.label.padding,toString:function(){return String(r)}})}}));var F=0;j.forEach((function(t){return F=Math.min(F,t.x2)})),j.push({y:Math.max(f,y),x1:0,x2:F,toString:function(){return String(j.length)}});var B=this.separatorSelection.update(j);B.each((function(t,n){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=s[0]-1e-7&&n.y<=s[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=P,this.labelSelection=N;for(var z=w?w.depth+1:1,W=[],G=0;G<z;G++)W.push(G);if(this.axisLineSelection.update(W).each((function(t,n,r){var i=r>0?-T-2*e.label.padding-(r-1)*x:0;t.x1=i,t.x2=i,t.y1=s[0],t.y2=s[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=S.length>0&&(0===r||A&&O)})),this.gridLength){var X=this.gridStyle,K=X.length;P.each((function(t,n,r){var i=Math.round(l.convert(n));t.x1=0,t.x2=-b*e.gridLength,t.y1=i,t.y2=i,t.visible=i>=s[0]&&i<=s[1];var o=X[r%K];t.stroke=o.stroke,t.strokeWidth=e.tick.width,t.lineDash=o.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",Hs([Kt(he)],e.prototype,"labelColor",void 0),e}(Ns),$s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qs=function(){return(Qs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},tu=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},eu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},nu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ru=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},iu=["top","right","bottom","left"];!function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i.paired=!0,i._lastAxisWidths={top:0,bottom:0,left:0,right:0},i._lastVisibility={crossLines:!0,series:!0},i}$s(e,t),e.prototype.performLayout=function(){return tu(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c;return eu(this,(function(h){switch(h.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=h.sent(),n=this.updateAxes(e),r=n.seriesRect,i=n.visibility,o=n.clipSeries,this.seriesRoot.visible=i.series,this.seriesRect=r,this.seriesRoot.translationX=Math.floor(r.x),this.seriesRoot.translationY=Math.floor(r.y),l=(a=this).seriesRoot,s=a.seriesAreaPadding,u=r.clone().grow({top:s.top,right:s.right,bottom:s.bottom,left:s.left}),20,c=u.clone().grow(20),this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:r,paddedRect:u,hoverRect:c,visible:i.series},axes:this.axes.map((function(t){return Qs({id:t.id},t.getLayoutState())}))}),o?l.setClipRectInGroupCoordinateSpace(r):l.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,n,r,i=Qs({},this._lastAxisWidths),o=Qs({},this._lastVisibility),a=new Set(this._axes.map((function(t){return t.position})));try{for(var l=nu(Object.keys(i)),s=l.next();!s.done;s=l.next()){var u=s.value;a.has(u)||delete i[u]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var c,h=function(t,e){return!Object.keys(t).some((function(t){return null==i[t]}))&&(o.crossLines===e.crossLines&&o.series===e.series&&Object.entries(i).every((function(e){var n=ru(e,2),r=n[0],i=n[1],o=t[r];return null==i&&null==o||i===o})))},d={},p={},f=!1,y=null===(r=this.seriesRect)||void 0===r?void 0:r.clone(),v=0;do{Object.assign(i,d),Object.assign(o,p);var g=this.updateAxesPass(i,t.clone(),y);if(c=g.axisWidths,d=Object.entries(c).reduce((function(t,e){var n=ru(e,2),r=n[0],i=n[1];return i&&Math.abs(i)===1/0&&(i=0),t[r]=null!=i?Math.ceil(i):i,t}),{}),p=g.visibility,f=g.clipSeries,y=g.seriesRect,v++>10){U.warn("unable to find stable axis layout.");break}}while(!h(d,p));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(o.crossLines),y)switch(e.clipGrid(y.x,y.y,y.width+5,y.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,y.y,t.width+5,y.height+5);break;case"top":case"bottom":e.clipTickLines(y.x,t.y,y.width+5,t.height+5)}})),this._lastAxisWidths=i,this._lastVisibility=o,{seriesRect:y,visibility:o,clipSeries:f}},e.prototype.updateAxesPass=function(t,e,n){var r=this,i=this.axes,o={},a={},l={series:!0,crossLines:!0},s=!1,u={},c=this.applySeriesPadding(e),h=n?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(c,t,h,l),p=this.buildSeriesRect(d,t);return i.forEach((function(e){var n,i,l=e.position,h=void 0===l?"left":l,f=r.calculateAxisDimensions({axis:e,seriesRect:p,paddedBounds:c,axisWidths:t,newAxisWidths:a,primaryTickCounts:u,clipSeries:s,addInterAxisPadding:(null!==(n=o[h])&&void 0!==n?n:0)>0}),y=f.clipSeries,v=f.axisThickness,g=f.axisOffset;o[h]=(null!==(i=o[h])&&void 0!==i?i:0)+1,s=s||y,r.positionAxis({axis:e,axisBound:d,axisOffset:g,axisThickness:v,axisWidths:t,primaryTickCounts:u,seriesRect:p})})),{clipSeries:s,seriesRect:p,axisWidths:a,visibility:l}},e.prototype.buildCrossLinePadding=function(t){var e,n,r,i={};this.axes.forEach((function(t){t.crossLines&&t.crossLines.forEach((function(t){t.calculatePadding(i)}))}));try{for(var o=nu(Object.entries(i)),a=o.next();!a.done;a=o.next()){var l=ru(a.value,2),s=l[0],u=l[1],c=void 0===u?0:u;i[s]=Math.max(c-(null!==(r=t[s])&&void 0!==r?r:0),0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},e.prototype.applySeriesPadding=function(t){var e=this,n=t.clone(),r=this.axes.slice().reverse();return iu.forEach((function(t){var i=e.seriesAreaPadding[t],o=r.find((function(e){return e.position===t}));o?o.seriesAreaPadding=i:n.shrink(i,t)})),n},e.prototype.buildAxisBound=function(t,e,n,r){var i,o,a,l,s=t.clone(),u=n.top,c=void 0===u?0:u,h=n.right,d=void 0===h?0:h,p=n.bottom,f=void 0===p?0:p,y=n.left,v=void 0===y?0:y,g=v+d,m=c+f,b=(null!==(i=e.left)&&void 0!==i?i:0)+(null!==(o=e.right)&&void 0!==o?o:0)+g,x=(null!==(a=e.top)&&void 0!==a?a:0)+(null!==(l=e.bottom)&&void 0!==l?l:0)+m;return s.width<=b||s.height<=x?(r.crossLines=!1,r.series=!1,s):(s.x+=v,s.y+=c,s.width-=g,s.height-=m,s)},e.prototype.buildSeriesRect=function(t,e){var n=t.clone(),r=e.top,i=e.bottom,o=e.left,a=e.right;return n.x+=null!=o?o:0,n.y+=null!=r?r:0,n.width-=(null!=o?o:0)+(null!=a?a:0),n.height-=(null!=r?r:0)+(null!=i?i:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n},e.prototype.clampToOutsideSeriesRect=function(t,e,n,r){var i=t.x,o=t.y,a=[i,o,i+t.width,o+t.height];return(1===r?Math.min:Math.max)(e,a[("x"===n?0:1)+(1===r?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,n,r,i,o,a=t.axis,l=t.seriesRect,s=t.paddedBounds,u=t.axisWidths,c=t.newAxisWidths,h=t.primaryTickCounts,d=t.addInterAxisPadding,p=t.clipSeries,f=a.position,y=void 0===f?"left":f,v=a.direction,g=null!==(e=c[y])&&void 0!==e?e:0;switch(y){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=function(t){return t instanceof js||t instanceof Js?[0,l.height]:[l.height,0]}(a),a.gridLength=l.width}var m=this.zoomManager.getAxisZoom(a.id),b=null!=m?m:{},x=b.min,w=void 0===x?0:x,S=b.max,k=void 0===S?1:S;a.visibleRange=[w,k],!p&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(p=!0);var O=a.nice?h[v]:void 0;null!=a.thickness&&a.thickness>0?a.maxThickness=a.thickness:v===Te.Y?a.maxThickness=.3*s.width:a.maxThickness=.3*s.height,O=a.update(O),h[v]=null!==(n=h[v])&&void 0!==n?n:O;var D=0;if(null!=a.thickness&&a.thickness>0)D=a.thickness;else{var _=a.computeBBox();D=v===Te.X?_.height:_.width}return d&&(D+=15),D=Math.ceil(D),c[y]=(null!==(r=c[y])&&void 0!==r?r:0)+D,a.gridPadding=(null!==(i=u[y])&&void 0!==i?i:0)-(null!==(o=c[y])&&void 0!==o?o:0),{clipSeries:p,axisThickness:D,axisOffset:g}},e.prototype.positionAxis=function(t){var e,n,r,i,o=t.axis,a=t.axisBound,l=t.axisWidths,s=t.seriesRect,u=t.axisOffset,c=t.axisThickness;switch(o.position){case"top":o.translation.x=a.x+(null!==(e=l.left)&&void 0!==e?e:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+1+u+c,"y",1);break;case"bottom":o.translation.x=a.x+(null!==(n=l.left)&&void 0!==n?n:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+a.height+1-c-u,"y",-1);break;case"left":o.translation.y=a.y+(null!==(r=l.top)&&void 0!==r?r:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+u+c,"x",1);break;case"right":o.translation.y=a.y+(null!==(i=l.top)&&void 0!==i?i:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+a.width-c-u,"x",-1)}o.updatePosition({rotation:ft(o.rotation),sideFlag:o.label.getSideFlag()})},e.className="CartesianChart",e.type="cartesian"}(Yo);var ou=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shape="polygon",e}return ou(e,t),e.prototype.computeLabelsBBox=function(t,e){return null},e}(Ol),lu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},uu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},cu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},hu=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},du=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i.padding=new Qn(40),i}lu(e,t),e.prototype.performLayout=function(){return su(this,void 0,void 0,(function(){var e,n,r;return uu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=i.sent(),n=e.clone(),this.computeSeriesRect(e),this.computeCircle(e),this.axes.forEach((function(t){return t.update()})),20,r=e.clone().grow(20),this.hoverRect=r,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:n,paddedRect:e,hoverRect:r,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.updateAxes=function(t,e,n){var r;this.axes.forEach((function(r){var i;if(r.direction===Te.X){var o=ft(null!==(i=r.rotation)&&void 0!==i?i:0);r.range=[-Math.PI/2+o,3*Math.PI/2+o],r.gridLength=n,r.translation.x=t,r.translation.y=e}else r.direction===Te.Y&&(r.range=[n,0],r.translation.x=t,r.translation.y=e-n);r.updateScale()}));var i=this.axes.find((function(t){return t.direction===Te.X})),o=null==i?void 0:i.scale,a=null===(r=null==o?void 0:o.ticks)||void 0===r?void 0:r.call(o).map((function(t){return o.convert(t)}));this.axes.filter((function(t){return t instanceof au})).forEach((function(t){return t.gridAngles=a}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(t){var e=this,n=this.series.filter((function(t){return t instanceof Wl})),r=this.axes.filter((function(t){return t instanceof au})),i=function(t,r,i){e.updateAxes(t,r,i),n.forEach((function(e){e.centerX=t,e.centerY=r,e.radius=i}));var o=n.filter((function(t){return t instanceof rs}));if(o.length>1){var a=o.map((function(t){var e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort((function(t,e){return t.innerRadius-e.innerRadius}));a[a.length-1].series.surroundingRadius=void 0;for(var l=0;l<a.length-1;l++)a[l].series.surroundingRadius=a[l+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,l=Math.max(0,Math.min(t.width,t.height)/2),s=l;i(o,a,s);var u=function(u){var c,h,d=(void 0===u?{}:u).hideWhenNecessary,p=void 0!==d&&d,f=[];try{for(var y=du(hu(hu([],cu(r)),cu(n))),v=y.next();!v.done;v=y.next()){var g=v.value.computeLabelsBBox({hideWhenNecessary:p},t);g&&f.push(g)}}catch(t){c={error:t}}finally{try{v&&!v.done&&(h=y.return)&&h.call(y)}finally{if(c)throw c.error}}if(0!==f.length){var m=O.merge(f),b=e.refineCircle(m,s,t);i(b.centerX,b.centerY,b.radius),b.radius!==s&&(s=b.radius)}else i(o,a,l)};return u(),u(),u(),u({hideWhenNecessary:!0}),u({hideWhenNecessary:!0}),{radius:s,centerX:o,centerY:a}},e.prototype.refineCircle=function(t,e,n){var r=-e,i=-e,o=e,a=e,l=Math.max(0,r-t.x),s=Math.max(0,i-t.y),u=Math.max(0,t.x+t.width-o),c=Math.max(0,t.y+t.height-a),h=n.width-l-u,d=n.height-s-c,p=Math.min(h,d)/2,f=.5*n.width/2,y=.5*n.height/2,v=Math.min(f,y);if(p<v){var g=l+u;if(2*(p=v)+(s+c)>n.height){var m=n.height-2*p;2*Math.min(s,c)>m?(s=m/2,c=m/2):s>c?s=m-c:c=m-s}if(2*p+g>n.width){var b=n.width-2*p;2*Math.min(l,u)>b?(l=b/2,u=b/2):l>u?l=b-u:u=b-l}}var x=l+2*p+u,w=s+2*p+c;return{centerX:n.x+(n.width-x)/2+l+p,centerY:n.y+(n.height-w)/2+s+p,radius:p}},e.className="PolarChart",e.type="polar"}(Yo);var pu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},yu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function vu(t,e){var n,r,i,o,a,l,s=Math.floor(t[0]),u=t[1];n=s,r=u,i=e,o=Math.abs(r-n)/(i-1),a=Math.floor(Math.log10(o)),l=Math.pow(10,a);var c=function(t,e,n){return function(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),r=t/n*10;if(r>0&&r<=1)return n/10;if(r>1&&r<=2)return 2*n/10;if(r>1&&r<=5)return 5*n/10;if(r>5&&r<=10)return 10*n/10;if(r>10&&r<=20)return 20*n/10;if(r>20&&r<=40)return 40*n/10;if(r>40&&r<=50)return 50*n/10;if(r>50&&r<=100)return 100*n/10;return r}((e-t)/(n-1))}(s=Math.floor(n/l)*l,u,e);return[[s,u=s+(e-1)*c],function(t,e,n){for(var r=Math.floor(Math.log10(e)),i=e>0&&e<1?Math.abs(r):0,o=Math.pow(10,i),a=new sa(i),l=0;l<n;l++){var s=t+e*l;a[l]=Math.round(s*o)/o}return a}(s,c,e)]}!function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i._data={},i}pu(e,t),e.prototype.performLayout=function(){return fu(this,void 0,void 0,(function(){var e,n,r,i,o=this;return yu(this,(function(a){switch(a.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=a.sent(),n=this.seriesAreaPadding,r=e.clone(),e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,20,i=e.clone().grow(20),this.hoverRect=i,this.seriesRoot.translationX=Math.floor(e.x),this.seriesRoot.translationY=Math.floor(e.y),[4,Promise.all(this.series.map((function(t){return fu(o,void 0,void 0,(function(){return yu(this,(function(n){switch(n.label){case 0:return[4,t.update({seriesRect:e})];case 1:return n.sent(),[2]}}))}))})))];case 2:return a.sent(),this.seriesRoot.setClipRectInGroupCoordinateSpace(new O(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:r,paddedRect:e,hoverRect:i,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy"}(Yo);var gu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return gu(e,t),mu([Kt(Zt(ve(1),$t("minSpacing"))),el(NaN)],e.prototype,"maxSpacing",void 0),e}(dl),wu=function(t){function e(e,n){void 0===n&&(n=new Nl);var r=t.call(this,e,n)||this;return r.min=NaN,r.max=NaN,n.strictClampByDefault=!0,r}return gu(e,t),e.prototype.normaliseDataDomain=function(t){return function(t,e,n){var r;return t.length>2&&(t=null!==(r=Za(t))&&void 0!==r?r:[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]),t[0]>t[1]&&(t=[]),t}(t,this.min,this.max)},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(U.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.createTick=function(){return new xu},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=bu(vu(this.dataDomain,null!=t?t:0),2),n=e[0],r=e[1];return this.scale.nice=!1,this.scale.domain=n,this.scale.update(),r},e.className="NumberAxis",e.type="number",mu([Kt(Zt(ve(),Jt("max"))),el(NaN)],e.prototype,"min",void 0),mu([Kt(Zt(ve(),$t("min"))),el(NaN)],e.prototype,"max",void 0),e}(Ns),Su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function Ou(){return Vt((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var Du,_u=function(t){function e(e){var n=t.call(this,e,new Ua)||this;return n.min=NaN,n.max=NaN,n.scale.strictClampByDefault=!0,n}return Su(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,r=this.max;t.length>2&&(t=null!==(e=Za(t))&&void 0!==e?e:[NaN,NaN]),isNaN(n)||(t=[n,t[1]]),isNaN(r)||(t=[t[0],r]);var i=t[0]>t[1],o=t[0]<0&&t[1]>0,a=0===t[0]&&0===t[1];return(i||o||a)&&(t=[],o?U.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&U.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",ku([Kt(Zt(ve(),Jt("max"),Ou())),el(NaN)],e.prototype,"min",void 0),ku([Kt(Zt(ve(),$t("min"),Ou())),el(NaN)],e.prototype,"max",void 0),e}(wu),Cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Eu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return Cu(e,t),Mu([Kt(Zt(ve(1),$t("minSpacing"))),el(NaN)],e.prototype,"maxSpacing",void 0),e}(dl),Pu=function(t){function e(e){var n=t.call(this,e,new _a)||this;n.datumFormat="%m/%d/%y, %H:%M:%S",n.min=void 0,n.max=void 0;var r=n.scale;return r.strictClampByDefault=!0,n.refreshScale(),n.datumFormatter=r.tickFormat({specifier:n.datumFormat}),n}return Cu(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,r=this.max;return"number"==typeof n&&(n=new Date(n)),"number"==typeof r&&(r=new Date(r)),t.length>2&&(t=(null!==(e=Za(t))&&void 0!==e?e:[0,1e3]).map((function(t){return new Date(t)}))),n instanceof Date&&(t=[n,t[1]]),r instanceof Date&&(t=[t[0],r]),t[0]>t[1]&&(t=[]),t},e.prototype.createTick=function(){return new Eu},e.prototype.onLabelFormatChange=function(e,n){n?t.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){var e;return null!==(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))&&void 0!==e?e:String(t)},e.prototype.calculatePadding=function(t,e){return[0,1]},e.className="TimeAxis",e.type="time",Mu([Kt(Zt(se,Jt("max")))],e.prototype,"min",void 0),Mu([Kt(Zt(se,$t("min")))],e.prototype,"max",void 0),e}(Ns),Nu=((Du={})[wu.type]=wu,Du[js.type]=js,Du[Pu.type]=Pu,Du[Js.type]=Js,Du[_u.type]=_u,Du),Lu={has:function(t){return Object.prototype.hasOwnProperty.call(Nu,t)},get axesTypes(){return Object.keys(Nu)}},Ru={};var Tu,Iu,Au=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Fu=["circle","cross","diamond","heart","plus","square","triangle"],Bu=Vt((function(t){return Fu.includes(t)||Object.getPrototypeOf(t)===ji}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Ki,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return Au(e,t),ju([Kt(ee),N({redraw:x.MAJOR})],e.prototype,"enabled",void 0),ju([Kt(Bu),N({redraw:x.MAJOR})],e.prototype,"shape",void 0),ju([Kt(fe(0)),N({redraw:x.MAJOR})],e.prototype,"size",void 0),ju([Kt(fe(0)),N({redraw:x.MAJOR})],e.prototype,"maxSize",void 0),ju([Kt(me),N({redraw:x.MAJOR})],e.prototype,"domain",void 0),ju([Kt(he),N({redraw:x.MAJOR})],e.prototype,"fill",void 0),ju([Kt(he),N({redraw:x.MAJOR})],e.prototype,"stroke",void 0),ju([Kt(ye(0)),N({redraw:x.MAJOR})],e.prototype,"strokeWidth",void 0),ju([Kt(ye(0,1)),N({redraw:x.MAJOR})],e.prototype,"fillOpacity",void 0),ju([Kt(ye(0,1)),N({redraw:x.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(R),Wu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gu=function(){return(Gu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Xu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ku=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Vu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Yu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Uu=((Tu={})[Te.X]=["xKey"],Tu[Te.Y]=["yKey"],Tu),Zu=((Iu={})[Te.X]=["xName"],Iu[Te.Y]=["yName"],Iu),qu=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i,o)||this;return a.xKey=e,a.yKey=n,a}return Wu(e,t),e}(Gn),Ju=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return Wu(e,t),e}(qu),$u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Wu(e,t),e}(qu),Qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e}(pl),tc=function(t){function e(e){var n=t.call(this,Gu(Gu({},e),{useSeriesGroupLayer:!0,directionKeys:Uu,directionNames:Zu}))||this;n.legendItemName=void 0,n._contextNodeData=[],n.nodeDataDependencies={},n.highlightSelection=xi.select(n.highlightNode,(function(){return n.opts.hasMarkers?n.markerFactory():n.nodeFactory()})),n.highlightLabelSelection=xi.select(n.highlightLabel,Dt),n.subGroups=[],n.subGroupId=0,n.datumSelectionGarbageCollection=!0;var r=e.pathsPerSeries,i=void 0===r?1:r,o=e.hasMarkers,a=void 0!==o&&o,l=e.hasHighlightedLabels,s=void 0!==l&&l,u=e.pathsZIndexSubOrderOffset,c=void 0===u?[]:u;return n.opts={pathsPerSeries:i,hasMarkers:a,hasHighlightedLabels:s,pathsZIndexSubOrderOffset:c},n.animationState=new Qu("empty",{empty:{on:{update:{target:"ready",action:function(t){return n.animateEmptyUpdateReady(t)}}}},ready:{on:{updateData:{target:"waiting",action:function(){}},update:{target:"ready",action:function(t){return n.animateReadyUpdate(t)}},highlight:{target:"ready",action:function(t){return n.animateReadyHighlight(t)}},highlightMarkers:{target:"ready",action:function(t){return n.animateReadyHighlightMarkers(t)}},resize:{target:"ready",action:function(t){return n.animateReadyResize(t)}}}},waiting:{on:{update:{target:"ready",action:function(t){return n.animateWaitingUpdateReady(t)}}}}}),n}return Wu(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e,n=this;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return n.onLegendItemClick(t)})),null===(e=this.ctx.chartEventManager)||void 0===e||e.addListener("legend-item-double-click",(function(t){return n.onLegendItemDoubleClick(t)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,n,r){return(n&&At(t)||!n&&It(t))&&(r&&At(e)||!r&&It(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,n,r){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&r.inRange(e)},e.prototype.update=function(t){var e,n,r=t.seriesRect;return Ku(this,void 0,void 0,(function(){var t,i,o,a,l;return Vu(this,(function(s){switch(s.label){case 0:return t=this.visible,i=(null!==(n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{}).series,o=i?i===this:void 0,a={seriesRectWidth:null==r?void 0:r.width,seriesRectHeight:null==r?void 0:r.height},(l=null!=yr(this.nodeDataDependencies,a))&&(this.nodeDataDependencies=a,this.markNodeDataDirty()),[4,this.updateSelections(o,t)];case 1:return s.sent(),[4,this.updateNodes(o,t)];case 2:return s.sent(),l&&this.animationState.transition("resize",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths}))}),this.animationState.transition("update",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),labelSelections:this.subGroups.map((function(t){return t.labelSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths})),seriesRect:r}),[2]}}))}))},e.prototype.updateSelections=function(t,e){var n;return Ku(this,void 0,void 0,(function(){var r,i=this;return Vu(this,(function(o){switch(o.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return o.sent(),e?this.nodeDataRefresh||this.isPathOrSelectionDirty()?this.nodeDataRefresh?(this.nodeDataRefresh=!1,(null===(n=this.chart)||void 0===n?void 0:n.debug)&&U.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),r=this,[4,this.createNodeData()]):[3,4]:[2]:[2];case 2:return r._contextNodeData=o.sent(),[4,this.updateSeriesGroups()];case 3:o.sent(),o.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(t,e){return i.updateSeriesGroupSelections(t,e)})))];case 5:return o.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e){return Ku(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c;return Vu(this,(function(h){switch(h.label){case 0:return n=t.datumSelection,r=t.labelSelection,i=t.markerSelection,o=this._contextNodeData[e],a=o.nodeData,l=o.labelData,s=t,[4,this.updateDatumSelection({nodeData:a,datumSelection:n,seriesIdx:e})];case 1:return s.datumSelection=h.sent(),u=t,[4,this.updateLabelSelection({labelData:l,labelSelection:r,seriesIdx:e})];case 2:return u.labelSelection=h.sent(),i?(c=t,[4,this.updateMarkerSelection({nodeData:a,markerSelection:i,seriesIdx:e})]):[3,4];case 3:c.markerSelection=h.sent(),h.label=4;case 4:return[2]}}))}))},e.prototype.nodeFactory=function(){return new et},e.prototype.markerFactory=function(){return new(eo())},e.prototype.updateSeriesGroups=function(){return Ku(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,p,f=this;return Vu(this,(function(y){if(e=(t=this)._contextNodeData,n=t.contentGroup,r=t.subGroups,i=t.opts,o=i.pathsPerSeries,a=i.hasMarkers,e.length===r.length)return[2];for(e.length<r.length&&r.splice(e.length).forEach((function(t){var e,r,i=t.dataNodeGroup,o=t.markerGroup,a=t.labelGroup,l=t.paths;n.removeChild(i),o&&n.removeChild(o),a&&n.removeChild(a);try{for(var s=Yu(l),u=s.next();!u.done;u=s.next()){var c=u.value;n.removeChild(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}})),l=e.length;l>r.length;){for(!1,s=this.subGroupId++,u=new et({name:this.id+"-series-sub"+s+"-dataNodes",layer:!1,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("data",s)}),c=a?new et({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:!1,zIndex:Re.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",s)}):void 0,h=new et({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:!1,zIndex:Re.SERIES_LABEL_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",s)}),n.appendChild(u),n.appendChild(h),c&&n.appendChild(c),d=[],p=0;p<o;p++)d[p]=new Ri,d[p].zIndex=Re.SERIES_LAYER_ZINDEX,d[p].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",p),n.appendChild(d[p]);r.push({paths:d,dataNodeGroup:u,markerGroup:c,labelGroup:h,labelSelection:xi.select(h,Dt),datumSelection:xi.select(u,(function(){return f.nodeFactory()}),this.datumSelectionGarbageCollection),markerSelection:c?xi.select(c,(function(){return f.markerFactory()})):void 0})}return[2]}))}))},e.prototype.getGroupZIndexSubOrder=function(e,n){var r;void 0===n&&(n=0);var i=t.prototype.getGroupZIndexSubOrder.call(this,e,n);if("paths"===e){var o=null!==(r=this.opts.pathsZIndexSubOrderOffset[n])&&void 0!==r?r:0,a=i[0];i[0]="function"==typeof a?function(){return+a()+o}:+a+o}return i},e.prototype.updateNodes=function(t,e){var n;return Ku(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d=this;return Vu(this,(function(p){switch(p.label){case 0:return i=(r=this).highlightSelection,o=r.highlightLabelSelection,a=r._contextNodeData,l=r.opts,s=l.hasMarkers,u=l.hasHighlightedLabels,c=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e,this.rootGroup.visible=c,this.contentGroup.visible=c,this.highlightGroup.visible=c&&!!t,h=this.subGroups.map((function(t,e){var n=a[e].itemId;return d.getOpacity({itemId:n})})),s?[4,this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return p.sent(),this.animationState.transition("highlightMarkers",i),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1})];case 3:p.sent(),this.animationState.transition("highlight",i),p.label=4;case 4:return u?[4,this.updateLabelNodes({labelSelection:o,seriesIdx:-1})]:[3,6];case 5:p.sent(),p.label=6;case 6:return[4,Promise.all(this.subGroups.map((function(t,e){return Ku(d,void 0,void 0,(function(){var n,r,i,o,a,l,u,d,p,f,y,v,g,m;return Vu(this,(function(b){switch(b.label){case 0:n=t.dataNodeGroup,r=t.markerGroup,i=t.datumSelection,o=t.labelSelection,a=t.markerSelection,l=t.paths,u=t.labelGroup,d=c,p=h[e],n.opacity=p,n.visible=d,u.visible=d,r&&(r.opacity=p,r.zIndex=n.zIndex>=Re.SERIES_LAYER_ZINDEX?n.zIndex:n.zIndex+1,r.visible=d),u&&(u.opacity=p);try{for(f=Yu(l),y=f.next();!y.done;y=f.next())(v=y.value).opacity=p,v.visible=d}catch(t){g={error:t}}finally{try{y&&!y.done&&(m=f.return)&&m.call(f)}finally{if(g)throw g.error}}return n.visible?[4,this.updateDatumNodes({datumSelection:i,isHighlight:!1,seriesIdx:e})]:[2];case 1:return b.sent(),[4,this.updateLabelNodes({labelSelection:o,seriesIdx:e})];case 2:return b.sent(),s&&a?[4,this.updateMarkerNodes({markerSelection:a,isHighlight:!1,seriesIdx:e})]:[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}}))}))})))];case 7:return p.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return Ku(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g;return Vu(this,(function(m){switch(m.label){case 0:return r=(n=this).highlightSelection,i=n.highlightLabelSelection,o=n._contextNodeData,a=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),l=t&&(null==a?void 0:a.datum)?a:void 0,s=this,[4,this.updateHighlightSelectionItem({item:l,highlightSelection:r})];case 1:if(s.highlightSelection=m.sent(),this.isLabelEnabled()&&null!=l){c=l.itemId,h=void 0===c?void 0:c;try{for(d=Yu(o),p=d.next();!p.done&&(f=p.value.labelData,null==(u=f.find((function(t){return t.datum===l.datum&&t.itemId===h}))));p=d.next());}catch(t){v={error:t}}finally{try{p&&!p.done&&(g=d.return)&&g.call(d)}finally{if(v)throw v.error}}}return y=this,[4,this.updateHighlightSelectionLabel({item:u,highlightLabelSelection:i})];case 2:return y.highlightLabelSelection=m.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var n,r,i=t.prototype.pickNodeExactShape.call(this,e);if(i)return i;var o=e.x,a=e.y,l=this.opts.hasMarkers;try{for(var s=Yu(this.subGroups),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.dataNodeGroup,d=c.markerGroup,p=h.pickNode(o,a);if(!p&&l&&(p=null==d?void 0:d.pickNode(o,a)),p)return{datum:p.datum,distance:0}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,n,r,i,o,a,l,s=t.x,u=t.y,c=this.axes,h=this.rootGroup,d=this._contextNodeData,p=c[Te.X],f=c[Te.Y],y=h.transformPoint(s,u),v=1/0;try{for(var g=Yu(d),m=g.next();!m.done;m=g.next()){var b=m.value;try{for(var x=(r=void 0,Yu(b.nodeData)),w=x.next();!w.done;w=x.next()){var S,k=w.value,O=k.point,D=void 0===O?{}:O,_=D.x,C=void 0===_?NaN:_,M=D.y,E=void 0===M?NaN:M;if(!isNaN(C)&&!isNaN(E))if((null==p?void 0:p.inRange(C))&&(null==f?void 0:f.inRange(E)))(S=Math.max(Math.pow(y.x-C,2)+Math.pow(y.y-E,2),0))<v&&(v=S,l=k)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}if(l)return{datum:l,distance:S=Math.max(Math.sqrt(v)-(null!==(a=null===(o=l.point)||void 0===o?void 0:o.size)&&void 0!==a?a:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var n,r,i,o,a,l,s=t.x,u=t.y,c=this.axes,h=this.rootGroup,d=this._contextNodeData,p=c[Te.X],f=c[Te.Y],y=[p,f].filter((function(t){return t instanceof js})).map((function(t){return t.direction}));if(!e||0!==y.length){var v=Hu(y,1)[0],g=void 0===v?Te.X:v,m=h.transformPoint(s,u),b=g===Te.X?[m.x,m.y]:[m.y,m.x],x=[1/0,1/0],w=void 0;try{for(var S=Yu(d),k=S.next();!k.done;k=S.next()){var O=k.value;try{for(var D=(i=void 0,Yu(O.nodeData)),_=D.next();!_.done;_=D.next()){var C=_.value,M=C.point,E=void 0===M?{}:M,P=E.x,N=void 0===P?NaN:P,L=E.y,R=void 0===L?NaN:L;if(!isNaN(N)&&!isNaN(R))if((null==p?void 0:p.inRange(N))&&(null==f?void 0:f.inRange(R))){for(var T=g===Te.X?[N,R]:[R,N],I=!0,A=0;A<T.length;A++){var j=Math.abs(T[A]-b[A]);if(j>x[A]){I=!1;break}j<x[A]&&(x[A]=j,x.fill(1/0,A+1,x.length))}I&&(w=C)}}}catch(t){i={error:t}}finally{try{_&&!_.done&&(o=D.return)&&o.call(D)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{k&&!k.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}if(w)return{datum:w,distance:Math.max(Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2))-(null!==(l=null===(a=w.point)||void 0===a?void 0:a.size)&&void 0!==l?l:0),0)}}},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId,r=t.series,i=t.legendItemName,o=null!=this.legendItemName&&this.legendItemName===i;(r.id===this.id||o)&&this.toggleSeriesItem(n,e)},e.prototype.onLegendItemDoubleClick=function(t){var e=t.enabled,n=t.itemId,r=t.series,i=t.numVisibleItems,o=t.legendItemName,a=Object.values(i).reduce((function(t,e){return t+e}),0),l=null!=this.legendItemName&&this.legendItemName===o;r.id===this.id||l||e&&1===a?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.updateHighlightSelectionItem=function(t){return Ku(this,void 0,void 0,(function(){var e,n,r,i,o;return Vu(this,(function(a){return e=this.opts.hasMarkers,n=t.item,r=t.highlightSelection,i=n?[n]:[],e?(o=r,[2,this.updateMarkerSelection({nodeData:i,markerSelection:o,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:i,datumSelection:r,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return Ku(this,void 0,void 0,(function(){var e,n,r;return Vu(this,(function(i){return e=t.item,n=t.highlightLabelSelection,r=e?[e]:[],[2,this.updateLabelSelection({labelData:r,labelSelection:n,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return Ku(this,void 0,void 0,(function(){return Vu(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return Ku(this,void 0,void 0,(function(){return Vu(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return Ku(this,void 0,void 0,(function(){return Vu(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return Ku(this,void 0,void 0,(function(){return Vu(this,(function(t){return[2]}))}))},e.prototype.animateEmptyUpdateReady=function(t){},e.prototype.animateReadyUpdate=function(t){},e.prototype.animateWaitingUpdateReady=function(t){},e.prototype.animateReadyHighlight=function(t){},e.prototype.animateReadyHighlightMarkers=function(t){},e.prototype.animateReadyResize=function(t){},Xu([Kt(ie)],e.prototype,"legendItemName",void 0),e}(Jn),ec=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Wu(e,t),Xu([Kt(te),N({redraw:x.MAJOR})],e.prototype,"formatter",void 0),e}(zu),nc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},rc=/(#\{(.*?)\})/g;function ic(t,e,n){return t.replace(rc,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[2],o=nc(i.split(":"),2),a=o[0],l=o[1],s=e[a];if("number"==typeof s){if(d=l&&n&&n[l]){var u=d,c=u.locales,h=u.options;return s.toLocaleString(c,h)}return String(s)}if(s instanceof Date){var d;if("string"==typeof(d=l&&n&&n[l])){var p=va(d);return p(s)}return s.toDateString()}return"string"==typeof s||(null==s?void 0:s.toString)?String(s):""}))}var oc=null;function ac(t){return oc=null!=oc?oc:document.createElement("div"),t?(oc.textContent=t,oc.innerHTML):""}var lc,sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uc=function(){return(uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},cc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},hc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},dc=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},pc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fc=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},yc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return sc(e,t),cc([Kt(te)],e.prototype,"formatter",void 0),e}(Ja),vc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return sc(e,t),cc([Kt(te)],e.prototype,"renderer",void 0),cc([Kt(ie)],e.prototype,"format",void 0),e}(Zn);!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(lc||(lc={})),function(t){function e(e){var n=t.call(this,{moduleCtx:e,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0})||this;n.tooltip=new vc,n.marker=new ec,n.label=new yc,n.fill="#c16068",n.stroke="#874349",n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.xKey=void 0,n.xName=void 0,n.strokeWidth=2,n.shadow=void 0;var r=n,i=r.marker,o=r.label;return i.enabled=!1,o.enabled=!1,n}sc(e,t),e.prototype.processData=function(t){return hc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x;return dc(this,(function(w){switch(w.label){case 0:return n=(e=this).xKey,r=e.yKey,i=e.axes,o=e.normalizedTo,a=e.data,l=e.visible,s=e.seriesGrouping,u=(void 0===s?{}:s).groupIndex,c=void 0===u?this.id:u,n&&r&&a?(h=i[Te.X],d=i[Te.Y],p=(null==h?void 0:h.scale)instanceof ra,f=(null==d?void 0:d.scale)instanceof ra,y=["area-stack-"+c+"-yValues","area-stack-"+c+"-yValues-trailing","area-stack-"+c+"-yValues-prev","area-stack-"+c+"-yValues-trailing-prev","area-stack-"+c+"-yValues-marker"],v=[],(g=o&&isFinite(o)?o:void 0)&&(v.push(bn(this,[y[0],y[1],y[4]],g,"range")),v.push(bn(this,[y[2],y[3]],g,"range"))),[4,t.request(this.id,a,{props:fc(fc(fc(fc(fc(fc([Bn(this,n,p,{id:"xValue"}),zn(this,r,f,{id:"yValue-raw",invalidValue:null})],pc(Wn(this,r,f,"window","current",{id:"yValue-end",invalidValue:null,groupId:y[0]}))),pc(Wn(this,r,f,"window-trailing","current",{id:"yValue-start",invalidValue:null,groupId:y[1]}))),pc(Wn(this,r,f,"window","last",{id:"yValue-previous-end",invalidValue:null,groupId:y[2]}))),pc(Wn(this,r,f,"window-trailing","last",{id:"yValue-previous-start",invalidValue:null,groupId:y[3]}))),pc(Wn(this,r,f,"normal","current",{id:"yValue-cumulative",invalidValue:null,groupId:y[4]}))),pc(v)),groupByKeys:!0,dataVisible:l})]):[2];case 1:return m=w.sent(),b=m.dataModel,x=m.processedData,this.dataModel=b,this.processedData=x,[2]}}))}))},e.prototype.getDomain=function(t){var e=this.processedData,n=this.dataModel,r=this.axes;if(!e||!n)return[];var i=r[Te.X],o=r[Te.Y],a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e),s=n.getDomain(this,/yValue-(previous-)?end/,"value",e);if(t===Te.X)return"key"===(null==a?void 0:a.def.type)&&"category"===a.def.valueType?l:this.fixNumericExtent(Za(l),i);if(o instanceof _u||o instanceof Pu)return this.fixNumericExtent(s,o);var u=[s[0]>0?0:s[0],s[1]<0?0:s[1]];return this.fixNumericExtent(u,o)},e.prototype.createNodeData=function(){var t;return hc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C,M,E,P,N,L,R,T,I,A,j,F,B,z,W,G,X,K=this;return dc(this,(function(V){if(n=(e=this).axes,r=e.data,i=e.processedData,o=(void 0===i?{}:i).data,a=e.dataModel,l=e.ctx.callbackCache,s=n[Te.X],u=n[Te.Y],!(s&&u&&r&&a))return[2,[]];for(h=(c=this).yKey,d=void 0===h?"":h,p=c.xKey,f=void 0===p?"":p,y=c.marker,v=c.label,g=c.fill,m=c.stroke,b=c.id,x=s.scale,w=u.scale,S=w instanceof ra,k=(null!==(t=x.bandwidth)&&void 0!==t?t:0)/2,O=a.resolveProcessedDataIndexById(this,"yValue-start").index,D=a.resolveProcessedDataIndexById(this,"yValue-end").index,_=a.resolveProcessedDataIndexById(this,"yValue-raw").index,C=a.resolveProcessedDataIndexById(this,"yValue-previous-start").index,M=a.resolveProcessedDataIndexById(this,"yValue-previous-end").index,E=a.resolveProcessedDataIndexById(this,"yValue-cumulative").index,P=function(t,e,n){var r=x.convert(t)+k,i=w.convert(e,{strict:!1});return[{x:r,y:w.convert(n,{strict:!1}),size:y.size},{x:r,y:i,size:y.size}]},N=function(t,e,n){var r,i=K.normalizedTo&&isFinite(K.normalizedTo),o=i&&S&&At(n);return(!i&&!isNaN(n)||o)&&(r=e),{x:x.convert(t)+k,y:w.convert(r,{strict:!1}),size:y.size}},A={itemId:d,fillSelectionData:I={itemId:d,points:[]},labelData:L=[],nodeData:R=[],strokeSelectionData:T={itemId:d,points:[],yValues:[]}},j=I.points,F=[],B=T.points,z=T.yValues,W=-1,null==o||o.forEach((function(t){var e=pc(t.keys,1)[0],n=t.datum;t.values.forEach((function(t,r){var i;W++;var o=n[r],a=t[_],s=t[O],u=t[D],c=t[C],h=t[M],p=t[E],x=null!=a,w=N(e,+p,a);if(x&&y&&R.push({index:W,series:K,itemId:d,datum:o,nodeMidPoint:{x:w.x,y:w.y},cumulativeValue:u,yValue:a,xValue:e,yKey:d,xKey:f,point:w,fill:g,stroke:m}),x&&v){var S=void 0;S=v.formatter?null!==(i=l.call(v.formatter,{value:a,seriesId:b}))&&void 0!==i?i:"":Ft(a)?Number(a).toFixed(2):String(a),L.push({index:W,itemId:d,point:w,label:S?{text:S,fontStyle:v.fontStyle,fontWeight:v.fontWeight,fontSize:v.fontSize,fontFamily:v.fontFamily,textAlign:"center",textBaseline:"bottom",fill:v.color}:void 0})}var k=[c,s],T=[h,u];if([G,e].some((function(t){return null==t})))G=e;else{k.some((function(t){return null==t}))&&(k[0]=0,k[1]=0),T.some((function(t){return null==t}))&&(T[0]=0,T[1]=0);var I=P(G,+k[0],+T[0]);j.push(I[0]),F.push(I[1]);var A=P(e,+k[1],+T[1]);j.push(A[0]),F.push(A[1]),B.push({x:NaN,y:NaN}),z.push(void 0),null!=h&&(B.push(I[0]),z.push(h)),null!=u&&(B.push(A[0]),z.push(u)),G=e}}))})),X=F.length-1;X>=0;X--)j.push(F[X]);return[2,[A]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return hc(this,void 0,void 0,(function(){var e,n,r,i;return dc(this,(function(o){return e=t.nodeData,n=t.markerSelection,r=this.marker.enabled,i=r&&e?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(i,(function(t){t.tag=lc.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return hc(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_;return dc(this,(function(C){return n=t.markerSelection,r=t.isHighlight,o=(i=this).id,a=i.xKey,l=void 0===a?"":a,s=i.marker,u=i.fill,c=i.stroke,h=i.fillOpacity,d=i.marker.fillOpacity,p=void 0===d?h:d,f=i.strokeOpacity,y=i.highlightStyle.item,v=y.fill,g=y.fillOpacity,m=void 0===g?p:g,b=y.stroke,x=y.strokeWidth,w=i.visible,S=i.ctx.callbackCache,k=s.size,O=s.formatter,D=null!==(e=s.strokeWidth)&&void 0!==e?e:this.strokeWidth,_="function"==typeof s.shape,n.each((function(t,e){var n,i,a,h,d,y,g,C,M=r&&void 0!==v?v:null!==(n=s.fill)&&void 0!==n?n:u,E=r?m:p,P=r&&void 0!==b?b:null!==(i=s.stroke)&&void 0!==i?i:c,N=r&&void 0!==x?x:D,L=void 0;O&&(L=S.call(O,{datum:e.datum,xKey:l,yKey:e.yKey,fill:M,stroke:P,strokeWidth:N,size:k,highlighted:r,seriesId:o})),t.fill=null!==(a=null==L?void 0:L.fill)&&void 0!==a?a:M,t.stroke=null!==(h=null==L?void 0:L.stroke)&&void 0!==h?h:P,t.strokeWidth=null!==(d=null==L?void 0:L.strokeWidth)&&void 0!==d?d:N,t.fillOpacity=null!=E?E:1,t.strokeOpacity=null!==(g=null!==(y=s.strokeOpacity)&&void 0!==y?y:f)&&void 0!==g?g:1,t.size=null!==(C=null==L?void 0:L.size)&&void 0!==C?C:k,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&w&&!isNaN(e.point.x)&&!isNaN(e.point.y),_&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),r||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return hc(this,void 0,void 0,(function(){var e;return dc(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=lc.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return hc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s;return dc(this,(function(u){return e=t.labelSelection,n=this.label,r=n.enabled,i=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;u&&r?(t.fontStyle=i,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n;return new Ju(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new $u(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r,i=this,o=i.xKey,a=i.id,l=i.axes,s=i.xName,u=i.yName,c=i.fill,h=i.stroke,d=i.tooltip,p=i.marker,f=i.dataModel,y=t.yKey,v=t.xValue,g=t.yValue,m=t.datum,b=l[Te.X],x=l[Te.Y];if(!(o&&y&&b&&x&&Ft(g)&&f))return"";var w=f.resolveProcessedDataIndexById(this,"yValue-raw").index,S=p.size,k=p.formatter,O=p.strokeWidth,D=p.fill,_=p.stroke,C=b.formatDatum(v),M=x.formatDatum(g),E=null===(n=null===(e=this.processedData)||void 0===e?void 0:e.data[t.index])||void 0===n?void 0:n.values[0][w],P=ac(u),N=ac(C+": "+M),L=null!=O?O:this.strokeWidth,R=null!=D?D:c,T=void 0;k&&(T=k({datum:m,xKey:o,yKey:y,fill:R,stroke:null!=_?_:h,strokeWidth:L,size:S,highlighted:!1,seriesId:a}));var I=null!==(r=null==T?void 0:T.fill)&&void 0!==r?r:R,A={title:P,backgroundColor:I,content:N},j=d.renderer,F=d.format;if(F||j){var B={datum:m,xKey:o,xName:s,xValue:v,yKey:y,yValue:g,processedYValue:E,yName:u,color:I,title:P,seriesId:a};if(F)return en({content:ic(F,B)},A);if(j)return en(j(B),A)}return en(A)},e.prototype.getLegendData=function(){var t,e,n,r,i=this,o=i.data,a=i.id,l=i.xKey,s=i.yKey,u=i.yName,c=i.marker,h=i.fill,d=i.stroke,p=i.fillOpacity,f=i.strokeOpacity,y=i.visible;return(null==o?void 0:o.length)&&l&&s?[{legendType:"category",id:a,itemId:s,seriesId:a,enabled:y,label:{text:null!=u?u:s},marker:{shape:c.shape,fill:null!==(t=c.fill)&&void 0!==t?t:h,stroke:null!==(e=c.stroke)&&void 0!==e?e:d,fillOpacity:null!==(n=c.fillOpacity)&&void 0!==n?n:p,strokeOpacity:null!==(r=c.strokeOpacity)&&void 0!==r?r:f}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,r=t.labelSelections,i=t.contextData,o=t.paths,a=t.seriesRect,l=this,s=l.stroke,u=l.fill,c=l.fillOpacity,h=l.lineDash,d=l.lineDashOffset,p=l.strokeOpacity,f=l.strokeWidth,y=l.shadow;i.forEach((function(t,i){var l,v,g,m,b,x=t.fillSelectionData,w=t.strokeSelectionData,S=t.itemId,k=pc(o[i],2),O=k[0],D=k[1],_=null!==(v=null===(l=e.ctx.animationManager)||void 0===l?void 0:l.defaultOptions.duration)&&void 0!==v?v:1e3,C={from:0,to:null!==(g=null==a?void 0:a.width)&&void 0!==g?g:0,duration:_},M=w.points,E=w.yValues;D.tag=lc.Stroke,D.fill=void 0,D.lineJoin=D.lineCap="round",D.pointerEvents=L.None,D.stroke=s,D.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:S}),D.strokeOpacity=p,D.lineDash=h,D.lineDashOffset=d,null===(m=e.ctx.animationManager)||void 0===m||m.animate(e.id+"_empty-update-ready_stroke_"+i,uc(uc({},C),{onUpdate:function(t){D.path.clear({trackChanges:!0});var e=!0;M.forEach((function(n,r){if(void 0===E[r]||isNaN(n.x)||isNaN(n.y))e=!0;else if(n.x<=t)e?(D.path.moveTo(n.x,n.y),e=!1):D.path.lineTo(n.x,n.y);else if(r>0&&void 0!==E[r]&&void 0!==E[r-1]&&M[r-1].x<=t){var i=M[r-1],o=n,a=t,l=i.y+(a-i.x)*(o.y-i.y)/(o.x-i.x);D.path.lineTo(a,l)}})),D.checkPathDirty()}}));var P=x.points,N=P.slice(0,P.length/2),R=P.slice(P.length/2);O.tag=lc.Fill,O.stroke=void 0,O.lineJoin="round",O.pointerEvents=L.None,O.fill=u,O.fillOpacity=c,O.strokeOpacity=p,O.strokeWidth=f,O.lineDash=h,O.lineDashOffset=d,O.fillShadow=y,null===(b=e.ctx.animationManager)||void 0===b||b.animate(e.id+"_empty-update-ready_fill_"+i,uc(uc({},C),{onUpdate:function(t){O.path.clear({trackChanges:!0});var e=0,n=0;N.forEach((function(r,i){if(r.x<=t)e=r.x,n=r.y,O.path.lineTo(r.x,r.y);else if(i>0&&N[i-1].x<t){var o=N[i-1],a=r;e=t,n=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x),O.path.lineTo(e,n)}})),R.forEach((function(n,r){var i=R.length-r-1;if(n.x<=t)O.path.lineTo(n.x,n.y);else if(i>0&&N[i-1].x<t){var o=n,a=R[r+1],l=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x);O.path.lineTo(e,l)}})),R.length>0&&O.path.lineTo(R[R.length-1].x,R[R.length-1].y),O.path.closePath(),O.checkPathDirty()}})),n[i].each((function(t,n){var r,i,o,l,s=(null==a?void 0:a.width)?n.point.x/a.width*_:0,u=e.animateFormatter(n),c=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;null===(o=e.ctx.animationManager)||void 0===o||o.animate(e.id+"_empty-update-ready_"+t.id,uc(uc({},C),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),r[i].each((function(t,n){var r,i=(null==a?void 0:a.width)?n.point.x/a.width*_:0;null===(r=e.ctx.animationManager)||void 0===r||r.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:i,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this,n=t.contextData,r=t.paths,i=this,o=i.stroke,a=i.fill,l=i.fillOpacity,s=i.lineDash,u=i.lineDashOffset,c=i.strokeOpacity,h=i.strokeWidth,d=i.shadow;n.forEach((function(t,n){var i=t.strokeSelectionData,p=t.fillSelectionData,f=t.itemId,y=pc(r[n],2),v=y[0],g=y[1];g.stroke=o,g.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:f}),g.strokeOpacity=c,g.lineDash=s,g.lineDashOffset=u,g.path.clear({trackChanges:!0});var m=!0;i.points.forEach((function(t,e){void 0===i.yValues[e]||isNaN(t.x)||isNaN(t.y)?m=!0:m?(g.path.moveTo(t.x,t.y),m=!1):g.path.lineTo(t.x,t.y)})),g.checkPathDirty(),v.fill=a,v.fillOpacity=l,v.strokeOpacity=c,v.strokeWidth=h,v.lineDash=s,v.lineDashOffset=u,v.fillShadow=d,v.path.clear({trackChanges:!0}),p.points.forEach((function(t){v.path.lineTo(t.x,t.y)})),v.path.closePath(),v.checkPathDirty()}))},e.prototype.animateFormatter=function(t){var e,n,r,i=this,o=i.marker,a=i.fill,l=i.stroke,s=i.xKey,u=void 0===s?"":s,c=i.id,h=i.ctx.callbackCache,d=o.size,p=o.formatter,f=null!==(e=o.fill)&&void 0!==e?e:a,y=null!==(n=o.stroke)&&void 0!==n?n:l,v=null!==(r=o.strokeWidth)&&void 0!==r?r:this.strokeWidth,g=void 0;return p&&(g=h.call(p,{datum:t.datum,xKey:u,yKey:t.yKey,fill:f,stroke:y,strokeWidth:v,size:d,highlighted:!1,seriesId:c})),g},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",cc([Kt(ce)],e.prototype,"fill",void 0),cc([Kt(ce)],e.prototype,"stroke",void 0),cc([Kt(fe(0,1))],e.prototype,"fillOpacity",void 0),cc([Kt(fe(0,1))],e.prototype,"strokeOpacity",void 0),cc([Kt(Me)],e.prototype,"lineDash",void 0),cc([Kt(fe(0))],e.prototype,"lineDashOffset",void 0),cc([Kt(ie)],e.prototype,"xKey",void 0),cc([Kt(ie)],e.prototype,"xName",void 0),cc([Kt(ie)],e.prototype,"yKey",void 0),cc([Kt(ie)],e.prototype,"yName",void 0),cc([Kt(ye(0))],e.prototype,"normalizedTo",void 0),cc([Kt(fe(0))],e.prototype,"strokeWidth",void 0)}(tc);var gc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new Ei,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=xt.defaultStyles.strokeWidth,e.effectiveStrokeWidth=xt.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return gc(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,n,r=this.path,i=this.borderPath,o=this.crisp,a=this,l=a.x,s=a.y,u=a.width,c=a.height,h=a.strokeWidth,d=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),p=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),o&&(u<=d&&(p*=u/d),c<=d&&(p*=c/d),u=this.align(l,u),c=this.align(s,c),l=this.align(l),s=this.align(s)),h)if(u<d){var f=l+d/2;i.moveTo(f,s),i.lineTo(f,s+c),h=d,this.borderClipPath=void 0}else if(c<d){var y=s+d/2;i.moveTo(l,y),i.lineTo(l+u,y),h=d,this.borderClipPath=void 0}else if(h<u&&h<c){var v=h/2;l+=v,s+=v,u-=h,c-=h,this.borderClipPath=void 0,r.rect(l,s,u,c),i.rect(l,s,u,c)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new Ei,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,s,u,c),i.rect(l,s,u,c);else this.borderClipPath=void 0,r.rect(l,s,u,c);this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=p},e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return new O(t,e,n,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.applyFillAlpha=function(t){var e=this.fillOpacity,n=this.microPixelEffectOpacity,r=this.opacity,i=t.globalAlpha;t.globalAlpha=i*r*e*n},e.prototype.renderStroke=function(t){var e=this,n=e.stroke,r=e.effectiveStrokeWidth,i=e.borderPath,o=e.borderClipPath,a=e.opacity,l=e.microPixelEffectOpacity;if(!!n&&!!r){var s=this,u=s.strokeOpacity,c=s.lineDash,h=s.lineDashOffset,d=s.lineCap,p=s.lineJoin;o&&(o.draw(t),t.clip()),i.draw(t);var f=t.globalAlpha;t.strokeStyle=n,t.globalAlpha=f*a*u*l,t.lineWidth=r,c&&t.setLineDash(c),h&&(t.lineDashOffset=h),d&&(t.lineCap=d),p&&(t.lineJoin=p),t.stroke(),t.globalAlpha=f}},e.className="Rect",mc([Li()],e.prototype,"x",void 0),mc([Li()],e.prototype,"y",void 0),mc([Li()],e.prototype,"width",void 0),mc([Li()],e.prototype,"height",void 0),mc([Li()],e.prototype,"radius",void 0),mc([Li()],e.prototype,"crisp",void 0),e}(Ri),xc=function(){return(xc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},wc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Sc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var kc,Oc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},_c=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Cc=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Mc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ec=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Pc=["inside","outside"],Nc=function(t,e){return Yt(t,e,(function(t){return Pc.includes(t)}))};!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(kc||(kc={}));var Lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return Oc(e,t),Dc([Kt(te)],e.prototype,"formatter",void 0),Dc([Kt(Nc)],e.prototype,"placement",void 0),e}(Ja),Rc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Oc(e,t),Dc([Kt(te)],e.prototype,"renderer",void 0),e}(Zn);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Oc(e,t),e.prototype.getBarDirection=function(){return Te.Y},e.prototype.getCategoryDirection=function(){return Te.X},e.type="column",e.className="ColumnSeries"}(function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[En.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasHighlightedLabels:!0})||this;return n.label=new Lc,n.tooltip=new Rc,n.fill="#c16068",n.stroke="#874349",n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.xKey=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0,n.groupScale=new Zo,n.stackGroup=void 0,n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.datumSelectionGarbageCollection=!1,n.label.enabled=!1,n}return Oc(e,t),e.prototype.resolveKeyDirection=function(t){return this.getBarDirection()===Te.X?t===Te.X?Te.Y:Te.X:t},e.prototype.processData=function(t){var e,n,r,i,o;return _c(this,void 0,void 0,(function(){var a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O;return Cc(this,(function(D){switch(D.label){case 0:return l=(a=this).xKey,s=a.yKey,u=a.normalizedTo,c=a.seriesGrouping,h=(void 0===c?{}:c).groupIndex,d=void 0===h?this.id:h,p=a.data,f=void 0===p?[]:p,y=Math.abs(null!=u?u:NaN),v=(null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale)instanceof ra,g=(null===(n=this.getValueAxis())||void 0===n?void 0:n.scale)instanceof ra,b=(m="bar-stack-"+d+"-yValues")+"-trailing",x=y&&isFinite(y)?y:void 0,w=[],x&&w.push(bn(this,[m,b],x,"range")),!(null===(r=this.ctx.animationManager)||void 0===r?void 0:r.skipAnimations)&&this.processedData&&w.push(Dn(this.processedData)),[4,t.request(this.id,f,{props:Ec(Ec(Ec(Ec([Bn(this,l,v,{id:"xValue"}),zn(this,s,g,{id:"yValue-raw",invalidValue:null})],Mc(Wn(this,s,g,"normal","current",{id:"yValue-end",invalidValue:null,groupId:m}))),Mc(Wn(this,s,g,"trailing","current",{id:"yValue-start",invalidValue:null,groupId:b}))),Mc(v?[vn]:[])),Mc(w)),groupByKeys:!0,dataVisible:this.visible})];case 1:return S=D.sent(),k=S.dataModel,O=S.processedData,this.dataModel=k,this.processedData=O,this.smallestDataInterval={x:null!==(o=null===(i=O.reduced)||void 0===i?void 0:i[vn.property])&&void 0!==o?o:1/0,y:1/0},this.animationState.transition("updateData"),[2]}}))}))},e.prototype.getDomain=function(t){var e,n=this.processedData,r=this.dataModel;if(!n||!r)return[];var i=n.reduced,o=(void 0===i?{}:i)[vn.property],a=this.getCategoryAxis(),l=this.getValueAxis(),s=r.resolveProcessedDataDefById(this,"xValue"),u=r.getDomain(this,"xValue","key",n),c=r.getDomain(this,"yValue-end","value",n);if(t===this.getCategoryDirection()){if("key"===(null==s?void 0:s.def.type)&&"category"===(null==s?void 0:s.def.valueType))return u;var h=isFinite(o)?o:0,d=null!==(e=Za(u))&&void 0!==e?e:[NaN,NaN];return t===Te.Y?this.fixNumericExtent([d[0]+-h,d[1]],a):this.fixNumericExtent([d[0],d[1]+h],a)}if(this.getValueAxis()instanceof _u)return this.fixNumericExtent(c,l);var p=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return this.fixNumericExtent(p,l)},e.prototype.getNodeClickEvent=function(t,e){var n;return new Ju(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new $u(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){var t=this.getCategoryDirection();return this.axes[t]},e.prototype.getValueAxis=function(){var t=this.getBarDirection();return this.axes[t]},e.prototype.calculateStep=function(t){var e,n=this.smallestDataInterval,r=this.getCategoryAxis();if(r){var i=(r.dataDomain[1]-r.dataDomain[0])/(null!==(e=null==n?void 0:n.x)&&void 0!==e?e:1)+1,o=Math.floor(t),a=Math.min(i,o);return t/Math.max(1,a)}},e.prototype.createNodeData=function(){return _c(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C,M,E,P,N,L,R,T,I=this;return Cc(this,(function(A){if(e=(t=this).visible,n=t.dataModel,r=this.getCategoryAxis(),i=this.getValueAxis(),!(n&&e&&r&&i))return[2,[]];for(o=r.scale,a=i.scale,s=(l=this).groupScale,u=l.yKey,c=void 0===u?"":u,h=l.xKey,d=void 0===h?"":h,p=l.fill,f=l.stroke,y=l.strokeWidth,v=l.label,g=l.id,m=l.processedData,b=l.ctx,x=l.ctx.seriesStateManager,w=o.bandwidth,o instanceof ra&&(S=Math.max(r.range[0],r.range[1]),k=this.calculateStep(S),w=k),O=[],D=x.getVisiblePeerGroupIndex(this),_=D.index,C=D.visibleGroupCount,M=0;M<C;M++)O.push(String(M));return s.domain=O,s.range=[0,null!=w?w:0],s.padding=r instanceof js?r.groupPaddingInner:r instanceof Js?.1:0,0===s.padding?s.round=!1:s.round=!0,E=s.bandwidth>=1?s.bandwidth:s.rawBandwidth,P=n.resolveProcessedDataIndexById(this,"xValue","key").index,N=n.resolveProcessedDataIndexById(this,"yValue-raw").index,L=n.resolveProcessedDataIndexById(this,"yValue-start").index,R=n.resolveProcessedDataIndexById(this,"yValue-end").index,T={itemId:c,nodeData:[],labelData:[]},null==m||m.data.forEach((function(t,e){var n=t.keys,i=t.datum,l=t.values,u=n[P],h=o.convert(u),m=+l[0][R],x=+l[0][L],w=l[0][N],S=h+s.convert(String(_));if(r.inRange(S,E)&&!isNaN(m)){var k=a.convert(m,{strict:!1}),O=a.convert(x,{strict:!1}),D=I.getBarDirection()===Te.X,C={x:D?Math.min(k,O):S,y:D?S:Math.min(k,O),width:D?Math.abs(O-k):E,height:D?E:Math.abs(O-k)},M={x:C.x+C.width/2,y:C.y+C.height/2},A=v.fontStyle,j=v.fontWeight,F=v.fontSize,B=v.fontFamily,z=v.color,W=function(t){var e,n=t.value,r=t.rect,i=t.placement,o=t.seriesId,a=t.padding,l=void 0===a?0:a,s=t.formatter,u=t.barAlongX,c=t.ctx.callbackCache;s&&(e=c.call(s,{value:Ft(n)?n:void 0,seriesId:o})),void 0===e&&(e=Ft(n)?n.toFixed(2):"");var h=r.x+r.width/2,d=r.y+r.height/2,p="center",f="middle",y=n>=0;switch(i){case"start":u?(h=y?r.x-l:r.x+r.width+l,p=y?"start":"end"):(d=y?r.y+r.height+l:r.y-l,f=y?"top":"bottom");break;case"outside":case"end":u?(h=y?r.x+r.width+l:r.x-l,p=y?"start":"end"):(d=y?r.y-l:r.y+r.height+l,f=y?"bottom":"top");break;case"inside":default:f="middle"}return{text:e,textAlign:p,textBaseline:f,x:h,y:d}}({value:w,rect:C,formatter:v.formatter,placement:v.placement,seriesId:g,barAlongX:D,ctx:b}),G=W.text,X=W.textAlign,K=W.textBaseline,V=W.x,Y=W.y,H={index:e,series:I,itemId:c,datum:i[0],cumulativeValue:x+m,xValue:u,yValue:w,yKey:c,xKey:d,x:C.x,y:C.y,width:C.width,height:C.height,nodeMidPoint:M,fill:p,stroke:f,strokeWidth:y,label:G?{text:G,fontStyle:A,fontWeight:j,fontSize:F,fontFamily:B,textAlign:X,textBaseline:K,fill:z,x:V,y:Y}:void 0};T.nodeData.push(H),T.labelData.push(H)}})),[2,[T]]}))}))},e.prototype.nodeFactory=function(){return new bc},e.prototype.updateDatumSelection=function(t){return _c(this,void 0,void 0,(function(){var e,n,r;return Cc(this,(function(i){return e=t.nodeData,n=t.datumSelection,r=function(t){return t.xValue},[2,n.update(e,(function(t){return t.tag=kc.Bar}),r)]}))}))},e.prototype.updateDatumNodes=function(t){return _c(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b=this;return Cc(this,(function(x){return e=t.datumSelection,n=t.isHighlight,i=(r=this).fill,o=r.stroke,a=r.fillOpacity,l=r.strokeOpacity,s=r.lineDash,u=r.lineDashOffset,c=r.shadow,h=r.formatter,d=r.id,p=r.highlightStyle.item,f=r.ctx,y=r.stackGroup,v=this.axes[Te.X],g=function(t){void 0===t&&(t=[]);var e=Sc(t,2),n=e[0],r=e[1];return!(0!==n||1!==r)}(null==v?void 0:v.visibleRange),m=this.getCategoryDirection()===Te.X,e.each((function(t,e){var r={fill:i,stroke:o,fillOpacity:a,strokeOpacity:l,lineDash:s,lineDashOffset:u,fillShadow:c,strokeWidth:b.getStrokeWidth(b.strokeWidth,e)},v=m?e.width>0:e.height>0,x=function(t){var e,n,r,i,o,a,l,s=t.datum,u=t.isHighlighted,c=t.style,h=t.highlightStyle,d=t.formatter,p=t.seriesId,f=t.stackGroup,y=t.ctx.callbackCache,v=wc(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","stackGroup","ctx"]),g=u&&null!==(e=h.fill)&&void 0!==e?e:c.fill,m=u&&null!==(n=h.stroke)&&void 0!==n?n:c.stroke,b=u&&null!==(r=h.strokeWidth)&&void 0!==r?r:c.strokeWidth,x=u&&null!==(i=h.fillOpacity)&&void 0!==i?i:c.fillOpacity,w=c.strokeOpacity,S=c.fillShadow,k=c.lineDash,O=c.lineDashOffset,D=void 0;return d&&(D=y.call(d,xc({datum:s.datum,xKey:s.xKey,yKey:s.yKey,fill:g,stroke:m,strokeWidth:b,highlighted:u,seriesId:p,stackGroup:f},v))),{fill:null!==(o=null==D?void 0:D.fill)&&void 0!==o?o:g,stroke:null!==(a=null==D?void 0:D.stroke)&&void 0!==a?a:m,strokeWidth:null!==(l=null==D?void 0:D.strokeWidth)&&void 0!==l?l:b,fillOpacity:x,strokeOpacity:w,lineDash:k,lineDashOffset:O,fillShadow:S}}({datum:e,isHighlighted:n,style:r,highlightStyle:p,formatter:h,seriesId:d,stackGroup:y,ctx:f});x.crisp=g,x.visible=v,function(t){var e=t.rect,n=t.config,r=n.crisp,i=void 0===r||r,o=n.fill,a=n.stroke,l=n.strokeWidth,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineDash,h=n.lineDashOffset,d=n.fillShadow,p=n.visible,f=void 0===p||p;e.crisp=i,e.fill=o,e.stroke=a,e.strokeWidth=l,e.fillOpacity=s,e.strokeOpacity=u,e.lineDash=c,e.lineDashOffset=h,e.fillShadow=d,e.visible=f}({rect:t,config:x})})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return _c(this,void 0,void 0,(function(){var e,n,r,i;return Cc(this,(function(o){return e=t.labelData,n=t.labelSelection,r=this.label.enabled,i=r?e:[],[2,n.update(i,(function(t){t.tag=kc.Label,t.pointerEvents=L.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return _c(this,void 0,void 0,(function(){var e=this;return Cc(this,(function(n){return t.labelSelection.each((function(t,n){!function(t){var e=t.labelNode,n=t.labelDatum,r=t.config,i=t.visible;if(n&&r&&r.enabled){var o=n.x,a=n.y,l=n.text,s=n.textAlign,u=n.textBaseline,c=r.fontStyle,h=r.fontWeight,d=r.fontSize,p=r.fontFamily,f=r.color;e.fontStyle=c,e.fontWeight=h,e.fontSize=d,e.fontFamily=p,e.textAlign=s,e.textBaseline=u,e.text=l,e.x=o,e.y=a,e.fill=f,e.visible=i}else e.visible=!1}({labelNode:t,labelDatum:n.label,config:e.label,visible:!0})})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n=this.xKey,r=this.yKey,i=this.processedData,o=this.ctx.callbackCache,a=this.getCategoryAxis(),l=this.getValueAxis(),s=t.xValue,u=t.yValue,c=t.datum;if(!(i&&n&&r&&a&&l))return"";var h=this,d=h.xName,p=h.yName,f=h.fill,y=h.stroke,v=h.tooltip,g=h.formatter,m=h.id,b=h.stackGroup,x=v.renderer,w=this.getStrokeWidth(this.strokeWidth),S=ac(a.formatDatum(s)),k=ac(l.formatDatum(u)),O=ac(p),D=S+": "+k,_=void 0;g&&(_=o.call(g,{datum:c,fill:f,stroke:y,strokeWidth:w,highlighted:!1,xKey:n,yKey:r,seriesId:m,stackGroup:b}));var C=null!==(e=null==_?void 0:_.fill)&&void 0!==e?e:f,M={title:O,backgroundColor:C,content:D};return x?en(x({datum:c,xKey:n,xValue:s,xName:d,yKey:r,yValue:u,yName:p,color:C,title:O,seriesId:m,stackGroup:b}),M):en(M)},e.prototype.getLegendData=function(){var t,e=this,n=e.id,r=e.data,i=e.xKey,o=e.yKey,a=e.yName,l=e.legendItemName,s=e.fill,u=e.stroke,c=e.fillOpacity,h=e.strokeOpacity,d=e.visible;if(!(e.showInLegend&&(null==r?void 0:r.length)&&i&&o))return[];var p=[];return p.push({legendType:"category",id:n,itemId:o,seriesId:n,enabled:d,label:{text:null!==(t=null!=l?l:a)&&void 0!==t?t:o},legendItemName:l,marker:{fill:s,stroke:u,fillOpacity:c,strokeOpacity:h}}),p},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.datumSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,l=this.getDirectionStartingValues(i),s=l.startingX,u=l.startingY;i.forEach((function(t){t.each((function(t,e){var n,i=s,o=0,l=e.y,c=e.height;r.getBarDirection()===Te.Y&&(i=e.x,o=e.width,l=u,c=0);var h=[{from:i,to:e.x},{from:o,to:e.width},{from:l,to:e.y},{from:c,to:e.height}];null===(n=r.ctx.animationManager)||void 0===n||n.animateMany(r.id+"_empty-update-ready_"+t.id,h,{duration:a,ease:Lr,onUpdate:function(e){var n=Mc(e,4),r=n[0],i=n[1],o=n[2],a=n[3];t.x=r,t.width=i,t.y=o,t.height=a}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,r=t.datumSelections;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),r.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.animateWaitingUpdateReady=function(t){var e,n,r,i,o,a=this,l=t.datumSelections,s=t.labelSelections,u=this.processedData,c=null===(e=null==u?void 0:u.reduced)||void 0===e?void 0:e.diff;if(null==c?void 0:c.changed){var h=null!==(r=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==r?r:1e3,d=h;(c.added.length>0||c.removed.length>0)&&(d=Math.floor(h/2));var p=this.getDirectionStartingValues(l),f=p.startingX,y=p.startingY,v=null===(o=null===(i=this.processedData)||void 0===i?void 0:i.defs.keys)||void 0===o?void 0:o[0],g={};c.added.forEach((function(t){g[t[0]]=!0}));var m={};c.removed.forEach((function(t){m[t[0]]=!0}));var b=this.id+"_"+Math.random(),x=this.id+"_"+Math.random();l.forEach((function(t){t.each((function(e,n){var r,i=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:e.y,to:n.y},{from:e.height,to:n.height}],o=c.removed.length>0?d:0,l=d,s=!1,u=v?n.xValue:"",h=f,p=0,x=n.y,w=n.height;a.getBarDirection()===Te.Y&&(h=n.x,p=n.width,x=y,w=0);var S=void 0!==u&&void 0!==g[u],k=void 0!==u&&void 0!==m[u];S?(i=[{from:h,to:n.x},{from:p,to:n.width},{from:x,to:n.y},{from:w,to:n.height}],l=d):k&&(i=[{from:n.x,to:h},{from:n.width,to:p},{from:n.y,to:x},{from:n.height,to:w}],o=0,l=d,s=!0),null===(r=a.ctx.animationManager)||void 0===r||r.animateManyWithThrottle(a.id+"_waiting-update-ready_"+e.id,i,{delay:o,duration:l,ease:Lr,throttleId:a.id+"_rects",throttleGroup:b,onUpdate:function(t){var n=Mc(t,4),r=n[0],i=n[1],o=n[2],a=n[3];e.x=r,e.width=i,e.y=o,e.height=a},onComplete:function(){s&&t.cleanup()}})}))})),s.forEach((function(t){t.each((function(t){var e;t.opacity=0,null===(e=a.ctx.animationManager)||void 0===e||e.animateWithThrottle(a.id+"_waiting-update-ready_"+t.id,{from:0,to:1,delay:h,duration:200,throttleId:a.id+"_labels",throttleGroup:x,onUpdate:function(e){t.opacity=e}})}))}))}else l.forEach((function(t){a.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height})),t.cleanup()},e.prototype.getDirectionStartingValues=function(t){var e=this.getBarDirection()===Te.Y,n=this.axes[Te.X],r=this.axes[Te.Y],i=(null==n?void 0:n.scale)instanceof ra,o=(null==r?void 0:r.scale)instanceof ra,a=1/0,l=0;return r&&e&&(o?l=r.scale.convert(0):t.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(l=Math.max(l,e.height+e.y))}))}))),n&&!e&&(i?a=n.scale.convert(0):t.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(a=Math.min(a,e.x))}))}))),{startingX:a,startingY:l}},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.prototype.getBarDirection=function(){return Te.X},e.prototype.getCategoryDirection=function(){return Te.Y},e.className="BarSeries",e.type="bar",Dc([Kt(he)],e.prototype,"fill",void 0),Dc([Kt(he)],e.prototype,"stroke",void 0),Dc([Kt(fe(0,1))],e.prototype,"fillOpacity",void 0),Dc([Kt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Dc([Kt(Me)],e.prototype,"lineDash",void 0),Dc([Kt(fe(0))],e.prototype,"lineDashOffset",void 0),Dc([Kt(te)],e.prototype,"formatter",void 0),Dc([Kt(ie)],e.prototype,"xKey",void 0),Dc([Kt(ie)],e.prototype,"xName",void 0),Dc([Kt(ie)],e.prototype,"yKey",void 0),Dc([Kt(ie)],e.prototype,"yName",void 0),Dc([Kt(ie)],e.prototype,"stackGroup",void 0),Dc([Kt(ye())],e.prototype,"normalizedTo",void 0),Dc([Kt(fe(0))],e.prototype,"strokeWidth",void 0),e}(tc));var Tc,Ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ac=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},jc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Fc=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Bc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},zc=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Wc=["count","sum","mean"],Gc=Vt((function(t){return Wc.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean");!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(Tc||(Tc={}));var Xc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Ic(e,t),Ac([Kt(te)],e.prototype,"formatter",void 0),e}(Ja),Kc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Ic(e,t),Ac([Kt(te)],e.prototype,"renderer",void 0),e}(Zn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[En.EXACT_SHAPE_MATCH]})||this;return n.label=new Xc,n.tooltip=new Kc,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.xKey=void 0,n.areaPlot=!1,n.bins=void 0,n.aggregation="count",n.binCount=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0,n.strokeWidth=1,n.shadow=void 0,n.calculatedBins=[],n.datumSelectionGarbageCollection=!1,n.label.enabled=!1,n}Ic(e,t),e.prototype.deriveBins=function(t){if(void 0===this.binCount){var e=oa(t[0],t[1],10),n=la(t[0],t[1],10),r=e[0];return zc([[r-n,r]],Bc(e.map((function(t){return[t,t+n]}))))}return this.calculateNiceBins(t,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var n=Math.floor(t[0]),r=t[1],i=e||1,o=this.calculateNiceStart(n,r,i),a=o.start,l=o.binSize;return this.getBins(a,r,l,i)},e.prototype.getBins=function(t,e,n,r){for(var i=[],o=0;o<r;o++){var a=Math.round(10*(t+o*n))/10,l=Math.round(10*(t+(o+1)*n))/10;o===r-1&&(l=Math.max(l,e)),i[o]=[a,l]}return i},e.prototype.calculateNiceStart=function(t,e,n){var r=Math.abs(e-t)/n,i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return{start:Math.floor(t/o)*o,binSize:r}},e.prototype.processData=function(t){var e;return jc(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,p,f=this;return Fc(this,(function(y){switch(y.label){case 0:return r=(n=this).xKey,i=n.yKey,o=n.data,a=n.areaPlot,l=n.aggregation,s=[Bn(this,r,!0),gn],i?(u=un(this,"groupCount"),"count"===l||("sum"===l?u={id:"groupAgg",scopes:[this.id],type:"aggregate",matchGroupIds:v?[v]:void 0,aggregateFunction:function(t){return sn(t)},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e}}:"mean"===l&&(u=function(t,e,n){return{id:e,scopes:[t.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:function(t){return sn(t)},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0,-1]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e[2]++,e},finalFunction:function(t){void 0===t&&(t=[0,0,0]);var e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}}}(this,"groupAgg"))),a&&(u=cn(this,"groupAgg",u)),s.push(zn(this,i,!0,{invalidValue:void 0}),u)):(u=un(this,"groupAgg"),a&&(u=cn(this,"groupAgg",u)),s.push(u)),c=function(t){var e,n=Ze(t.domain.keys[0]);if(0===n.length)return t.domain.groups=[],function(){return[]};var r=null!==(e=f.bins)&&void 0!==e?e:f.deriveBins(n),i=r.length;return f.calculatedBins=zc([],Bc(r)),function(t){for(var e=t.keys[0],n=0;n<i;n++){var o=r[n];if(e>=o[0]&&e<o[1])return o;if(n===i-1&&e<=o[1])return o}return[]}},!(null===(e=this.ctx.animationManager)||void 0===e?void 0:e.skipAnimations)&&this.processedData&&s.push(Dn(this.processedData,!1)),[4,t.request(this.id,null!=o?o:[],{props:s,dataVisible:this.visible,groupByFn:c})];case 1:return h=y.sent(),d=h.dataModel,p=h.processedData,this.dataModel=d,this.processedData=p,this.animationState.transition("updateData"),[2]}var v}))}))},e.prototype.getDomain=function(t){var e,n,r,i,o=this.processedData,a=this.dataModel;if(!o||!a)return[];var l=a.getDomain(this,"groupAgg","aggregate",o),s=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],u=null===(n=this.calculatedBins)||void 0===n?void 0:n[(null!==(i=null===(r=this.calculatedBins)||void 0===r?void 0:r.length)&&void 0!==i?i:0)-1][1];return t===Te.X?Ze([s,u]):Ze(l)},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new Ju(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new $u(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.createNodeData=function(){var t;return jc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C,M=this;return Fc(this,(function(E){return n=(e=this).axes,r=e.processedData,i=e.ctx.callbackCache,o=n[Te.X],a=n[Te.Y],this.visible&&o&&a&&r&&"grouped"===r.type?(l=o.scale,s=a.scale,c=(u=this).fill,h=u.stroke,d=u.strokeWidth,p=u.id,f=u.yKey,y=void 0===f?"":f,v=u.xKey,g=void 0===v?"":v,m=[],b=function(t){return String(t.value)},x=this.label,w=x.formatter,S=void 0===w?b:w,k=x.fontStyle,O=x.fontWeight,D=x.fontSize,_=x.fontFamily,C=x.color,r.data.forEach((function(t){var e,n=t.aggValues,r=Bc(void 0===n?[[0,0]]:n,1),o=Bc(r[0],2),a=o[0],u=o[1],f=t.datum,v=t.datum.length,b=t.keys,x=Bc(t.keys,2),w=x[0],E=x[1],P=l.convert(w),N=l.convert(E),L=a+u,R=s.convert(0),T=s.convert(L),I=N-P,A=Math.abs(T-R),j=0!==L?{text:null!==(e=i.call(S,{value:L,seriesId:p}))&&void 0!==e?e:String(L),fontStyle:k,fontWeight:O,fontSize:D,fontFamily:_,fill:C,x:P+I/2,y:T+A/2}:void 0,F={x:P+I/2,y:T+A/2};m.push({series:M,datum:f,aggregatedValue:L,frequency:v,domain:b,yKey:y,xKey:g,x:P,y:T,xValue:P,yValue:T,width:I,height:A,nodeMidPoint:F,fill:c,stroke:h,strokeWidth:d,label:j})})),[2,[{itemId:null!==(t=this.yKey)&&void 0!==t?t:this.id,nodeData:m,labelData:m}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new bc},e.prototype.updateDatumSelection=function(t){return jc(this,void 0,void 0,(function(){var e;return Fc(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=Tc.Bin,t.crisp=!0}),(function(t){return t.domain.join("_")}))]}))}))},e.prototype.updateDatumNodes=function(t){return jc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p=this;return Fc(this,(function(f){return e=t.datumSelection,n=t.isHighlight,i=(r=this).fillOpacity,o=r.strokeOpacity,a=r.shadow,l=r.highlightStyle.item,s=l.fill,u=l.fillOpacity,c=void 0===u?i:u,h=l.stroke,d=l.strokeWidth,e.each((function(t,e,r){var l,u,f=n&&void 0!==d?d:e.strokeWidth,y=n?c:i;t.fill=null!==(l=n?s:void 0)&&void 0!==l?l:e.fill,t.stroke=null!==(u=n?h:void 0)&&void 0!==u?u:e.stroke,t.fillOpacity=y,t.strokeOpacity=o,t.strokeWidth=f,t.lineDash=p.lineDash,t.lineDashOffset=p.lineDashOffset,t.fillShadow=a,t.zIndex=n?Jn.highlightedZIndex:r,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return jc(this,void 0,void 0,(function(){var e;return Fc(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=Tc.Label,t.pointerEvents=L.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return jc(this,void 0,void 0,(function(){var e,n;return Fc(this,(function(r){return e=t.labelSelection,n=this.label.enabled,e.each((function(t,e){var r=e.label;r&&n?(t.text=r.text,t.x=r.x,t.y=r.y,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.fill=r.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey,r=void 0===n?"":n,i=this.axes,o=i[Te.X],a=i[Te.Y];if(!e||!o||!a)return"";var l=this,s=l.xName,u=l.yName,c=l.fill,h=l.tooltip,d=l.aggregation,p=l.id,f=h.renderer,y=t.aggregatedValue,v=t.frequency,g=t.domain,m=Bc(t.domain,2),b=m[0],x=m[1],w=ac(null!=s?s:e)+": "+o.formatDatum(b)+" - "+o.formatDatum(x),S=r?"<b>"+ac(null!=u?u:r)+" ("+d+")</b>: "+a.formatDatum(y)+"<br>":"",k={title:w,backgroundColor:c,content:S+="<b>Frequency</b>: "+v};return f?en(f({datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:e,xValue:g,xName:s,yKey:r,yValue:y,yName:u,color:c,title:w,seriesId:p}),k):en(k)},e.prototype.getLegendData=function(){var t,e=this,n=e.id,r=e.data,i=e.xKey,o=e.yName,a=e.visible,l=e.fill,s=e.stroke,u=e.fillOpacity,c=e.strokeOpacity;return r&&0!==r.length?[{legendType:"category",id:n,itemId:i,seriesId:n,enabled:a,label:{text:null!==(t=null!=o?o:i)&&void 0!==t?t:"Frequency"},marker:{fill:null!=l?l:"rgba(0, 0, 0, 0)",stroke:null!=s?s:"rgba(0, 0, 0, 0)",fillOpacity:u,strokeOpacity:c}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.datumSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,l=0;i.forEach((function(t){return t.each((function(t,e){l=Math.max(l,e.height+e.y)}))})),i.forEach((function(t){t.each((function(t,e){var n;null===(n=r.ctx.animationManager)||void 0===n||n.animateMany(r.id+"_empty-update-ready_"+t.id,[{from:l,to:e.y},{from:0,to:e.height}],{duration:a,ease:Lr,onUpdate:function(n){var r=Bc(n,2),i=r[0],o=r[1];t.y=i,t.height=o,t.x=e.x,t.width=e.width}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.datumSelections.forEach((function(t){e.resetSelectionRects(t)}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,r=t.datumSelections;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),r.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.animateWaitingUpdateReady=function(t){var e,n,r,i=this,o=t.datumSelections,a=t.labelSelections,l=this.processedData,s=null===(e=null==l?void 0:l.reduced)||void 0===e?void 0:e.diff;if(null==s?void 0:s.changed){var u=null!==(r=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==r?r:1e3,c=u;s.added.length>0&&s.removed.length>0?c=Math.floor(u/3):(s.added.length>0||s.removed.length>0)&&(c=Math.floor(u/2));var h=0;o.forEach((function(t){return t.each((function(t,e){h=Math.max(h,e.height+e.y)}))}));var d={};s.added.forEach((function(t){d[t.join("_")]=!0}));var p={};s.removed.forEach((function(t){p[t.join("_")]=!0})),o.forEach((function(t){t.each((function(e,n){var r,o=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:e.y,to:n.y},{from:e.height,to:n.height}],a=s.removed.length>0?c:0,l=!1,u=n.domain.join("_"),f=h;void 0!==u&&void 0!==d[u]?(o=[{from:n.x,to:n.x},{from:n.width,to:n.width},{from:f,to:n.y},{from:0,to:n.height}],a+=c):void 0!==u&&void 0!==p[u]&&(o=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:n.y,to:f},{from:n.height,to:0}],a=0,l=!0),null===(r=i.ctx.animationManager)||void 0===r||r.animateMany(i.id+"_waiting-update-ready_"+e.id,o,{disableInteractions:!0,delay:a,duration:c,ease:Lr,repeat:0,onUpdate:function(t){var n=Bc(t,4),r=n[0],i=n[1],o=n[2],a=n[3];e.x=r,e.width=i,e.y=o,e.height=a},onComplete:function(){l&&t.cleanup()}})}))})),a.forEach((function(t){t.each((function(t){var e;t.opacity=0,null===(e=i.ctx.animationManager)||void 0===e||e.animate(i.id+"_waiting-update-ready_"+t.id,{from:0,to:1,delay:u,duration:200,ease:Er,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))}else o.forEach((function(t){i.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}))},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",Ac([Kt(he)],e.prototype,"fill",void 0),Ac([Kt(he)],e.prototype,"stroke",void 0),Ac([Kt(fe(0,1))],e.prototype,"fillOpacity",void 0),Ac([Kt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Ac([Kt(Me)],e.prototype,"lineDash",void 0),Ac([Kt(fe(0))],e.prototype,"lineDashOffset",void 0),Ac([Kt(ie)],e.prototype,"xKey",void 0),Ac([Kt(ee)],e.prototype,"areaPlot",void 0),Ac([Kt(Ut())],e.prototype,"bins",void 0),Ac([Kt(Gc)],e.prototype,"aggregation",void 0),Ac([Kt(ye(0))],e.prototype,"binCount",void 0),Ac([Kt(ie)],e.prototype,"xName",void 0),Ac([Kt(ie)],e.prototype,"yKey",void 0),Ac([Kt(ie)],e.prototype,"yName",void 0),Ac([Kt(fe(0))],e.prototype,"strokeWidth",void 0)}(tc);var Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yc=function(){return(Yc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Hc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Uc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Zc=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},qc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Vc(e,t),Hc([Kt(te)],e.prototype,"formatter",void 0),e}(Ja),$c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return Vc(e,t),Hc([Kt(te)],e.prototype,"renderer",void 0),Hc([Kt(ie)],e.prototype,"format",void 0),e}(Zn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,hasMarkers:!0,pickModes:[En.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,En.NEAREST_NODE,En.EXACT_SHAPE_MATCH]})||this;n.marker=new ec,n.label=new Jc,n.title=void 0,n.stroke="#874349",n.lineDash=[0],n.lineDashOffset=0,n.strokeWidth=2,n.strokeOpacity=1,n.tooltip=new $c,n.xKey=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0;var r=n,i=r.marker,o=r.label;return i.fill="#c16068",i.stroke="#874349",o.enabled=!1,n}Vc(e,t),e.prototype.processData=function(t){return Uc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f;return Zc(this,(function(y){switch(y.label){case 0:return n=(e=this).axes,r=e.xKey,i=void 0===r?"":r,o=e.yKey,a=void 0===o?"":o,l=i&&a&&this.data?this.data:[],s=n[Te.X],u=n[Te.Y],c=(null==s?void 0:s.scale)instanceof ra,h=(null==u?void 0:u.scale)instanceof ra,[4,t.request(this.id,null!=l?l:[],{props:[zn(this,i,c,{id:"xValue"}),zn(this,a,h,{id:"yValue",invalidValue:void 0})],dataVisible:this.visible})];case 1:return d=y.sent(),p=d.dataModel,f=d.processedData,this.dataModel=p,this.processedData=f,[2]}}))}))},e.prototype.getDomain=function(t){var e=this.axes,n=this.dataModel,r=this.processedData;if(!r||!n)return[];var i=e[Te.X],o=e[Te.Y],a=n.resolveProcessedDataDefById(this,"xValue");if(t===Te.X){var l=n.getDomain(this,"xValue","value",r);return"value"===(null==a?void 0:a.def.type)&&"category"===a.def.valueType?l:this.fixNumericExtent(Za(l),i)}l=n.getDomain(this,"yValue","value",r);return this.fixNumericExtent(l,o)},e.prototype.createNodeData=function(){var t,e,n,r,i;return Uc(this,void 0,void 0,(function(){var o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C,M,E,P,N,L,R,T,I,A,j,F,B,z,W,G,X,K,V,Y,H;return Zc(this,(function(U){if(a=(o=this).processedData,l=o.dataModel,s=o.axes,u=o.marker,c=u.enabled,h=u.size,d=u.strokeWidth,p=o.ctx.callbackCache,f=s[Te.X],y=s[Te.Y],!(a&&l&&f&&y))return[2,[]];for(g=(v=this).label,m=v.yKey,b=void 0===m?"":m,x=v.xKey,w=void 0===x?"":x,S=v.id,k=f.scale,O=y.scale,D=(null!==(t=k.bandwidth)&&void 0!==t?t:0)/2,_=(null!==(e=O.bandwidth)&&void 0!==e?e:0)/2,C=new Array(a.data.length),M=c?h:0,E=l.resolveProcessedDataIndexById(this,"xValue").index,P=l.resolveProcessedDataIndexById(this,"yValue").index,N=!0,L=void 0,R=void 0,T=0,I=0;I<a.data.length;I++)if(A=null!=R?R:a.data[I],j=A.datum,F=A.values,B=F[E],void 0===(z=F[P]))L=void 0,N=!0;else{if(W=k.convert(B)+D,isNaN(W)){L=void 0,N=!0,R=void 0;continue}if(G=(null!==(n=k.bandwidth)&&void 0!==n?n:.5*h+(null!=d?d:0))+1,R=void 0===(null===(r=a.data[I+1])||void 0===r?void 0:r.values[P])?void 0:a.data[I+1],X=null===(i=a.data[I+1])||void 0===i?void 0:i.values[E],K=f.inRangeEx(W,0,G),V=R&&f.inRangeEx(k.convert(X)+D,0,G),-1===K&&-1===V){N=!0;continue}if(1===K&&1===L){N=!0;continue}L=K,Y=O.convert(z)+_,H=void 0,g.formatter&&(H=p.call(g.formatter,{value:z,seriesId:S})),void 0!==H||("number"==typeof z&&isFinite(z)?H=z.toFixed(2):z&&(H=String(z))),C[T++]={series:this,datum:j,yKey:b,xKey:w,point:{x:W,y:Y,moveTo:N,size:M},nodeMidPoint:{x:W,y:Y},yValue:z,xValue:B,label:H?{text:H,fontStyle:g.fontStyle,fontWeight:g.fontWeight,fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:"center",textBaseline:"bottom",fill:g.color}:void 0},N=!1}return C.length=T,[2,[{itemId:b,nodeData:C,labelData:C}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return Uc(this,void 0,void 0,(function(){var e,n,r,i,o;return Zc(this,(function(a){return e=t.nodeData,n=t.markerSelection,r=this.marker,i=r.shape,o=r.enabled,e=i&&o?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return Uc(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O;return Zc(this,(function(D){return n=t.markerSelection,r=t.isHighlight,o=(i=this).marker,a=i.marker.fillOpacity,l=i.xKey,s=void 0===l?"":l,u=i.yKey,c=void 0===u?"":u,h=i.stroke,d=i.strokeOpacity,p=i.highlightStyle.item,f=p.fill,y=p.fillOpacity,v=void 0===y?a:y,g=p.stroke,m=p.strokeWidth,b=i.id,x=i.ctx.callbackCache,w=o.size,S=o.formatter,k=null!==(e=o.strokeWidth)&&void 0!==e?e:this.strokeWidth,O="function"==typeof o.shape,n.each((function(t,e){var n,i,l,u,p,y,D,_=r&&void 0!==f?f:o.fill,C=r?v:a,M=r&&void 0!==g?g:null!==(n=o.stroke)&&void 0!==n?n:h,E=r&&void 0!==m?m:k,P=void 0;S&&(P=x.call(S,{datum:e.datum,xKey:s,yKey:c,fill:_,stroke:M,strokeWidth:E,size:w,highlighted:r,seriesId:b})),t.fill=null!==(i=null==P?void 0:P.fill)&&void 0!==i?i:_,t.stroke=null!==(l=null==P?void 0:P.stroke)&&void 0!==l?l:M,t.strokeWidth=null!==(u=null==P?void 0:P.strokeWidth)&&void 0!==u?u:E,t.fillOpacity=null!=C?C:1,t.strokeOpacity=null!==(y=null!==(p=o.strokeOpacity)&&void 0!==p?p:d)&&void 0!==y?y:1,t.size=null!==(D=null==P?void 0:P.size)&&void 0!==D?D:w,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),O&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),r||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return Uc(this,void 0,void 0,(function(){var e,n,r,i,o;return Zc(this,(function(a){return e=t.labelData,n=t.labelSelection,r=this.marker,i=r.shape,o=r.enabled,e=i&&o?e:[],[2,n.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return Uc(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s;return Zc(this,(function(u){return e=t.labelSelection,n=this.label,r=n.enabled,i=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;e&&u&&r?(t.fontStyle=i,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new Ju(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new $u(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r=this.xKey,i=this.yKey,o=this.axes,a=o[Te.X],l=o[Te.Y];if(!(r&&i&&a&&l))return"";var s=this,u=s.xName,c=s.yName,h=s.tooltip,d=s.marker,p=s.id,f=h.renderer,y=h.format,v=t.datum,g=t.xValue,m=t.yValue,b=a.formatDatum(g),x=l.formatDatum(m),w=ac(null!==(e=this.title)&&void 0!==e?e:c),S=ac(b+": "+x),k=d.formatter,O=d.fill,D=d.stroke,_=d.strokeWidth,C=d.size,M=null!=_?_:this.strokeWidth,E=void 0;k&&(E=k({datum:v,xKey:r,yKey:i,fill:O,stroke:D,strokeWidth:M,size:C,highlighted:!1,seriesId:p}));var P=null!==(n=null==E?void 0:E.fill)&&void 0!==n?n:O,N={title:w,backgroundColor:P,content:S};if(y||f){var L={datum:v,xKey:r,xValue:g,xName:u,yKey:i,yValue:m,yName:c,title:w,color:P,seriesId:p};if(y)return en({content:ic(y,L)},N);if(f)return en(f(L),N)}return en(N)},e.prototype.getLegendData=function(){var t,e,n,r,i,o,a,l=this,s=l.id,u=l.data,c=l.xKey,h=l.yKey,d=l.yName,p=l.visible,f=l.title,y=l.marker,v=l.stroke,g=l.strokeOpacity;return(null==u?void 0:u.length)&&c&&h?[{legendType:"category",id:s,itemId:h,seriesId:s,enabled:p,label:{text:null!==(t=null!=f?f:d)&&void 0!==t?t:h},marker:{shape:y.shape,fill:null!==(e=y.fill)&&void 0!==e?e:"rgba(0, 0, 0, 0)",stroke:null!==(r=null!==(n=y.stroke)&&void 0!==n?n:v)&&void 0!==r?r:"rgba(0, 0, 0, 0)",fillOpacity:null!==(i=y.fillOpacity)&&void 0!==i?i:1,strokeOpacity:null!==(a=null!==(o=y.strokeOpacity)&&void 0!==o?o:g)&&void 0!==a?a:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,r=t.labelSelections,i=t.contextData,o=t.paths;i.forEach((function(t,i){var a,l,s,u=t.nodeData,c=qc(o[i],1)[0],h=c.path,d=[0],p=u.reduce((function(t,e,n){if(0===n)return t;var r=u[n-1];if(isNaN(e.point.x)||isNaN(e.point.y)||isNaN(r.point.x)||isNaN(r.point.y))return d.push(t),t;var i=Math.sqrt(Math.pow(e.point.x-r.point.x,2)+Math.pow(e.point.y-r.point.y,2));return d.push(t+i),t+i}),0);c.fill=void 0,c.lineJoin="round",c.pointerEvents=L.None,c.stroke=e.stroke,c.strokeWidth=e.getStrokeWidth(e.strokeWidth),c.strokeOpacity=e.strokeOpacity,c.lineDash=e.lineDash,c.lineDashOffset=e.lineDashOffset;var f=null!==(l=null===(a=e.ctx.animationManager)||void 0===a?void 0:a.defaultOptions.duration)&&void 0!==l?l:1e3,y={from:0,to:p};null===(s=e.ctx.animationManager)||void 0===s||s.animate(e.id+"_empty-update-ready",Yc(Yc({},y),{duration:f,onUpdate:function(t){h.clear({trackChanges:!0}),u.forEach((function(e,n){if(d[n]<=t)e.point.moveTo?h.moveTo(e.point.x,e.point.y):h.lineTo(e.point.x,e.point.y);else if(n>0&&d[n-1]<t){var r=u[n-1].point,i=e.point,o=d[n]-d[n-1],a=(o-(d[n]-t))/o,l=(1-a)*r.x+a*i.x,s=(1-a)*r.y+a*i.y;e.point.moveTo?h.moveTo(l,s):h.lineTo(l,s)}})),c.checkPathDirty()}})),n[i].each((function(t,n,r){var i,o,a,l,s=p>0?d[r]/p*f:0,u=e.animateFormatter(n),c=null!==(o=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0;null===(a=e.ctx.animationManager)||void 0===a||a.animate(e.id+"_empty-update-ready_"+t.id,Yc(Yc({},y),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),r[i].each((function(t,n,r){var i,o=d[r]/p*f;null===(i=e.ctx.animationManager)||void 0===i||i.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:o,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){this.resetMarkersAndPaths(t)},e.prototype.animateReadyResize=function(t){var e;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),this.resetMarkersAndPaths(t)},e.prototype.resetMarkersAndPaths=function(t){var e=this,n=t.markerSelections,r=t.contextData,i=t.paths;r.forEach((function(t,r){var o=t.nodeData,a=qc(i[r],1)[0],l=a.path;a.stroke=e.stroke,a.strokeWidth=e.getStrokeWidth(e.strokeWidth),a.strokeOpacity=e.strokeOpacity,a.lineDash=e.lineDash,a.lineDashOffset=e.lineDashOffset,l.clear({trackChanges:!0}),o.forEach((function(t){t.point.moveTo?l.moveTo(t.point.x,t.point.y):l.lineTo(t.point.x,t.point.y)})),a.checkPathDirty(),n[r].each((function(t,n){var r,i,o,a=e.animateFormatter(n),l=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))}))},e.prototype.animateFormatter=function(t){var e,n,r=this,i=r.marker,o=r.xKey,a=void 0===o?"":o,l=r.yKey,s=void 0===l?"":l,u=r.stroke,c=r.id,h=r.ctx.callbackCache,d=i.size,p=i.formatter,f=i.fill,y=null!==(e=i.stroke)&&void 0!==e?e:u,v=null!==(n=i.strokeWidth)&&void 0!==n?n:this.strokeWidth,g=void 0;return p&&(g=h.call(p,{datum:t.datum,xKey:a,yKey:s,fill:f,stroke:y,strokeWidth:v,size:d,highlighted:!1,seriesId:c})),g},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",Hc([Kt(ie)],e.prototype,"title",void 0),Hc([Kt(he)],e.prototype,"stroke",void 0),Hc([Kt(Me)],e.prototype,"lineDash",void 0),Hc([Kt(fe(0))],e.prototype,"lineDashOffset",void 0),Hc([Kt(fe(0))],e.prototype,"strokeWidth",void 0),Hc([Kt(fe(0,1))],e.prototype,"strokeOpacity",void 0),Hc([Kt(ie)],e.prototype,"xKey",void 0),Hc([Kt(ie)],e.prototype,"xName",void 0),Hc([Kt(ie)],e.prototype,"yKey",void 0),Hc([Kt(ie)],e.prototype,"yName",void 0)}(tc);var Qc=function(){function t(){this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map((function(t){return zt.fromString(t)}))}return t.prototype.update=function(){var t=this.domain,e=this.range;t.length<2&&(U.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(var n=1;n<t.length;n++){if(t[n-1]>=t[n]){U.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((function(t,e){return t-e}));break}}var r=e.length<t.length;if(r||t.length>2&&e.length>t.length)if(U.warnOnce("Number of elements in `colorRange` needs to match the number of elements in `colorDomain`."),r)for(n=e.length;n<t.length;n++)e.push("black");else e.splice(t.length);this.parsedRange=this.range.map((function(t){return zt.fromString(t)}))},t.prototype.convert=function(t){var e,n,r=this.domain,i=this.range,o=this.parsedRange,a=r[0],l=r[r.length-1],s=i[0],u=i[i.length-1];if(t<=a)return s;if(t>=l)return u;if(2===r.length){var c=(t-a)/(l-a),h=1/(i.length-1);n=(c-(e=i.length<=2?0:Math.min(Math.floor(c*(i.length-1)),i.length-2))*h)/h}else{for(e=0;e<r.length-2&&!(t<r[e+1]);e++);var d=r[e];n=(t-d)/(r[e+1]-d)}return Cr(o[e],o[e+1])(n)},t}(),th=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eh=function(){return(eh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},nh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},rh=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},ih=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},oh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ah=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},lh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return th(e,t),nh([Kt(te)],e.prototype,"formatter",void 0),e}(Ja),uh=function(t){function e(e,n,r,i,o,a){var l=t.call(this,n,r,i,o,a)||this;return l.sizeKey=e,l}return th(e,t),e}(qu),ch=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return th(e,t),e}(uh),hh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return th(e,t),e}(uh),dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return th(e,t),nh([Kt(te)],e.prototype,"renderer",void 0),e}(Zn);!function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[En.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,En.NEAREST_NODE,En.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return n.sizeScale=new Nl,n.marker=new ec,n.label=new sh,n.title=void 0,n.labelKey=void 0,n.xName=void 0,n.yName=void 0,n.sizeName="Size",n.labelName="Label",n.xKey=void 0,n.yKey=void 0,n.sizeKey=void 0,n.colorKey=void 0,n.colorName="Color",n.colorDomain=void 0,n.colorRange=["#ffff00","#00ff00","#0000ff"],n.colorScale=new Qc,n.tooltip=new dh,n.label.enabled=!1,n}th(e,t),e.prototype.processData=function(t){var e,n;return rh(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k,O,D,_,C;return ih(this,(function(M){switch(M.label){case 0:return i=(r=this).xKey,o=void 0===i?"":i,a=r.yKey,l=void 0===a?"":a,s=r.sizeKey,u=r.labelKey,c=r.axes,h=r.marker,d=r.data,p=c[Te.X],f=c[Te.Y],y=(null==p?void 0:p.scale)instanceof ra,v=(null==f?void 0:f.scale)instanceof ra,m=(g=this).colorScale,b=g.colorDomain,x=g.colorRange,w=g.colorKey,[4,t.request(this.id,null!=d?d:[],{props:ah(ah(ah([zn(this,o,y,{id:"xValue"}),zn(this,l,v,{id:"yValue"})],oh(s?[zn(this,s,!0,{id:"sizeValue"})]:[])),oh(w?[zn(this,w,!0,{id:"colorValue"})]:[])),oh(u?[zn(this,u,!1,{id:"labelValue"})]:[])),dataVisible:this.visible})];case 1:return S=M.sent(),k=S.dataModel,O=S.processedData,this.dataModel=k,this.processedData=O,s&&(D=k.resolveProcessedDataIndexById(this,"sizeValue").index,_=null!==(e=O.domain.values[D])&&void 0!==e?e:[],this.sizeScale.domain=h.domain?h.domain:_),w&&(C=k.resolveProcessedDataIndexById(this,"colorValue").index,m.domain=null!==(n=null!=b?b:O.domain.values[C])&&void 0!==n?n:[],m.range=x,m.update()),[2]}}))}))},e.prototype.getDomain=function(t){var e=this.dataModel,n=this.processedData;if(!n||!e)return[];var r=t===Te.X?"xValue":"yValue",i=e.resolveProcessedDataDefById(this,r,"value"),o=e.getDomain(this,r,"value",n);if("value"===(null==i?void 0:i.def.type)&&"category"===(null==i?void 0:i.def.valueType))return o;var a=this.axes[t];return this.fixNumericExtent(Za(o),a)},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new ch(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new hh(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.createNodeData=function(){var t,e,n,r,i,o;return rh(this,void 0,void 0,(function(){var a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,S,k,O,D,_,C,M,E,P,N,L,R,T,I,A,j,F,B,z,W,G,X,K,V,Y,H,U,Z,q,J,$,Q,tt,et;return ih(this,(function(nt){if(l=(a=this).visible,s=a.axes,u=a.yKey,c=void 0===u?"":u,h=a.xKey,d=void 0===h?"":h,p=a.label,f=a.labelKey,y=a.ctx.callbackCache,v=a.dataModel,g=a.processedData,m=s[Te.X],b=s[Te.Y],!(v&&g&&l&&m&&b))return[2,[]];x=v.resolveProcessedDataIndexById(this,"xValue").index,S=v.resolveProcessedDataIndexById(this,"yValue").index,k=this.sizeKey?v.resolveProcessedDataIndexById(this,"sizeValue").index:-1,O=this.colorKey?v.resolveProcessedDataIndexById(this,"colorValue").index:-1,D=this.labelKey?v.resolveProcessedDataIndexById(this,"labelValue").index:-1,C=(_=this).colorScale,M=_.sizeKey,E=_.colorKey,P=_.id,N=m.scale,L=b.scale,R=(null!==(t=N.bandwidth)&&void 0!==t?t:0)/2,T=(null!==(e=L.bandwidth)&&void 0!==e?e:0)/2,A=(I=this).sizeScale,j=I.marker,F=new Array(null!==(r=null===(n=this.processedData)||void 0===n?void 0:n.data.length)&&void 0!==r?r:0),A.range=[j.size,j.maxSize],B=p.getFont(),z=0;try{for(W=lh(null!==(i=g.data)&&void 0!==i?i:[]),G=W.next();!G.done;G=W.next())X=G.value,K=X.values,V=X.datum,Y=K[x],H=K[S],U=N.convert(Y)+R,Z=L.convert(H)+T,this.checkRangeXY(U,Z,m,b)&&(q=void 0,p.formatter&&(q=y.call(p.formatter,{value:H,seriesId:P,datum:V})),void 0===q&&(q=f?String(K[D]):""),J=w.getTextSize(q,B),$=M?A.convert(K[k]):j.size,Q=E?C.convert(K[O]):void 0,F[z++]={series:this,itemId:c,yKey:c,xKey:d,datum:V,xValue:Y,yValue:H,sizeValue:K[k],point:{x:U,y:Z,size:$},nodeMidPoint:{x:U,y:Z},fill:Q,label:eh({text:q},J)})}catch(t){tt={error:t}}finally{try{G&&!G.done&&(et=W.return)&&et.call(W)}finally{if(tt)throw tt.error}}return F.length=z,[2,[{itemId:null!==(o=this.yKey)&&void 0!==o?o:this.id,nodeData:F,labelData:F}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return rh(this,void 0,void 0,(function(){var e,n,r,i;return ih(this,(function(o){return e=t.nodeData,n=t.markerSelection,r=this.marker.enabled,this.marker.isDirty()&&n.clear(),i=r?e:[],[2,n.update(i)]}))}))},e.prototype.updateMarkerNodes=function(t){return rh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S,k;return ih(this,(function(O){return e=t.markerSelection,n=t.isHighlight,i=(r=this).marker,o=r.xKey,a=void 0===o?"":o,l=r.yKey,s=void 0===l?"":l,u=r.sizeScale,c=r.marker,h=c.fillOpacity,d=c.strokeOpacity,p=c.strokeWidth,f=r.highlightStyle.item,y=f.fill,v=f.fillOpacity,g=void 0===v?h:v,m=f.stroke,b=f.strokeWidth,x=r.id,w=r.ctx.callbackCache,S=i.formatter,u.range=[i.size,i.maxSize],k="function"==typeof i.shape,e.each((function(t,e){var r,o,l,u,c,f,v,O,D,_,C=n&&void 0!==y?y:null!==(r=e.fill)&&void 0!==r?r:i.fill,M=n?g:h,E=n&&void 0!==m?m:i.stroke,P=d,N=n&&void 0!==b?b:null!=p?p:1,L=null!==(l=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==l?l:0,R=void 0;S&&(R=w.call(S,{datum:e.datum,xKey:a,yKey:s,fill:C,stroke:E,strokeWidth:N,size:L,highlighted:n,seriesId:x})),t.fill=null!==(u=null==R?void 0:R.fill)&&void 0!==u?u:C,t.stroke=null!==(c=null==R?void 0:R.stroke)&&void 0!==c?c:E,t.strokeWidth=null!==(f=null==R?void 0:R.strokeWidth)&&void 0!==f?f:N,t.fillOpacity=null!=M?M:1,t.strokeOpacity=null!=P?P:1,t.translationX=null!==(O=null===(v=e.point)||void 0===v?void 0:v.x)&&void 0!==O?O:0,t.translationY=null!==(_=null===(D=e.point)||void 0===D?void 0:D.y)&&void 0!==_?_:0,t.visible=t.size>0,k&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,n;return rh(this,void 0,void 0,(function(){var r,i,o,a;return ih(this,(function(l){return r=t.labelSelection,i=this.label.enabled,o=i&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[],a=o.map((function(t){return eh(eh({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,r.update(a)]}))}))},e.prototype.updateLabelNodes=function(t){return rh(this,void 0,void 0,(function(){var e,n;return ih(this,(function(r){return e=t.labelSelection,n=this.label,e.each((function(t,e){var r,i,o,a;t.text=e.label.text,t.fill=n.color,t.x=null!==(i=null===(r=e.point)||void 0===r?void 0:r.x)&&void 0!==i?i:0,t.y=null!==(a=null===(o=e.point)||void 0===o?void 0:o.y)&&void 0!==a?a:0,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n,r,i,o,a,l,s=this.xKey,u=this.yKey,c=this.axes,h=c[Te.X],d=c[Te.Y];if(!(s&&u&&h&&d))return"";var p=this,f=p.marker,y=p.tooltip,v=p.xName,g=p.yName,m=p.sizeKey,b=p.sizeName,x=p.labelKey,w=p.labelName,S=p.id,k=p.ctx.callbackCache,O=f.stroke,D=null!==(e=t.fill)&&void 0!==e?e:f.fill,_=this.getStrokeWidth(null!==(n=f.strokeWidth)&&void 0!==n?n:1),C=this.marker.formatter,M=void 0;C&&(M=k.call(C,{datum:t,xKey:s,yKey:u,fill:D,stroke:O,strokeWidth:_,size:null!==(i=null===(r=t.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0,highlighted:!1,seriesId:S}));var E=null!==(a=null!==(o=null==M?void 0:M.fill)&&void 0!==o?o:D)&&void 0!==a?a:"gray",P=null!==(l=this.title)&&void 0!==l?l:g,N=t.datum,L=t.xValue,R=t.yValue,T=t.sizeValue,I=t.label.text,A=ac(h.formatDatum(L)),j=ac(d.formatDatum(R)),F="<b>"+ac(null!=v?v:s)+"</b>: "+A+"<br><b>"+ac(null!=g?g:u)+"</b>: "+j;m&&(F+="<br><b>"+ac(null!=b?b:m)+"</b>: "+ac(T)),x&&(F="<b>"+ac(null!=w?w:x)+"</b>: "+ac(I)+"<br>"+F);var B={title:P,backgroundColor:E,content:F},z=y.renderer;return z?en(z({datum:N,xKey:s,xValue:L,xName:v,yKey:u,yValue:R,yName:g,sizeKey:m,sizeName:b,labelKey:x,labelName:w,title:P,color:E,seriesId:S}),B):en(B)},e.prototype.getLegendData=function(){var t,e,n,r,i,o=this,a=o.id,l=o.data,s=o.xKey,u=o.yKey,c=o.yName,h=o.title,d=o.visible,p=o.marker,f=p.fill,y=p.stroke,v=p.fillOpacity,g=p.strokeOpacity;return(null==l?void 0:l.length)&&s&&u?[{legendType:"category",id:a,itemId:u,seriesId:a,enabled:d,label:{text:null!==(t=null!=h?h:c)&&void 0!==t?t:u},marker:{shape:p.shape,fill:null!==(n=null!==(e=p.fill)&&void 0!==e?e:f)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(i=null!==(r=p.stroke)&&void 0!==r?r:y)&&void 0!==i?i:"rgba(0, 0, 0, 0)",fillOpacity:null!=v?v:1,strokeOpacity:null!=g?g:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.markerSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3;i.forEach((function(t){t.each((function(t,e){var n,i,o,l,s=r.animateFormatter(t,e),u=null!==(i=null===(n=e.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0,c=null!==(o=null==s?void 0:s.size)&&void 0!==o?o:u;null===(l=r.ctx.animationManager)||void 0===l||l.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:c,duration:a,onUpdate:function(e){t.size=e}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.markerSelections.forEach((function(t){e.resetMarkers(t)}))},e.prototype.animateReadyHighlightMarkers=function(t){this.resetMarkers(t)},e.prototype.resetMarkers=function(t){var e=this;t.each((function(t,n){var r,i,o,a=e.animateFormatter(t,n),l=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))},e.prototype.animateFormatter=function(t,e){var n,r,i,o=this,a=o.xKey,l=void 0===a?"":a,s=o.yKey,u=void 0===s?"":s,c=o.marker.strokeWidth,h=o.id,d=o.ctx.callbackCache,p=this.marker.formatter,f=null!==(n=e.fill)&&void 0!==n?n:t.fill,y=t.stroke,v=null!=c?c:1,g=null!==(i=null===(r=e.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0,m=void 0;return p&&(m=d.call(p,{datum:e.datum,xKey:l,yKey:u,fill:f,stroke:y,strokeWidth:v,size:g,highlighted:!1,seriesId:h})),m},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",nh([Kt(ie)],e.prototype,"title",void 0),nh([Kt(ie)],e.prototype,"labelKey",void 0),nh([Kt(ie)],e.prototype,"xName",void 0),nh([Kt(ie)],e.prototype,"yName",void 0),nh([Kt(ie)],e.prototype,"sizeName",void 0),nh([Kt(ie)],e.prototype,"labelName",void 0),nh([Kt(ie)],e.prototype,"xKey",void 0),nh([Kt(ie)],e.prototype,"yKey",void 0),nh([Kt(ie)],e.prototype,"sizeKey",void 0),nh([Kt(ie)],e.prototype,"colorKey",void 0),nh([Kt(ie)],e.prototype,"colorName",void 0),nh([Kt(me)],e.prototype,"colorDomain",void 0),nh([Kt(de)],e.prototype,"colorRange",void 0)}(tc);var ph,fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yh=function(t){function e(e){return t.call(this,{moduleCtx:e,pickModes:[En.EXACT_SHAPE_MATCH]})||this}return fh(e,t),e.prototype.getLabelData=function(){return[]},e}(Jn),vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gh=function(){return(gh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},bh=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},xh=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},wh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return vh(e,t),mh([Kt(te)],e.prototype,"renderer",void 0),e}(Zn),kh=function(t){function e(e,n,r,i,o,a){var l=t.call(this,i,o,a)||this;return l.labelKey=e,l.sizeKey=n,l.colorKey=r,l}return vh(e,t),e}(Gn),Oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return vh(e,t),e}(kh),Dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return vh(e,t),e}(kh),_h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return vh(e,t),mh([Kt(fe(0))],e.prototype,"padding",void 0),e}(Ja),Ch=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrapping="on-space",e}return vh(e,t),mh([Kt(ze)],e.prototype,"wrapping",void 0),e}(Ja),Mh=function(){function t(){var t;this.style=((t=new Ja).color="white",t)}return mh([Kt(ie)],t.prototype,"key",void 0),mh([Kt(ie)],t.prototype,"name",void 0),mh([Kt(te)],t.prototype,"formatter",void 0),t}();!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(ph||(ph={}));var Eh=new Dt;function Ph(t,e){var n=e.fontStyle,r=e.fontWeight,i=e.fontSize,o=e.fontFamily;Eh.fontStyle=n,Eh.fontWeight=r,Eh.fontSize=i,Eh.fontFamily=o,Eh.text=t,Eh.x=0,Eh.y=0,Eh.textAlign="left",Eh.textBaseline="top";var a=Eh.computeBBox();return{width:a.width,height:a.height}}function Nh(t){if("string"==typeof t&&!zt.validColorString(t)){return U.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black"}return t}var Lh=function(){function t(){this.color="black"}return mh([Kt(he)],t.prototype,"color",void 0),t}(),Rh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new Lh,e}return vh(e,t),e}(Un);!function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.groupSelection=xi.select(n.contentGroup,et),n.highlightSelection=xi.select(n.highlightGroup,et),n.title=((e=new _h).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),n.subtitle=function(){var t=new _h;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),n.labels={large:function(){var t=new Ch;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Ch;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Ch;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),formatter:void 0,value:new Mh},n.nodePadding=2,n.nodeGap=0,n.labelKey="label",n.sizeKey="size",n.colorKey="color",n.colorDomain=[-5,5],n.colorRange=["#cb4b3f","#6acb64"],n.groupFill="#272931",n.groupStroke="black",n.groupStrokeWidth=1,n.tileStroke="black",n.tileStrokeWidth=1,n.gradient=!0,n.formatter=void 0,n.colorName="Change",n.rootName="Root",n.highlightGroups=!0,n.tileShadow=new Ml,n.labelShadow=new Ml,n.tooltip=new Sh,n.highlightStyle=new Rh,n}vh(e,t),e.prototype.getNodePaddingTop=function(t,e){var n,r=this.title,i=this.subtitle,o=this.nodePadding,a=t.label;if(t.isLeaf||!a||0===t.depth)return o;var l=t.depth>1?i:r,s=Ph(a,l);return l.fontSize>e.width/3||l.fontSize>e.height/3||s.height>=e.height?o:s.height+o+(null!==(n=l.padding)&&void 0!==n?n:0)},e.prototype.getNodePadding=function(t,e){var n=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}},e.prototype.squarify=function(t,e,n){if(void 0===n&&(n=new Map),e.width<=0||e.height<=0)return n;n.set(t,e);var r=this.getNodePadding(t,e),i=e.width-r.left-r.right,o=e.height-r.top-r.bottom;if(i<=0||o<=0||t.value<=0)return n;for(var a=0,l=0,s=1/0,u=t.value,c=t.children,h=new O(e.x+r.left,e.y+r.top,i,o),d=h.clone(),p=0;p<c.length;p++){var f=c[p].value,y=c[l].value,v=d.width<d.height;a+=f;var g=v?d.height:d.width,m=v?d.width:d.height,b=m*y/a,x=g*a/u,w=Math.max(b,x)/Math.min(b,x),S=Math.abs(1-w);if(S<s)s=S;else{x=g*(a-=f)/u;for(var k=v?d.x:d.y,D=l;D<p;D++){var _=c[D],C=v?k:d.x,M=v?d.y:k,E=m*_.value/a,P=new O(C,M,v?E:x,v?x:E);this.applyGap(h,P),this.squarify(_,P,n),u-=_.value,k+=E}v?(d.y+=x,d.height-=x):(d.x+=x,d.width-=x),l=p,a=0,s=1/0,p--}}var N=d.width<d.height,L=N?d.x:d.y;for(p=l;p<c.length;p++){C=N?L:d.x,M=N?d.y:L;var R=c[p].value/u,T=d.width*(N?R:1),I=d.height*(N?1:R);P=new O(C,M,T,I);this.applyGap(h,P),this.squarify(c[p],P,n),L+=N?T:I}return n},e.prototype.applyGap=function(t,e){var n=this.nodeGap/2,r=function(t){return{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height}},i=r(t),o=r(e);Object.keys(i).forEach((function(t){Ll(i[t],o[t])||e.shrink(n,t)}))},e.prototype.processData=function(){return bh(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h=this;return xh(this,(function(d){return this.data?(e=(t=this).data,n=t.sizeKey,r=t.labelKey,i=t.colorKey,o=t.colorDomain,a=t.colorRange,l=t.groupFill,s=this.labels.formatter,(u=new Qc).domain=o,u.range=a,u.update(),c=function(t,e,o){var a,d,p,f,y;void 0===e&&(e=0),s&&(y=h.ctx.callbackCache.call(s,{datum:t})),void 0!==y||(y=r&&null!==(a=t[r])&&void 0!==a?a:"");var v=i&&null!==(d=t[i])&&void 0!==d?d:e;v=Nh(v);var g=!t.children,m=l;"string"==typeof v?m=v:!g&&l||(m=u.convert(v));var b={datum:t,depth:e,parent:o,value:0,label:y,fill:m,series:h,isLeaf:g,children:[]};return g?b.value=n&&null!==(p=t[n])&&void 0!==p?p:1:(null===(f=t.children)||void 0===f||f.forEach((function(t){var n=c(t,e+1,b),r=n.value;!isNaN(r)&&isFinite(r)&&0!==r&&(b.value+=r,b.children.push(n))})),b.children.sort((function(t,e){return e.value-t.value}))),b},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return bh(this,void 0,void 0,(function(){return xh(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return bh(this,void 0,void 0,(function(){return xh(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return bh(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s;return xh(this,(function(u){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,n=t.dataRoot,e&&n&&e.getSeriesRect()?(r=[],(i=function(t){var e;r.push(t),null===(e=t.children)||void 0===e||e.forEach(i)})(n),a=(o=this).groupSelection,l=o.highlightSelection,s=function(t){return t.update(r,(function(t){var e=new bc,n=new Dt;n.tag=ph.Name;var r=new Dt;r.tag=ph.Value,t.append([e,n,r])}))},this.groupSelection=s(a),this.highlightSelection=s(l),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var n,r=this.formatter,i=this.ctx.callbackCache;if(!r)return{};var o=this,a=o.gradient,l=o.colorKey,s=o.labelKey,u=o.sizeKey,c=o.tileStroke,h=o.tileStrokeWidth,d=o.groupStroke,p=o.groupStrokeWidth,f=t.isLeaf?c:d,y=t.isLeaf?h:p,v=i.call(r,{seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:l,sizeKey:u,labelKey:s,fill:t.fill,stroke:f,strokeWidth:y,gradient:a,highlighted:e});return null!=v?v:{}},e.prototype.updateNodes=function(){return bh(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,p,f,y,v,g,m,b,x,w,S=this;return xh(this,(function(k){return this.chart?(e=(t=this).gradient,n=t.highlightStyle,r=n.item,i=r.fill,o=r.fillOpacity,a=r.stroke,l=r.strokeWidth,s=n.text.color,u=t.tileStroke,c=t.tileStrokeWidth,h=t.groupStroke,d=t.groupStrokeWidth,p=t.tileShadow,f=t.labelShadow,(y=t.dataRoot)?(v=this.chart.getSeriesRect(),g=this.squarify(y,new O(0,0,v.width,v.height)),m=this.buildLabelMeta(g),b=this.getHighlightedSubtree(y),this.updateNodeMidPoint(g),x=function(t,n,r){var s,f,y,v,m,b,x=g.get(n);if(x){var w=r&&void 0!==i?i:n.fill,k=null!==(s=r?o:1)&&void 0!==s?s:1,O=h;r&&void 0!==a?O=a:n.isLeaf&&(O=u);var D=d;r&&void 0!==l?D=l:n.isLeaf&&(D=c);var _=S.getTileFormat(n,r),C=Nh(null!==(f=null==_?void 0:_.fill)&&void 0!==f?f:w);if(null!==(y=null==_?void 0:_.gradient)&&void 0!==y?y:e){var M=zt.tryParseFromString(w).brighter().toString(),E=zt.tryParseFromString(w).darker().toString();t.fill="linear-gradient(180deg, "+M+", "+E+")"}else t.fill=C;t.fillOpacity=null!==(v=null==_?void 0:_.fillOpacity)&&void 0!==v?v:k,t.stroke=Nh(null!==(m=null==_?void 0:_.stroke)&&void 0!==m?m:O),t.strokeWidth=null!==(b=null==_?void 0:_.strokeWidth)&&void 0!==b?b:D,t.fillShadow=p,t.crisp=!0,t.x=x.x,t.y=x.y,t.width=x.width,t.height=x.height,t.visible=!0}else t.visible=!1},this.groupSelection.selectByClass(bc).forEach((function(t){return x(t,t.datum,!1)})),this.highlightSelection.selectByClass(bc).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&x(t,t.datum,e)})),w=function(t,e,n,r){var i=m.get(e),o=null==i?void 0:i[r];o?(t.text=o.text,t.fontFamily=o.style.fontFamily,t.fontSize=o.style.fontSize,t.fontWeight=o.style.fontWeight,t.fill=n&&null!=s?s:o.style.color,t.fillShadow=n?void 0:f,t.textAlign=o.hAlign,t.textBaseline=o.vAlign,t.x=o.x,t.y=o.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(ph.Name).forEach((function(t){return w(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(ph.Name).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&w(t,t.datum,e,"label")})),this.groupSelection.selectByTag(ph.Value).forEach((function(t){return w(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(ph.Value).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&w(t,t.datum,e,"value")})),[2]):[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.getHighlightedSubtree=function(t){var e=this,n=new Set,r=function(t){var i;(e.isDatumHighlighted(t)||t.parent&&n.has(t.parent))&&n.add(t),null===(i=t.children)||void 0===i||i.forEach(r)};return r(t),n},e.prototype.buildLabelMeta=function(t){var e=this,n=e.labels,r=e.title,i=e.subtitle,o=e.nodePadding,a=e.labelKey,l=e.ctx.callbackCache,s=/-$/m,u=new Map;return t.forEach((function(t,e){var c,h,d;if(a&&0!==e.depth){var p=t.width-2*o,f=t.height-2*o,y=function(e){return e.fontSize>t.width/3||e.fontSize>t.height/3},v=e.isLeaf?e.label:e.label.toUpperCase(),g="",m=n.value,b=m.style,x=Math.ceil(2*b.fontSize*(Dt.defaultLineHeightRatio-1));e.isLeaf&&(m.formatter?g=null!==(c=l.call(m.formatter,{datum:e.datum}))&&void 0!==c?c:"":m.key&&(g=e.datum[m.key]));var w,S=Ph(g,b);g&&S.width>p&&(g="");var k="";if(e.isLeaf){var O=function(){var t,e,r=f-(g?b.fontSize+x:0),i=[n.large,n.medium,n.small];try{for(var o=wh(i),a=o.next();!a.done;a=o.next()){var l=a.value,u=Ph(v,l),c=u.width;if(!(u.height>r||y(l))){if(c<=p)return{style:l,wrappedText:void 0};var h=Dt.wrap(v,p,r,l,l.wrapping);if(h&&"\u2026"!==h&&(l===n.small||!s.exec(h)&&!h.endsWith("\u2026")))return{style:l,wrappedText:h}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return Ph(v,n.small).height<=r&&!y(n.small)?{style:n.small,wrappedText:void 0}:{style:void 0,wrappedText:void 0}},D=O();!D.style&&g&&(g="",D=O()),w=null!==(h=D.style)&&void 0!==h?h:n.small,k=null!==(d=D.wrappedText)&&void 0!==d?d:""}else w=1===e.depth?r:i;var _=Ph(k||v,w);if(!y(w)){if(_.width>p){var C=Math.floor(v.length*p/_.width)-1;v=v.substring(0,C).trim()+"\u2026"}S=Ph(g,b);var M=g&&S.width<p&&S.height+_.height+x<f;u.set(e,{label:gh({text:k||v,style:w},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(M?S.height/2+x/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+o,y:t.y+o}),value:M?{text:g,style:b,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+_.height/2+x/2}:void 0})}}})),u},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new Oh(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Dh(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r,i;if(!this.highlightGroups&&!t.isLeaf)return"";var o=this,a=o.tooltip,l=o.sizeKey,s=o.labelKey,u=o.colorKey,c=o.rootName,h=o.id,d=o.labels,p=o.ctx.callbackCache,f=t.datum,y=a.renderer,v=t.depth?f[s]:null!==(e=f[s])&&void 0!==e?e:c,g="",m=this.getTileFormat(t,!1),b=null!==(r=null!==(n=null==m?void 0:m.fill)&&void 0!==n?n:t.fill)&&void 0!==r?r:"gray",x=d.value.key,w=d.value.formatter;if(x||w){var S="";if(w)S=p.call(w,{datum:f});else if(null!=x){var k=f[x];"number"==typeof k&&isFinite(k)&&(S=Rl(k))}S&&(d.value.name&&(g+="<b>"+d.value.name+":</b> "),g+=S)}var O={title:v,backgroundColor:b,content:g};return y?en(y({datum:t.datum,parent:null===(i=t.parent)||void 0===i?void 0:i.datum,depth:t.depth,sizeKey:l,labelKey:s,colorKey:u,title:v,color:b,seriesId:h}),O):v||g?en(O):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",mh([Kt(fe(0))],e.prototype,"nodePadding",void 0),mh([Kt(fe(0))],e.prototype,"nodeGap",void 0),mh([Kt(re)],e.prototype,"labelKey",void 0),mh([Kt(ie)],e.prototype,"sizeKey",void 0),mh([Kt(ie)],e.prototype,"colorKey",void 0),mh([Kt(ge)],e.prototype,"colorDomain",void 0),mh([Kt(de)],e.prototype,"colorRange",void 0),mh([Kt(ie)],e.prototype,"groupFill",void 0),mh([Kt(he)],e.prototype,"groupStroke",void 0),mh([Kt(ye(0))],e.prototype,"groupStrokeWidth",void 0),mh([Kt(he)],e.prototype,"tileStroke",void 0),mh([Kt(ye(0))],e.prototype,"tileStrokeWidth",void 0),mh([Kt(ee)],e.prototype,"gradient",void 0),mh([Kt(te)],e.prototype,"formatter",void 0),mh([Kt(re)],e.prototype,"colorName",void 0),mh([Kt(re)],e.prototype,"rootName",void 0),mh([Kt(ne)],e.prototype,"highlightGroups",void 0)}(yh);var Th={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},Ih={},Ah={has:function(t){return Object.prototype.hasOwnProperty.call(Th,t)},isCartesian:function(t){return"cartesian"===Th[t]},isPolar:function(t){return"polar"===Th[t]},isHierarchy:function(t){return"hierarchy"===Th[t]},get seriesTypes(){return Object.keys(Th)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function jh(t){var e;return null!==(e=Ih[t])&&void 0!==e?e:{}}var Fh={};function Bh(t){return Fh[t]}function zh(t,e){if(Gh(t)&&Gh(e)){var n={};return Object.keys(t).forEach((function(r){n[r]=r in e?zh(t[r],e[r]):t[r]})),Object.keys(e).forEach((function(r){r in t||(n[r]=e[r])})),n}return Array.isArray(t)&&!Array.isArray(e)||Wh(t)&&!Wh(e)?t:e}function Wh(t){return t&&"object"==typeof t}function Gh(t){return Wh(t)&&t.constructor===Object}wu.type,js.type;var Xh=function(){return(Xh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Kh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Vh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yh={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Hh=Symbol("extends-axes-defaults"),Uh=Symbol("extends-axes-label-defaults"),Zh=Symbol("extends-axes-line-defaults"),qh=Symbol("extends-series-defaults"),Jh=Symbol("override-series-label-defaults"),$h=Symbol("default-font"),Qh=function(){function t(t){var e=(t=zh({},null!=t?t:{})).overrides,n=void 0===e?null:e,r=t.palette,i=void 0===r?null:r,o=this.createChartConfigPerChartType(this.getDefaults());if(n){var a=n.common,l=n.cartesian,s=n.polar,u=n.hierarchy,c=function(t,e,n){n&&(o[t]=zh(o[t],n),e.forEach((function(t){var e=t;o[e]=zh(o[e],n)})))};c("common",Object.keys(o),a),c("cartesian",Ah.cartesianTypes,l),c("polar",Ah.polarTypes,s),c("hierarchy",Ah.hierarchyTypes,u),Ah.seriesTypes.forEach((function(t){var e,r=t,i=n[r];i&&(i.series&&(i.series=((e={})[r]=i.series,e)),o[r]=zh(o[r],i))}))}this.palette=null!=i?i:this.getPalette(),this.config=Object.freeze(o)}return t.prototype.getPalette=function(){return Yh},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return Xh(Xh({},this.getSeriesDefaults()),{fillOpacity:1,strokeOpacity:1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Xh(Xh({},t),{tooltip:Xh(Xh({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return Xh(Xh({},t),{nodeClickRange:"nearest",tooltip:Xh(Xh({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return Xh(Xh({},t),{tooltip:Xh(Xh({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getCaptionWrappingDefaults=function(){return"hyphenate"},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",wrapping:t.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",wrapping:t.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30,wrapping:t.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e=this,n={cartesian:Ah.cartesianTypes,polar:Ah.polarTypes,hierarchy:Ah.hierarchyTypes,groupedCategory:[]};return Object.entries(n).forEach((function(n){var r=Kh(n,2),i=r[0],o=r[1],a=i,l=e.templateTheme(jh(a));o.forEach((function(e){var n=e;t[n]||(t[n]=zh({},t[a]),zh(t[n],l))}))})),t},t.prototype.getDefaults=function(){var e=this,n=zh({},t.defaults),r=function(t,n){var r=e.templateTheme(jh(t));return r.series=n.reduce((function(t,n){var r=Bh(n);return r&&(t[n]=e.templateTheme(r)),t}),{}),"cartesian"!==t&&"polar"!==t||(r.axes=Lu.axesTypes.reduce((function(t,n){var r=function(t){var e;return null!==(e=Ru[t])&&void 0!==e?e:{}}(n);return r&&(t[n]=e.templateTheme(r)),t}),{})),r};return zh(n,{cartesian:r("cartesian",Ah.cartesianTypes),groupedCategory:r("cartesian",Ah.cartesianTypes),polar:r("polar",Ah.polarTypes),hierarchy:r("hierarchy",Ah.hierarchyTypes)})},t.prototype.templateTheme=function(t){var e=mr([t]),n=this.getTemplateParameters(),r=n.extensions,i=n.properties;return function t(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=xr(e),s=null!==(i=r.skip)&&void 0!==i?i:[];if("array"!==l){if("object"===l){n.apply(void 0,pr([l,e],dr(o)));var u=function(i){if(s.indexOf(i)>=0)return"continue";var a=e[i],l=null==o?void 0:o.map((function(t){return null==t?void 0:t[i]})),u=xr(a);"object"!==u&&"array"!==u||t.apply(void 0,pr([a,n,r],dr(l)))};for(var c in e)u(c)}}else e.forEach((function(e,i){t.apply(void 0,pr([e,n,r],dr((null!=o?o:[]).map((function(t){return null==t?void 0:t[i]})))))}))}(e,(function(t,e){var n,o;if(e.__extends__){var a=e.__extends__,l=r.get(a);if(null==l)throw new Error("AG Charts - no template variable provided for: "+a);Object.keys(l).forEach((function(t){t in e||(e[t]=l[t])})),delete e.__extends__}if(e.__overrides__){a=e.__overrides__;var s=r.get(a);if(null==s)throw new Error("AG Charts - no template variable provided for: "+a);Object.assign(e,s),delete e.__overrides__}try{for(var u=Vh(Object.entries(e)),c=u.next();!c.done;c=u.next()){var h=Kh(c.value,2),d=h[0],p=h[1];i.has(p)&&(e[d]=i.get(p))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}),{}),e},t.prototype.getTemplateParameters=function(){var e=new Map;e.set(Hh,t.getAxisDefaults()),e.set(Uh,t.getAxisDefaults().label),e.set(Zh,t.getAxisDefaults().line),e.set(qh,t.getSeriesDefaults()),e.set(Jh,{});var n=new Map;return n.set($h,t.fontFamily),{extensions:e,properties:n}},t.prototype.mergeWithParentDefaults=function(t,e){return zh(t,e)},t.fontFamily="Verdana, sans-serif",t.cartesianDefaults=Xh(Xh({},t.getChartDefaults()),{axes:{number:Xh({},t.getAxisDefaults()),log:Xh(Xh({},t.getAxisDefaults()),{base:10}),category:Xh(Xh({},t.getAxisDefaults()),{groupPaddingInner:.1,label:Xh(Xh({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:Xh({},t.getAxisDefaults()),time:Xh({},t.getAxisDefaults())},series:{column:Xh({},t.getBarSeriesDefaults()),bar:Xh({},t.getBarSeriesDefaults()),line:Xh(Xh({},t.getLineSeriesDefaults()),{title:void 0,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Xh(Xh({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Xh(Xh({},t.getScatterSeriesDefaults()),{sizeName:"Size",labelName:"Label",marker:Xh({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:Xh(Xh({},t.getAreaSeriesDefaults()),{normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Xh(Xh({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Xh(Xh({},t.getSeriesDefaults()),{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})}}),t.polarDefaults=Xh(Xh({},t.getChartDefaults()),{series:{pie:Xh(Xh({},t.getSeriesDefaults()),{title:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",spacing:0},radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=Xh(Xh({},t.getChartDefaults()),{series:{treemap:Xh(Xh({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,nodeGap:0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:2},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:2},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),td=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ed=function(){return(ed=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},nd=function(t){function e(e){return t.call(this,e)||this}return td(e,t),e.prototype.getDefaults=function(){var n=this,r=e.fontColor,i=e.mutedFontColor,o={title:{color:r},label:{color:r},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},a={label:{color:r}},l={axes:{number:ed({},o),category:ed({},o),time:ed({},o)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:r},subtitle:{color:i},legend:{item:{label:{color:r}},pagination:{activeStyle:{fill:r},inactiveStyle:{fill:i},highlightStyle:{fill:r},label:{color:r}}}},u=function(t){return t.reduce((function(t,e){var r=Bh(e);return r&&(t[e]=n.templateTheme(r)),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:ed(ed(ed({},s),l),{series:ed({line:ed({},a),bar:ed({},a),column:ed({},a),histogram:ed({},a)},u(Ah.cartesianTypes))}),groupedCategory:ed(ed(ed({},s),l),{series:ed({bar:ed({},a),column:ed({},a),histogram:ed({},a)},u(Ah.cartesianTypes))}),polar:ed(ed({},s),{series:ed({pie:{calloutLabel:{color:r},sectorLabel:{color:r},title:{color:r},innerLabels:{color:r}}},u(Ah.polarTypes))}),hierarchy:ed(ed({},s),{series:ed({treemap:{tileStroke:"white",groupStroke:"white",title:{color:r},subtitle:{color:i},labels:{large:{color:r},medium:{color:r},small:{color:r},value:{style:{color:r}}}}},u(Ah.hierarchyTypes))})})},e.prototype.getTemplateParameters=function(){var n=t.prototype.getTemplateParameters.call(this);return n.extensions.set(Jh,e.seriesLabelDefaults.label),n},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e}(Qh),rd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),id={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rd(e,t),e.prototype.getPalette=function(){return id},e}(Qh),ad=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ld={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ad(e,t),e.prototype.getPalette=function(){return ld},e}(nd),ud=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cd={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ud(e,t),e.prototype.getPalette=function(){return cd},e}(Qh),dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dd(e,t),e.prototype.getPalette=function(){return pd},e}(nd),yd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yd(e,t),e.prototype.getPalette=function(){return vd},e}(Qh),md=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return md(e,t),e.prototype.getPalette=function(){return bd},e}(nd),wd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sd={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wd(e,t),e.prototype.getPalette=function(){return Sd},e}(Qh),Od=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dd={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},_d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Od(e,t),e.prototype.getPalette=function(){return Dd},e}(nd),Cd=function(){return(Cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Md=function(){return new Qh},Ed=function(){return new nd},Pd={undefined:Md,null:Md,"ag-default":Md,"ag-material":function(){return new od},"ag-pastel":function(){return new hd},"ag-solar":function(){return new gd},"ag-vivid":function(){return new kd}},Nd=Cd(Cd({},{undefined:Ed,null:Ed,"ag-default-dark":Ed,"ag-material-dark":function(){return new sd},"ag-pastel-dark":function(){return new fd},"ag-solar-dark":function(){return new xd},"ag-vivid-dark":function(){return new _d}}),Pd),Ld=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rd=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var n=Ld(this.destroyFns),r=n.next();!r.done;r=n.next()){(0,r.value)()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),Td=[];function Id(t){var e=Td.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var n=Td.indexOf(e);Td.splice(n,1,t)}}else Td.push(t)}var Ad=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Ad(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.centerX,e=this.centerY,n=this.width,r=this.height;return new O(t-n/2,e-r/2,n,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,r=t.centerY,i=t.width,o=t.height;e.clear();var a=n-i/2,l=r-o/2,s=this.align(a),u=this.align(l),c=s+this.align(a,i),h=u+this.align(l,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.gripLineGap/2,p=this.gripLineLength/2;e.moveTo(this.align(n-d),this.align(r-p)),e.lineTo(this.align(n-d),this.align(r+p)),e.moveTo(this.align(n+d),this.align(r-p)),e.lineTo(this.align(n+d),this.align(r+p))},e.className="RangeHandle",jd([Kt(ce)],e.prototype,"_fill",void 0),jd([Kt(ce)],e.prototype,"_stroke",void 0),jd([Kt(fe(0))],e.prototype,"_strokeWidth",void 0),jd([Kt(Pe)],e.prototype,"_lineCap",void 0),jd([Kt(fe(0))],e.prototype,"_width",void 0),jd([Kt(fe(0))],e.prototype,"_gripLineGap",void 0),jd([Kt(fe(0))],e.prototype,"_gripLineLength",void 0),jd([Kt(fe(0))],e.prototype,"_height",void 0),e}(Ri),Bd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Wd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Bd(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return new O(t,e,n,r)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,o=t.min,a=t.max,l=e+r*o;return new O(l,n,e+r*a-l,i)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,r=t.y,i=t.width,o=t.height,a=t.min,l=t.max;e.clear();var s=this.align(n),u=this.align(r),c=s+this.align(n,i),h=u+this.align(r,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.align(n+i*a),p=this.align(n+i*l);e.moveTo(d,u),e.lineTo(d,h),e.lineTo(p,h),e.lineTo(p,u),e.lineTo(d,u)},e.className="RangeMask",zd([Kt(ce)],e.prototype,"_stroke",void 0),zd([Kt(fe(0))],e.prototype,"_strokeWidth",void 0),zd([Kt(ce)],e.prototype,"_fill",void 0),zd([Kt(fe(0,1))],e.prototype,"_fillOpacity",void 0),zd([Kt(Pe)],e.prototype,"_lineCap",void 0),zd([Kt(fe(0))],e.prototype,"_width",void 0),zd([Kt(fe(0))],e.prototype,"_height",void 0),zd([Kt(fe())],e.prototype,"_min",void 0),zd([Kt(fe())],e.prototype,"_max",void 0),e}(Ri),Gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xd=function(){return(Xd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Kd=function(t){function e(){var n=t.call(this,{name:"rangeSelectorGroup"})||this;return n.minHandle=new Fd,n.maxHandle=new Fd,n.mask=function(){var t=e.defaults,r=t.x,i=t.y,o=t.width,a=t.height,l=t.min,s=t.max,u=new Wd;u.x=r,u.y=i,u.width=o,u.height=a,u.min=l,u.max=s;var c=n,h=c.minHandle,d=c.maxHandle;return h.centerX=r,d.centerX=r+o,h.centerY=d.centerY=i+a/2,n.append([u,h,d]),u.onRangeChange=function(){var t;n.updateHandles(),null===(t=n.onRangeChange)||void 0===t||t.call(n)},u}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return Gd(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,r=t.x,i=t.y,o=t.width,a=t.height,l=t.mask;e.centerX=r+o*l.min,n.centerX=r+o*l.max,e.centerY=n.centerY=i+a/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,r=t.stats;if(this.dirty!==x.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(e);[this.mask,this.minHandle,this.maxHandle].forEach((function(r){r.visible&&(n||r.dirty>x.NONE)&&(e.save(),r.render(Xd(Xd({},t),{ctx:e,forceRender:n})),e.restore())})),this.markClean({force:!0}),r&&r.nodesRendered++}else r&&r.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(et),Vd=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),Yd=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),Hd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ud=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Id({type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:function(t){function e(e){var n,r=t.call(this)||this;return r.ctx=e,r.rs=new Kd,r.mask=new Vd(r.rs.mask),r.minHandle=new Yd(r.rs.minHandle),r.maxHandle=new Yd(r.rs.maxHandle),r.minHandleDragging=!1,r.maxHandleDragging=!1,r.panHandleOffset=NaN,r._enabled=!1,r.margin=10,r._visible=!0,r.rs.onRangeChange=function(){return r.ctx.zoomManager.updateZoom("navigator",{x:{min:r.rs.min,max:r.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return r.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return r.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return r.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return r.onDragStop()}))].forEach((function(t){return r.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return r.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return r.layoutComplete(t)}))].forEach((function(t){return r.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),null===(n=e.scene.root)||void 0===n||n.appendChild(r.rs),r.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(r.rs)})),r.destroyFns.push((function(){return r.ctx.zoomManager.updateZoom("navigator")})),r.updateGroupVisibility(),r}return Hd(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){var t=this.enabled&&this.visible;this.rs.visible=t,t?this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max}}):this.ctx.zoomManager.updateZoom("navigator")},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var n=this.rs.height+this.margin;e.shrink(n,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,n=e.rect,r=e.visible;this.enabled&&r&&(this.rs.x=n.x,this.rs.width=n.width),this.visible=r},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,r=this.rs,i=r.minHandle,o=r.maxHandle,a=r.x,l=r.width,s=r.min,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.containsPoint(e,n)?this.minHandleDragging=!0:o.containsPoint(e,n)?this.maxHandleDragging=!0:u.containsPoint(e,n)&&(this.panHandleOffset=(e-a)/l-s))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,r=e.x,i=e.y,o=e.width,a=e.height,l=e.minHandle,s=e.maxHandle,u=t.offsetX,c=t.offsetY,h=r+o*e.min,d=r+o*e.max,p=new O(h,i,d-h,a),f=function(){return Math.min(Math.max((u-r)/o,0),1)};if(l.containsPoint(u,c)||s.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var y=e.max-e.min,v=Math.min(f()-n,1-y);v<=e.min?(e.min=v,e.max=e.min+y):(e.max=v+y,e.min=e.max-y)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},Ud([Kt(ee)],e.prototype,"_enabled",void 0),Ud([Kt(fe(0))],e.prototype,"margin",void 0),e}(Rd),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}});var Zd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Id({type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:function(t){function e(e){var n,r=t.call(this)||this;r.onLayoutComplete=function(t){var e=t.chart,n=e.width,i=e.height;r.rectNode.width=n,r.rectNode.height=i},r.node=new et({name:"background"}),r.node.zIndex=Re.SERIES_BACKGROUND_ZINDEX,r.rectNode=new bc,r.node.appendChild(r.rectNode),r.fill="white",r.visible=!0,null===(n=e.scene.root)||void 0===n||n.appendChild(r.node),r.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(r.node)}));var i=e.layoutService.addListener("layout-complete",r.onLayoutComplete);return r.destroyFns.push((function(){return e.layoutService.removeListener(i)})),r}return Zd(e,t),qd([Kt(ee),Cn("node","visible")],e.prototype,"visible",void 0),qd([Kt(he),Cn("rectNode","fill")],e.prototype,"fill",void 0),e}(Rd)});var Jd,$d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(Jd||(Jd={})),function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=Jd.Open,e.restoreOwnStyles(),e}$d(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return Ll(pt(this.startAngle),pt(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===Jd.Chord?t.closePath():this.type!==Jd.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new O(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return this.type!==Jd.Open&&r.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Object.assign({},xt.defaultStyles,{lineWidth:1,fillStyle:null}),Qd([Li()],e.prototype,"centerX",void 0),Qd([Li()],e.prototype,"centerY",void 0),Qd([Li()],e.prototype,"radius",void 0),Qd([Li()],e.prototype,"startAngle",void 0),Qd([Li()],e.prototype,"endAngle",void 0),Qd([Li()],e.prototype,"counterClockwise",void 0),Qd([Li()],e.prototype,"type",void 0)}(Ri);var tp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ep=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){function e(e){var n=t.call(this)||this;return n.x=0,n.y=0,n.width=0,n.height=0,n.opacity=1,n.sourceImage=e,n}tp(e,t),e.prototype.render=function(e){var n=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==x.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.sourceImage;n.globalAlpha=this.opacity,n.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else i&&i.nodesSkipped++},ep([N({redraw:x.MAJOR})],e.prototype,"x",void 0),ep([N({redraw:x.MAJOR})],e.prototype,"y",void 0),ep([N({redraw:x.MAJOR})],e.prototype,"width",void 0),ep([N({redraw:x.MAJOR})],e.prototype,"height",void 0),ep([N({redraw:x.MAJOR})],e.prototype,"opacity",void 0)}(z);var np=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.entries(Nd).reduce((function(t,e){var n=np(e,2),r=n[0],i=n[1];return t[r]=i(),t}),{});var rp,ip=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},op=Za,ap=Ft,lp=Rt,sp=Tt,up=function(t){return t instanceof Date&&!isNaN(+t)},cp=E,hp=Qn,dp=Nl,pp=Zo,fp=_a;!function(t){t[t.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",t[t.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",t[t.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",t[t.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"}(rp||(rp={}));var yp=function(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},vp=function(){function t(){this.id=cp(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new hp(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new dp,this.axis=new yp,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var e=new et;this.rootGroup=e;var n=document.createElement("div");n.setAttribute("class","ag-sparkline-wrapper");var r=new ct({document:document});if(this.scene=r,this.canvasElement=r.canvas.element,r.root=e,r.container=n,r.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===t.tooltipDocuments.indexOf(document)){var i=document.createElement("style");i.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(i,document.head.querySelector("style")),t.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},t.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;(n instanceof dp||n instanceof fp)&&(t=op(e)),this.xScale.domain=t?t.slice():e},t.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new dp;case"time":return new fp;case"category":default:return new pp}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(t){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},t.prototype.updateHitPoint=function(t){var e,n,r,i=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(i){var o=this.highlightedDatum;this.highlightedDatum=i,(this.highlightedDatum&&!o||this.highlightedDatum&&o&&this.highlightedDatum!==o)&&(this.highlightDatum(i),this.updateCrosshairs(),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)}))),(null===(r=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.enabled)||void 0===r||r)&&this.handleTooltip(t,i)}},t.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)}))},t.prototype.processData=function(){var t=this,e=this.data,n=this.yData,r=this.xData;if(e&&!this.invalidData(this.data)){n.length=0,r.length=0;var i=e.length,o=this.getDataType(e);this.dataType=o;var a,l=this.axis.type,s="number"!==l&&"time"!==l?"category":l,u="number"===s||"time"===s,c=function(e,n){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var r=t.smallestInterval.x,i=Math.abs(e-n);i>0&&i<r&&(t.smallestInterval.x=i)};if("number"===o)for(var h=0;h<i;h++){var d=h,p=e[h],f=this.getDatum(d,s),y=this.getDatum(p,"number");u&&c(f,a),r.push(f),n.push(y),a=f}else if("array"===o)for(h=0;h<i;h++){var v=e[h];if(Array.isArray(v)){d=v[0],p=v[1],f=this.getDatum(d,s),y=this.getDatum(p,"number");if(null==f)continue;u&&c(f,a),r.push(f),n.push(y),a=f}}else if("object"===o){var g=this.yKey,m=this.xKey;for(h=0;h<i;h++){if("object"==typeof(v=e[h])&&!Array.isArray(v)){d=v[m],p=v[g],f=this.getDatum(d,s),y=this.getDatum(p,"number");if(null==f)continue;u&&c(f,a),r.push(f),n.push(y),a=f}}}this.updateAxes(),this.immediateLayout()}},t.prototype.getDataType=function(t){var e,n;try{for(var r=ip(t),i=r.next();!i.done;i=r.next()){var o=i.value;if(null!=o){if(ap(o))return"number";if(Array.isArray(o))return"array";if("object"==typeof o)return"object"}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.getDatum=function(t,e){if("number"===e&&ap(t)||"time"===e&&(ap(t)||up(t)))return t;if("category"===e){if(lp(t)||up(t)||ap(t))return{toString:function(){return String(t)}};if(sp(t))return t}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),t.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.immediateLayout(),t.layoutId=0}))},t.prototype.immediateLayout=function(){this.setSparklineDimensions(),this.invalidData(this.data)||(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch((function(t){return console.error("AG Grid - chart rendering failed",t)})))},t.prototype.setSparklineDimensions=function(){var t=this,e=t.width,n=t.height,r=t.padding,i=t.seriesRect,o=t.rootGroup,a=e-r.left-r.right,l=n-r.top-r.bottom;i.width=a,i.height=l,i.x=r.left,i.y=r.top,o.translationX=i.x,o.translationY=i.y},t.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,r=1/0,i=this.rootGroup.transformPoint(t,e),o=this.getNodeData(),a=0;a<o.length;a++){var l=o[a];if(!l.point)return;var s=this.getDistance(i,l.point);s<=r&&(r=s,n=l)}return n},t.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},t.prototype.handleTooltip=function(t,e){var n,r,i=e.seriesDatum,o=this.canvasElement,a=t.clientX,l=t.clientY,s=null===(n=this.processedOptions)||void 0===n?void 0:n.tooltip,u={pageX:a,pageY:l,position:{xOffset:null==s?void 0:s.xOffset,yOffset:null==s?void 0:s.yOffset},container:null==s?void 0:s.container};null==u.container&&(u.container=o);var c=i.y,h=i.x,d=null===(r=null==s?void 0:s.enabled)||void 0===r||r,p=null==s?void 0:s.renderer;if(p){var f=p({context:this.context,datum:i,yValue:c,xValue:h});d="string"!=typeof f&&void 0!==f.enabled?f.enabled:d}var y=d&&void 0!==i.y&&this.getTooltipHtml(e);y&&this.tooltip.show(u,y)},t.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},t.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||ap(t))?this.defaultDateFormatter.format(t):String(t)},t.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}();function gp(t,e){var n,r,i;if("string"==typeof t)return t;e=null!=e?e:{};var o,a,l=t.content,s=void 0===l?null!==(n=e.content)&&void 0!==n?n:"":l,u=t.title,c=void 0===u?null!==(r=e.title)&&void 0!==r?r:void 0:u,h=t.color,d=void 0===h?e.color:h,p=t.backgroundColor,f=void 0===p?e.backgroundColor:p,y=t.opacity,v=void 0===y?null!==(i=e.opacity)&&void 0!==i?i:1:y;d?(o=c?'<span class="'+mp.class+'-title"; style="color: '+d+'">'+c+"</span>":"",a='<span class="'+mp.class+'-content" style="color: '+d+'">'+s+"</span>"):(o=c?'<span class="'+mp.class+'-title">'+c+"</span>":"",a='<span class="'+mp.class+'-content">'+s+"</span>");var g="opacity: "+v;return f&&(g+="; background-color: "+f.toLowerCase()),'<div class="'+mp.class+'" style="'+g+'">\n                '+o+"\n                "+a+"\n            </div>"}var mp=function(){function t(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(t,e){var n,r,i,o;this.toggle(!1);var a=this.element;if(void 0!==e)a.innerHTML=e;else if(!a.innerHTML)return;var l=null!==(r=null===(n=t.position)||void 0===n?void 0:n.xOffset)&&void 0!==r?r:10,s=null!==(o=null===(i=t.position)||void 0===i?void 0:i.yOffset)&&void 0!==o?o:0,u=t.pageX+l,c=t.pageY+s,h=a.getBoundingClientRect(),d=window.innerWidth-h.width;if(t.container){var p=t.container.getBoundingClientRect();d=p.left+(p.width-h.width)}u>d&&(u=t.pageX-a.clientWidth-l),"undefined"!=typeof scrollX&&(u+=scrollX),"undefined"!=typeof scrollY&&(c+=scrollY),a.style.left=Math.round(u)+"px",a.style.top=Math.round(c)+"px",this.toggle(!0)},t.prototype.toggle=function(t){this.updateClass(t)},t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}();function bp(t){switch(t){case"circle":return Ki;case"square":return Bi;case"diamond":return Ui;default:return Ki}}function xp(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==r[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),r.solid):r[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var wp,Sp,kp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Op=Za,Dp=Zo,_p=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Cp=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Mp=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Ep=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Ri,e.fillPath=new Ri,e.xCrosshairLine=new $o,e.yCrosshairLine=new $o,e.areaSparklineGroup=new et,e.xAxisLine=new $o,e.markers=new et,e.markerSelection=xi.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new _p,e.line=new Cp,e.crosshairs=new Mp,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=rp.AXIS_LINE_ZINDEX,e.fillPath.zIndex=rp.SERIES_FILL_ZINDEX,e.strokePath.zIndex=rp.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=rp.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=rp.CROSSHAIR_ZINDEX,e.markers.zIndex=rp.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return kp(e,t),e.prototype.markerFactory=function(){return new(bp(this.marker.shape))},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,r=t.strokeData;this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateStroke(r),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=Op(t),r=0,i=1;void 0!==n&&(r=this.min=n[0],i=this.max=n[1]),r=r<0?r:0,i=i<0?0:i,e.domain=[r,i]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale;if(e){for(var a,l,s,u,c=!(i instanceof Dp),h=c?0:i.bandwidth/2,d=n.length,p=[],f=[],y=[],v=o.convert(0),g=0;g<d;g++){var m=n[g],b=r[g],x=i.convert(c?i.toDomain(b):b)+h,w=void 0===m?NaN:o.convert(m);g+1<d&&(u=i.convert(c?i.toDomain(r[g+1]):r[g+1])+h),y.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),void 0===m&&void 0!==s?(f.push({seriesDatum:void 0,point:{x:s,y:v}}),void 0!==u&&f.push({seriesDatum:void 0,point:{x:u,y:v}})):void 0!==m&&(f.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),p.push({seriesDatum:{x:b,y:m},point:{x:x,y:w}}),a=void 0!==a?a:x,l=x),s=x}return f.push({seriesDatum:void 0,point:{x:l,y:v}},{seriesDatum:void 0,point:{x:a,y:v}}),{nodeData:p,fillData:f,strokeData:y}}},e.prototype.updateAxisLine=function(){var t=this.xScale,e=this.yScale,n=this.axis,r=this.xAxisLine;r.x1=t.range[0],r.x2=t.range[1],r.y1=r.y2=0,r.stroke=n.stroke,r.strokeWidth=n.strokeWidth;var i=e.convert(0);r.translationY=i},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,r=this.marker,i=n.size,o=n.fill,a=n.stroke,l=n.strokeWidth,s=r.formatter;this.markerSelection.each((function(n,u,c){var h=u.point,d=u.seriesDatum;if(h){var p,f=u===e,y=f&&void 0!==o?o:r.fill,v=f&&void 0!==a?a:r.stroke,g=f&&void 0!==l?l:r.strokeWidth,m=f&&void 0!==i?i:r.size;if(s){var b=0===c,x=c===t.markerSelectionData.length-1,w=d.y===t.min,S=d.y===t.max;p=s({datum:u,xValue:d.x,yValue:d.y,min:w,max:S,first:b,last:x,fill:y,stroke:v,strokeWidth:g,size:m,highlighted:f})}n.size=p&&null!=p.size?p.size:m,n.fill=p&&null!=p.fill?p.fill:y,n.stroke=p&&null!=p.stroke?p.stroke:v,n.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:g,n.translationX=h.x,n.translationY=h.y,n.visible=p&&null!=p.enabled?p.enabled:r.enabled&&n.size>0}}))},e.prototype.updateStroke=function(t){var e=this.strokePath,n=this.yData,r=this.line;if(!(n.length<2)){var i=e.path,o=t.length,a=!0;i.clear();for(var l=0;l<o;l++){var s=t[l],u=s.point,c=s.seriesDatum,h=u.x,d=u.y;null==c.y?a=!0:a?(i.moveTo(h,d),a=!1):i.lineTo(h,d)}e.lineJoin=e.lineCap="round",e.fill=void 0,e.stroke=r.stroke,e.strokeWidth=r.strokeWidth}},e.prototype.updateFill=function(t){var e=this.fillPath,n=this.yData,r=this.fill,i=e.path,o=t.length;if(i.clear(),!(n.length<2)){for(var a=0;a<o;a++){var l=t[a].point,s=l.x,u=l.y;a>0?i.lineTo(s,u):i.moveTo(s,u)}i.closePath(),e.lineJoin="round",e.stroke=void 0,e.fill=r}},e.prototype.updateXCrosshairLine=function(){var t,e=this.yScale,n=this.xCrosshairLine,r=this.highlightedDatum,i=this.crosshairs.xLine;if(i.enabled&&null!=r){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=i.stroke,n.strokeWidth=null!==(t=i.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===i.lineCap||"square"===i.lineCap?i.lineCap:void 0;var o=i.lineDash;n.lineDash=Array.isArray(o)?o:xp(n.lineCap,i.lineDash),n.translationX=r.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t,e=this.xScale,n=this.yCrosshairLine,r=this.highlightedDatum,i=this.crosshairs.yLine;if(i.enabled&&null!=r){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=i.stroke,n.strokeWidth=null!==(t=i.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===i.lineCap||"square"===i.lineCap?i.lineCap:void 0;var o=i.lineDash;n.lineDash=Array.isArray(o)?o:xp(n.lineCap,i.lineDash),n.translationY=r.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,r=this.dataType,i=t.seriesDatum,o=i.y,a=i.x,l={content:this.formatNumericDatum(o),title:"array"===r||"object"===r?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?gp(s({context:this.context,datum:i,yValue:o,xValue:a}),l):gp(l)},e.className="AreaSparkline",e}(vp),Pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Np=Za,Lp=Zo,Rp=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Tp=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Ip=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Ap=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Ri,e.xCrosshairLine=new $o,e.yCrosshairLine=new $o,e.lineSparklineGroup=new et,e.markers=new et,e.markerSelection=xi.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new Rp,e.line=new Tp,e.crosshairs=new Ip,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=rp.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=rp.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=rp.CROSSHAIR_ZINDEX,e.markers.zIndex=rp.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return Pp(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.markerFactory=function(){return new(bp(this.marker.shape))},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=Np(t),r=0,i=1;if(void 0!==n&&(r=this.min=n[0],i=this.max=n[1]),r===i){var o=Math.abs(.01*r);r-=o,i+=o}e.domain=[r,i]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale;if(e){for(var a=!(i instanceof Lp),l=a?0:i.bandwidth/2,s=[],u=0;u<n.length;u++){var c=n[u],h=r[u];if(null!=c){var d=i.convert(a?i.toDomain(h):h)+l,p=void 0===c?NaN:o.convert(c);s.push({seriesDatum:{x:h,y:c},point:{x:d,y:p}})}}return s}},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this.highlightedDatum,n=this.highlightStyle,r=this.marker,i=n.size,o=n.fill,a=n.stroke,l=n.strokeWidth,s=r.formatter;this.markerSelection.each((function(n,u,c){var h,d=u===e,p=d&&void 0!==o?o:r.fill,f=d&&void 0!==a?a:r.stroke,y=d&&void 0!==l?l:r.strokeWidth,v=d&&void 0!==i?i:r.size,g=u.seriesDatum,m=u.point;if(s){var b=0===c,x=c===t.markerSelectionData.length-1,w=g.y===t.min,S=g.y===t.max;h=s({datum:u,xValue:g.x,yValue:g.y,min:w,max:S,first:b,last:x,fill:p,stroke:f,strokeWidth:y,size:v,highlighted:d})}n.size=h&&null!=h.size?h.size:v,n.fill=h&&null!=h.fill?h.fill:p,n.stroke=h&&null!=h.stroke?h.stroke:f,n.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:y,n.translationX=m.x,n.translationY=m.y,n.visible=h&&null!=h.enabled?h.enabled:r.enabled&&n.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.line;if(!(n.length<2)){var l=!(i instanceof Lp),s=e.path,u=n.length,c=l?0:i.bandwidth/2,h=!0;s.clear();for(var d=0;d<u;d++){var p=r[d],f=n[d],y=i.convert(l?i.toDomain(p):p)+c,v=void 0===f?NaN:o.convert(f);null==f?h=!0:h?(s.moveTo(y,v),h=!1):s.lineTo(y,v)}e.fill=void 0,e.stroke=a.stroke,e.strokeWidth=a.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t,e=this.yScale,n=this.xCrosshairLine,r=this.highlightedDatum,i=this.crosshairs.xLine;if(i.enabled&&null!=r){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=i.stroke,n.strokeWidth=null!==(t=i.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===i.lineCap||"square"===i.lineCap?i.lineCap:void 0;var o=i.lineDash;n.lineDash=Array.isArray(o)?o:xp(n.lineCap,i.lineDash),n.translationX=r.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t,e=this.xScale,n=this.yCrosshairLine,r=this.highlightedDatum,i=this.crosshairs.yLine;if(i.enabled&&null!=r){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=i.stroke,n.strokeWidth=null!==(t=i.strokeWidth)&&void 0!==t?t:1,n.lineCap="round"===i.lineCap||"square"===i.lineCap?i.lineCap:void 0;var o=i.lineDash;n.lineDash=Array.isArray(o)?o:xp(n.lineCap,i.lineDash),n.translationY=r.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,r=this.dataType,i=t.seriesDatum,o=i.y,a=i.x,l={content:this.formatNumericDatum(o),title:"array"===r||"object"===r?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?gp(s({context:this.context,datum:i,yValue:o,xValue:a}),l):gp(l)},e.className="LineSparkline",e}(vp),jp=function(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},Fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bp=Za;!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(wp||(wp={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Sp||(Sp={}));var zp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Sp.InsideEnd,e}return Fp(e,t),e}(jp),Wp=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new $o,e.bandWidth=0,e.sparklineGroup=new et,e.rectGroup=new et,e.labelGroup=new et,e.rectSelection=xi.select(e.rectGroup,bc),e.labelSelection=xi.select(e.labelGroup,Dt),e.nodeSelectionData=[],e.label=new zp,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=rp.SERIES_FILL_ZINDEX,e.axisLine.zIndex=rp.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=rp.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return Fp(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,n=this.xScale,r=this.paddingInner,i=this.paddingOuter,o=this.smallestInterval,a=(n.domain[1]-n.domain[0])/(null!==(e=null==o?void 0:o.x)&&void 0!==e?e:1)+1,l=Math.min(a,50),s=l-1;return t/Math.max(1,2*i+s*r+l)},e.prototype.updateYScaleDomain=function(){var t=this.yScale,e=this.yData,n=this.valueAxisDomain,r=Bp(e),i=0,o=1;void 0!==r&&(i=this.min=r[0],o=this.max=r[1]),i=i<0?i:0,o=o<0?0:o,n&&(n[1]<o&&(n[1]=o),n[0]>i&&(n[0]=i)),t.domain=n||[i,o]},e.prototype.updateRectSelection=function(t){this.rectSelection.update(t)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,r=e.formatter,i=e.fill,o=e.stroke,a=e.strokeWidth,l=this.highlightStyle,s=l.fill,u=l.stroke,c=l.strokeWidth;this.rectSelection.each((function(e,l,h){var d,p=l===n,f=p&&void 0!==s?s:i,y=p&&void 0!==u?u:o,v=p&&void 0!==c?c:a,g=l.x,m=l.y,b=l.width,x=l.height,w=l.seriesDatum;if(r){var S=0===h,k=h===t.nodeSelectionData.length-1,O=w.y===t.min,D=w.y===t.max;d=r({datum:l,xValue:w.x,yValue:w.y,width:b,height:x,min:O,max:D,first:S,last:k,fill:f,stroke:y,strokeWidth:v,highlighted:p})}e.fill=d&&d.fill||f,e.stroke=d&&d.stroke||y,e.strokeWidth=d&&d.strokeWidth||v,e.x=e.y=0,e.width=b,e.height=x,e.visible=e.height>0,e.translationX=g,e.translationY=m}))},e.prototype.updateLabelSelection=function(t){this.labelSelection.update(t,(function(t){t.tag=wp.Label,t.pointerEvents=L.None}))},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,r=t.fontWeight,i=t.fontSize,o=t.fontFamily,a=t.color;this.labelSelection.each((function(t,l){var s=l.label;s&&e?(t.fontStyle=n,t.fontWeight=r,t.fontSize=i,t.fontFamily=o,t.textAlign=s.textAlign,t.textBaseline=s.textBaseline,t.text=s.text,t.x=s.x,t.y=s.y,t.fill=a,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e,n,r=this.dataType,i=t.seriesDatum,o=i.y,a=i.x,l={content:this.formatNumericDatum(o),title:"array"===r||"object"===r?this.formatDatum(a):void 0},s=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return s?gp(s({context:this.context,datum:i,yValue:o,xValue:a}),l):gp(l)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(vp),Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xp=Ft,Kp=Zo,Vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gp(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this.xScale,e=this.seriesRect,n=this.paddingOuter,r=this.paddingInner;if(t instanceof Kp)t.range=[0,e.height],t.paddingInner=r,t.paddingOuter=n;else{var i=this.calculateStep(e.height),o=i*n;this.bandWidth=i*(1-r),t.range=[o,e.height-o-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,r=this.seriesRect,i=e.strokeWidth;n.x1=0,n.x2=0,n.y1=0,n.y2=r.height,n.stroke=e.stroke,n.strokeWidth=i+(i%2==1?1:0);var o=t.convert(0);n.translationX=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.fill,l=t.stroke,s=t.strokeWidth,u=t.label;if(e){for(var c=u.fontStyle,h=u.fontWeight,d=u.fontSize,p=u.fontFamily,f=u.color,y=u.formatter,v=u.placement,g=[],m=o.convert(0),b=!(i instanceof Kp),x=0,S=n.length;x<S;x++){var k=n[x],O=r[x],D=void 0===k;D&&(k=0);var _=i.convert(b?i.toDomain(O):O),C=Math.min(void 0===k?NaN:o.convert(k),m),M=Math.max(void 0===k?NaN:o.convert(k),m),E=b?this.bandWidth:i.bandwidth,P=M-C,N={x:m,y:_},L=void 0;L=y?y({value:k}):void 0!==k&&Xp(k)?this.formatLabelValue(k):"";var R=_+E/2,T=void 0,I=void 0,A=void 0!==k&&k>=0;if(v===Sp.Center)T=C+P/2,I="center";else if(v===Sp.OutsideEnd)T=C+(A?P+4:-4),I=A?"start":"end";else if(v===Sp.InsideEnd){T=C+(A?P-4:4),I=A?"end":"start";var j=w.getTextSize(L,p).width||20;(A&&T<m+j||!A&&T>m-j)&&(T=m+4*(A?1:-1),I=A?"start":"end")}else T=m+4*(A?1:-1),I=A?"start":"end";g.push({x:C,y:_,width:P,height:E,fill:a,stroke:l,strokeWidth:s,seriesDatum:{x:O,y:D?void 0:k},point:N,label:{x:T,y:R,text:L,fontStyle:c,fontWeight:h,fontSize:d,fontFamily:p,textAlign:I,textBaseline:"middle",fill:f}})}return g}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(Wp),Yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hp=Ft,Up=Zo,Zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yp(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this.xScale,e=this.seriesRect,n=this.paddingOuter,r=this.paddingInner;if(t instanceof Up)t.range=[0,e.width],t.paddingInner=r,t.paddingOuter=n;else{var i=this.calculateStep(e.width),o=i*n;this.bandWidth=i*(1-r),t.range=[o,e.width-o-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this.yScale,e=this.axis,n=this.axisLine,r=this.seriesRect,i=e.strokeWidth;n.x1=0,n.x2=r.width,n.y1=0,n.y2=0,n.stroke=e.stroke,n.strokeWidth=i+(i%2==1?1:0);var o=t.convert(0);n.translationY=o},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,r=t.xData,i=t.xScale,o=t.yScale,a=t.fill,l=t.stroke,s=t.strokeWidth,u=t.label;if(e){for(var c=u.fontStyle,h=u.fontWeight,d=u.fontSize,p=u.fontFamily,f=u.color,y=u.formatter,v=u.placement,g=[],m=o.convert(0),b=!(i instanceof Up),x=0,S=n.length;x<S;x++){var k=n[x],O=r[x],D=void 0===k;D&&(k=0);var _=Math.min(void 0===k?NaN:o.convert(k),m),C=i.convert(b?i.toDomain(O):O),M=Math.max(void 0===k?NaN:o.convert(k),m),E=b?this.bandWidth:i.bandwidth,P=M-_,N={x:C+E/2,y:m},L=void 0;L=y?y({value:k}):void 0!==k&&Hp(k)?this.formatLabelValue(k):"";var R=C+E/2,T=void 0,I=void 0,A=void 0!==k&&k>=0;if(v===Sp.Center)T=_+P/2,I="middle";else if(v===Sp.OutsideEnd)T=_+(A?-2:P+2),I=A?"bottom":"top";else if(v===Sp.InsideEnd){T=_+(A?2:P-2),I=A?"top":"bottom";var j=w.getTextSize(L,p).height||10;(A&&T>m-j||!A&&T<m+j)&&(T=m+2*(A?-1:1),I=A?"bottom":"top")}else T=m+2*(A?-1:1),I=A?"bottom":"top";g.push({x:C,y:_,width:E,height:P,fill:a,stroke:l,strokeWidth:s,seriesDatum:{x:O,y:D?void 0:k},point:N,label:{x:R,y:T,text:L,fontStyle:c,fontWeight:h,fontSize:d,fontFamily:p,textAlign:"center",textBaseline:I,fill:f}})}return g}},e.className="ColumnSparkline",e}(Wp),qp=Ft,Jp=function(){function t(){}return t.create=function(t,e){var n=function(t){void 0===t&&(t="line");switch(t){case"column":return new Zp;case"bar":return new Vp;case"area":return new Ep;case"line":default:return new Ap}}((t=mr([t])).type);return e&&(n.tooltip=e),function(t,e){lf(t,"context",e.context,e),lf(t,"width",e.width,e),lf(t,"height",e.height,e),lf(t,"container",e.container,e),lf(t,"xKey",e.xKey,e),lf(t,"yKey",e.yKey,e),e.padding&&function(t,e){lf(t,"top",e.top,e),lf(t,"right",e.right,e),lf(t,"bottom",e.bottom,e),lf(t,"left",e.left,e)}(t.padding,e.padding);e.axis&&function(t,e){lf(t,"type",e.type,e),lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e)}(t.axis,e.axis);e.highlightStyle&&function(t,e){lf(t,"fill",e.fill,e),lf(t,"size",e.size,e),lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e)}(t.highlightStyle,e.highlightStyle)}(n,t),function(t,e){switch(e.type){case"bar":case"column":$p(t,e);break;case"area":!function(t,e){lf(t,"fill",e.fill,e),e.marker&&Qp(t.marker,e.marker);e.line&&tf(t.line,e.line);e.crosshairs&&ef(t.crosshairs,e.crosshairs)}(t,e);break;case"line":default:!function(t,e){e.marker&&Qp(t.marker,e.marker);e.line&&tf(t.line,e.line);e.crosshairs&&ef(t.crosshairs,e.crosshairs)}(t,e)}}(n,t),t.data&&(n.data=t.data),n.processedOptions=t,n},t}();function $p(t,e){lf(t,"valueAxisDomain",e.valueAxisDomain,e),lf(t,"fill",e.fill,e),lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e),lf(t,"paddingInner",e.paddingInner,e),lf(t,"paddingOuter",e.paddingOuter,e),lf(t,"formatter",e.formatter,e),e.label&&function(t,e){lf(t,"enabled",e.enabled,e),lf(t,"fontStyle",e.fontStyle,e),lf(t,"fontWeight",e.fontWeight,e),lf(t,"fontSize",e.fontSize,e),lf(t,"fontFamily",e.fontFamily,e),lf(t,"textAlign",e.textAlign,e),lf(t,"textBaseline",e.textBaseline,e),lf(t,"color",e.color,e),lf(t,"formatter",e.formatter,e),lf(t,"placement",e.placement,e)}(t.label,e.label)}function Qp(t,e){lf(t,"enabled",e.enabled,e),lf(t,"size",e.size,e),lf(t,"shape",e.shape,e),lf(t,"fill",e.fill,e),lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e),lf(t,"formatter",e.formatter,e)}function tf(t,e){lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e)}function ef(t,e){t.xLine&&e.xLine&&nf(t.xLine,e.xLine),t.yLine&&e.yLine&&nf(t.yLine,e.yLine)}function nf(t,e){lf(t,"enabled",e.enabled,e),lf(t,"stroke",e.stroke,e),lf(t,"strokeWidth",e.strokeWidth,e),lf(t,"lineDash",e.lineDash,e),lf(t,"lineCap",e.lineCap,e)}var rf={};var of=function(t,e,n){if(qp(e))return!0;var r,i,o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return r=function(){return console.warn(o)},rf[i=t+" not a number"]||(r(),rf[i]=!0),!1},af={xOffset:of,yOffset:of};function lf(t,e,n,r){if(e in r)if(e in t){var i=af[e];(!i||i(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var sf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uf=function(){return(uf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},cf=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},hf=function(t){function n(){return t.call(this,n.TEMPLATE)||this}return sf(n,t),n.prototype.init=function(t){var e=this,n=!0,r=this.resizeObserverService.observeResize(this.getGui(),(function(){var r=e.getGui(),i=r.clientWidth,o=r.clientHeight;if(0!==i&&0!==o)if(n){var a=uf({data:t.value,width:i,height:o,context:{data:t.data}},t.sparklineOptions);e.sparkline=Jp.create(a,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=i,e.sparkline.height=o}));this.addDestroyFunc((function(){return r()}))},n.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},n.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',cf([e.RefSelector("eSparkline")],n.prototype,"eSparkline",void 0),cf([e.Autowired("resizeObserverService")],n.prototype,"resizeObserverService",void 0),cf([e.Autowired("sparklineTooltipSingleton")],n.prototype,"sparklineTooltipSingleton",void 0),n}(e.Component),df=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pf=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ff=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return df(n,t),n.prototype.postConstruct=function(){this.tooltip=new mp},n.prototype.getSparklineTooltip=function(){return this.tooltip},n.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},pf([e.PostConstruct],n.prototype,"postConstruct",null),pf([e.PreDestroy],n.prototype,"destroyTooltip",null),n=pf([e.Bean("sparklineTooltipSingleton")],n)}(e.BeanStub),yf={version:"30.0.5",moduleName:e.ModuleNames.SparklinesModule,beans:[ff],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:hf}],dependantModules:[n.EnterpriseCoreModule]};exports.SparklinesModule=yf;