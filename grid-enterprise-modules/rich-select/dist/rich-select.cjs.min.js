/**
          * @ag-grid-enterprise/rich-select - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.1.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/rich-select - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.1.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("@ag-grid-community/core"),r=require("@ag-grid-enterprise/core"),i=(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),o=function(e){function r(){return e.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return i(r,e),r.prototype.init=function(e){this.params=e;var r=e.cellStartedEdit,i=e.values,o=e.cellHeight;if(t._.missing(i))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var c=this.buildRichSelectParams();this.richSelect=this.createManagedBean(new t.AgRichSelect(c)),this.appendChild(this.richSelect),this.addManagedListener(this.richSelect,t.Events.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=r,t._.exists(o)&&this.richSelect.setRowHeight(o)}},r.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},r.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},r.prototype.buildRichSelectParams=function(){var e=this,t=this.params,r=t.cellRenderer,i=t.value,o=t.values,c=t.colDef,n=t.formatValue,a=t.searchDebounceDelay,s=t.valueListGap,l={value:i,valueList:o,cellRenderer:r,searchDebounceDelay:a,valueFormatter:n,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list"};return null!=s&&(l.pickerGap=s),"object"==typeof o[0]&&c.keyCreator&&(l.searchStringCreator=function(t){return t.map((function(t){var r={value:t,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context};return c.keyCreator(r)}))}),l},r.prototype.afterGuiAttached=function(){var e=this,t=this.focusAfterAttached,r=this.params;setTimeout((function(){if(e.isAlive()){t&&e.richSelect.getFocusableElement().focus(),e.richSelect.showPicker();var i=r.eventKey;i&&1===(null==i?void 0:i.length)&&e.richSelect.searchText(i)}}))},r.prototype.getValue=function(){return this.richSelect.getValue()},r.prototype.isPopup=function(){return!1},r}(t.PopupComponent),c={version:"30.1.0",moduleName:t.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:o},{componentName:"agRichSelectCellEditor",componentClass:o}],dependantModules:[r.EnterpriseCoreModule]};exports.RichSelectModule=c;