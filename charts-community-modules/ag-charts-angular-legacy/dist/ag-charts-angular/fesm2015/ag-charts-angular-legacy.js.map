{"version":3,"file":"ag-charts-angular-legacy.js","sources":["../../../projects/ag-charts-angular/src/lib/ag-charts-angular.component.ts","../../../projects/ag-charts-angular/src/lib/ag-charts-angular.module.ts"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewEncapsulation} from \"@angular/core\";\n\nimport { AgChartInstance, AgChart, AgChartOptions } from 'ag-charts-community';\n\n// noinspection AngularIncorrectTemplateDefinition\n@Component({\n    selector: 'ag-charts-angular',\n    template: '',\n    encapsulation: ViewEncapsulation.None\n})\nexport class AgChartsAngular implements AfterViewInit {\n\n    private _nativeElement: any;\n    private _initialised = false;\n \n    public chart?: AgChartInstance;\n\n    @Input()\n    public options: AgChartOptions = {};\n\n    @Output()\n    public onChartReady: EventEmitter<AgChartInstance> = new EventEmitter();\n\n    constructor(elementDef: ElementRef) {\n        this._nativeElement = elementDef.nativeElement;\n    }\n\n    ngAfterViewInit(): void {\n        const options = this.applyContainerIfNotSet(this.options);\n\n        this.chart = AgChart.create(options);\n        this._initialised = true;\n\n        (this.chart as any).chart.waitForUpdate()\n            .then(() => {\n                this.onChartReady.emit(this.chart);\n            });\n    }\n\n    // noinspection JSUnusedGlobalSymbols,JSUnusedLocalSymbols\n    ngOnChanges(changes: any): void {\n        if (!this._initialised || !this.chart) {\n            return;\n        }\n\n        AgChart.update(this.chart, this.applyContainerIfNotSet(this.options));\n    }\n\n    public ngOnDestroy(): void {\n        if (this._initialised && this.chart) {\n            this.chart.destroy();\n            this.chart = undefined;\n            this._initialised = false;\n        }\n    }\n\n    private applyContainerIfNotSet(propsOptions: AgChartOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n\n        return {...propsOptions, container: this._nativeElement};\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { AgChartsAngular } from './ag-charts-angular.component';\n\n\n\n@NgModule({\n  declarations: [AgChartsAngular],\n  imports: [\n  ],\n  exports: [AgChartsAngular]\n})\nexport class AgChartsAngularModule { }\n"],"names":[],"mappings":";;;;;;;;;MAUa,eAAe;;;;IAaxB,YAAY,UAAsB;QAV1B,iBAAY,GAAG,KAAK,CAAC;QAKtB,YAAO,GAAmB,EAAE,CAAC;QAG7B,iBAAY,GAAkC,IAAI,YAAY,EAAE,CAAC;QAGpE,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,aAAa,CAAC;KAClD;;;;IAED,eAAe;;cACL,OAAO,GAAG,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC;QAEzD,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAEzB,oBAAC,IAAI,CAAC,KAAK,IAAS,KAAK,CAAC,aAAa,EAAE;aACpC,IAAI;;;QAAC;YACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtC,EAAC,CAAC;KACV;;;;;;IAGD,WAAW,CAAC,OAAY;QACpB,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnC,OAAO;SACV;QAED,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;KACzE;;;;IAEM,WAAW;QACd,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,EAAE;YACjC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;KACJ;;;;;;IAEO,sBAAsB,CAAC,YAA4B;QACvD,IAAI,YAAY,CAAC,SAAS,EAAE;YACxB,OAAO,YAAY,CAAC;SACvB;QAED,uCAAW,YAAY,KAAE,SAAS,EAAE,IAAI,CAAC,cAAc,IAAE;KAC5D;;;YAzDJ,SAAS,SAAC;gBACP,QAAQ,EAAE,mBAAmB;gBAC7B,QAAQ,EAAE,EAAE;gBACZ,aAAa,EAAE,iBAAiB,CAAC,IAAI;aACxC;;;;YATiC,UAAU;;;sBAiBvC,KAAK;2BAGL,MAAM;;;;;;;IARP,yCAA4B;;;;;IAC5B,uCAA6B;;IAE7B,gCAA+B;;IAE/B,kCACoC;;IAEpC,uCACwE;;;;;;;;MCV/D,qBAAqB;;;YANjC,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,eAAe,CAAC;gBAC/B,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,eAAe,CAAC;aAC3B;;;;;;;;;;;;;;;;;"}